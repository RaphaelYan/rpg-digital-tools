(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"+924":function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return a}));var r=n("9AQC");function i(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function s(t,e){var n=t,r=n.length;if(r<=150)return n;e>r&&(e=r);var i=Math.max(e-60,0);i<5&&(i=0);var s=Math.min(i+140,r);return s>r-5&&(s=r),s===r&&(i=Math.max(s-140,0)),n=n.slice(i,s),i>0&&(n="'{snip} "+n),s<r&&(n+=" {snip}"),n}function o(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var i=t[r];try{n.push(String(i))}catch(s){n.push("[value cannot be serialized]")}}return n.join(e)}function a(t,e){return!!Object(r.k)(t)&&(Object(r.j)(e)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e))}},0:function(t,e,n){t.exports=n("zUnb")},"0Sjj":function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="0Sjj"},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"4I5i":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})()},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("ZUHj"),i=n("l7GE"),s=n("51Dv"),o=n("lJxs"),a=n("Cfvw");function u(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(u((n,r)=>Object(a.a)(t(n,r)).pipe(Object(o.a)((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new c(t,n)))}class c{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new l(t,this.project,this.concurrent))}}class l extends i.a{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new s.a(this,e,n),o=this.destination;o.add(i);const a=Object(r.a)(this,t,void 0,void 0,i);a!==i&&o.add(a)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"51Dv":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("wj3C"),s=n("q/0M"),o=n("zVF4"),a=n("x7I3"),u=n("S+S0"),c=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(i),l=new s.Logger("@firebase/firestore");function h(){return l.logLevel}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=s.LogLevel.DEBUG){var i=e.map(g);l.debug.apply(l,r.__spreadArrays(["Firestore (7.19.1): "+t],i))}}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=s.LogLevel.ERROR){var i=e.map(g);l.error.apply(l,r.__spreadArrays(["Firestore (7.19.1): "+t],i))}}function p(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(l.logLevel<=s.LogLevel.WARN){var i=e.map(g);l.warn.apply(l,r.__spreadArrays(["Firestore (7.19.1): "+t],i))}}function g(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(i){return t}}function y(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.19.1) INTERNAL ASSERTION FAILED: "+t;throw d(e),new Error(e)}function m(t,e){t||y()}function v(t,e){return t}function b(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var _=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=b(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function w(t,e){return t<e?-1:t>e?1:0}function E(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function S(t){return t+"\0"}var O=function(t,e,n,r,i){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},x=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"i",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.o=function(t){return w(this.projectId,t.projectId)||w(this.database,t.database)},t}();function T(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function I(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function C(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var k=function(){function t(t,e){this.h=t,this.u=e,this.l={}}return t.prototype.get=function(t){var e=this.h(t),n=this.l[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.u(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),r=this.l[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.u(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.l[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this.l[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.u(n[r][0],t))return 1===n.length?delete this.l[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){I(this.l,(function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}}))},t.prototype._=function(){return C(this.l)},t}(),A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return r.__extends(e,t),e}(Error),N=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new j(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new j(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new j(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new j(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.T=function(t){return this.seconds===t.seconds?w(this.nanoseconds,t.nanoseconds):w(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),P=function(){function t(t){this.timestamp=t}return t.I=function(e){return new t(e)},t.min=function(){return new t(new N(0,0))},t.prototype.o=function(t){return this.timestamp.T(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.m=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.A=function(){return this.timestamp},t}(),R=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&y(),void 0===n?n=t.length-e:n>t.length-e&&y(),this.segments=t,this.offset=e,this.R=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.R},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.P(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.g(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.V=function(t){return this.g(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.p=function(){return this.g(this.segments,this.offset,this.length-1)},t.prototype.v=function(){return this.segments[this.offset]},t.prototype.S=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype._=function(){return 0===this.length},t.prototype.D=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.C=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.N=function(){return this.segments.slice(this.offset,this.limit())},t.P=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),D=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.g=function(t,n,r){return new e(t,n,r)},e.prototype.F=function(){return this.N().join("/")},e.prototype.toString=function(){return this.F()},e.k=function(t){if(t.indexOf("//")>=0)throw new j(A.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.$=function(){return new e([])},e}(R),L=/^[_a-zA-Z][_a-zA-Z0-9]*$/,M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.g=function(t,n,r){return new e(t,n,r)},e.O=function(t){return L.test(t)},e.prototype.F=function(){return this.N().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.O(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.F()},e.prototype.M=function(){return 1===this.length&&"__name__"===this.get(0)},e.L=function(){return new e(["__name__"])},e.q=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new j(A.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new j(A.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new j(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new j(A.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.$=function(){return new e([])},e}(R),F=function(){function t(t){this.path=t}return t.B=function(e){return new t(D.k(e))},t.U=function(e){return new t(D.k(e).V(5))},t.prototype.W=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===D.P(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.P=function(t,e){return D.P(t.path,e.path)},t.j=function(t){return t.length%2==0},t.K=function(e){return new t(new D(e.slice()))},t}();function U(t){return null==t}function V(t){return-0===t&&1/t==-1/0}function q(t){return"number"==typeof t&&Number.isInteger(t)&&!V(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var H=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.G=null};function B(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new H(t,e,n,r,i,s,o)}function z(t){var e=v(t);if(null===e.G){var n=e.path.F();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.F()+t.op.toString()+Dt(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.F()+e.dir;var e})).join(","),U(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Rn(e.startAt)),e.endAt&&(n+="|ub:",n+=Rn(e.endAt)),e.G=n}return e.G}function $(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Un(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!jt(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ln(t.startAt,e.startAt)&&Ln(t.endAt,e.endAt)}function W(t){return F.j(t.path)&&null===t.collectionGroup&&0===t.filters.length}var G=function(){function t(t){this.H=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.H)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.H)},t.prototype.Y=function(){return 2*this.H.length},t.prototype.o=function(t){return w(this.H,t.H)},t.prototype.isEqual=function(t){return this.H===t.H},t}();G.J=new G("");var Q,K,Y=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=P.min()),void 0===s&&(s=P.min()),void 0===o&&(o=G.J),this.target=t,this.targetId=e,this.X=n,this.sequenceNumber=r,this.Z=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.tt=function(e){return new t(this.target,this.targetId,this.X,e,this.Z,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.et=function(e,n){return new t(this.target,this.targetId,this.X,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.nt=function(e){return new t(this.target,this.targetId,this.X,this.sequenceNumber,this.Z,e,this.resumeToken)},t}(),X=function(t){this.count=t};function Z(t){switch(t){case A.OK:return y();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0;default:return y()}}function J(t){if(void 0===t)return d("GRPC error has no .code"),A.UNKNOWN;switch(t){case Q.OK:return A.OK;case Q.CANCELLED:return A.CANCELLED;case Q.UNKNOWN:return A.UNKNOWN;case Q.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case Q.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case Q.INTERNAL:return A.INTERNAL;case Q.UNAVAILABLE:return A.UNAVAILABLE;case Q.UNAUTHENTICATED:return A.UNAUTHENTICATED;case Q.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case Q.NOT_FOUND:return A.NOT_FOUND;case Q.ALREADY_EXISTS:return A.ALREADY_EXISTS;case Q.PERMISSION_DENIED:return A.PERMISSION_DENIED;case Q.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case Q.ABORTED:return A.ABORTED;case Q.OUT_OF_RANGE:return A.OUT_OF_RANGE;case Q.UNIMPLEMENTED:return A.UNIMPLEMENTED;case Q.DATA_LOSS:return A.DATA_LOSS;default:return y()}}(K=Q||(Q={}))[K.OK=0]="OK",K[K.CANCELLED=1]="CANCELLED",K[K.UNKNOWN=2]="UNKNOWN",K[K.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",K[K.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",K[K.NOT_FOUND=5]="NOT_FOUND",K[K.ALREADY_EXISTS=6]="ALREADY_EXISTS",K[K.PERMISSION_DENIED=7]="PERMISSION_DENIED",K[K.UNAUTHENTICATED=16]="UNAUTHENTICATED",K[K.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",K[K.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",K[K.ABORTED=10]="ABORTED",K[K.OUT_OF_RANGE=11]="OUT_OF_RANGE",K[K.UNIMPLEMENTED=12]="UNIMPLEMENTED",K[K.INTERNAL=13]="INTERNAL",K[K.UNAVAILABLE=14]="UNAVAILABLE",K[K.DATA_LOSS=15]="DATA_LOSS";var tt=function(){function t(t,e){this.P=t,this.root=e||nt.EMPTY}return t.prototype.st=function(e,n){return new t(this.P,this.root.st(e,n,this.P).copy(null,null,nt.it,null,null))},t.prototype.remove=function(e){return new t(this.P,this.root.remove(e,this.P).copy(null,null,nt.it,null,null))},t.prototype.get=function(t){for(var e=this.root;!e._();){var n=this.P(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n._();){var r=this.P(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype._=function(){return this.root._()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.rt=function(){return this.root.rt()},t.prototype.ot=function(){return this.root.ot()},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.forEach=function(t){this.ht((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ht((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.at=function(t){return this.root.at(t)},t.prototype.ut=function(){return new et(this.root,null,this.P,!1)},t.prototype.ct=function(t){return new et(this.root,t,this.P,!1)},t.prototype.lt=function(){return new et(this.root,null,this.P,!0)},t.prototype._t=function(t){return new et(this.root,t,this.P,!0)},t}(),et=function(){function t(t,e,n,r){this.ft=r,this.dt=[];for(var i=1;!t._();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ft?t.left:t.right;else{if(0===i){this.dt.push(t);break}this.dt.push(t),t=this.ft?t.right:t.left}}return t.prototype.wt=function(){var t=this.dt.pop(),e={key:t.key,value:t.value};if(this.ft)for(t=t.left;!t._();)this.dt.push(t),t=t.right;else for(t=t.right;!t._();)this.dt.push(t),t=t.left;return e},t.prototype.Tt=function(){return this.dt.length>0},t.prototype.Et=function(){if(0===this.dt.length)return null;var t=this.dt[this.dt.length-1];return{key:t.key,value:t.value}},t}(),nt=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype._=function(){return!1},t.prototype.ht=function(t){return this.left.ht(t)||t(this.key,this.value)||this.right.ht(t)},t.prototype.at=function(t){return this.right.at(t)||t(this.key,this.value)||this.left.at(t)},t.prototype.min=function(){return this.left._()?this:this.left.min()},t.prototype.rt=function(){return this.min().key},t.prototype.ot=function(){return this.right._()?this.key:this.right.ot()},t.prototype.st=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.st(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.st(t,e,n))).It()},t.prototype.At=function(){if(this.left._())return t.EMPTY;var e=this;return e.left.Rt()||e.left.left.Rt()||(e=e.Pt()),(e=e.copy(null,null,null,e.left.At(),null)).It()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left._()||i.left.Rt()||i.left.left.Rt()||(i=i.Pt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.Rt()&&(i=i.gt()),i.right._()||i.right.Rt()||i.right.left.Rt()||(i=i.Vt()),0===n(e,i.key)){if(i.right._())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.At())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.It()},t.prototype.Rt=function(){return this.color},t.prototype.It=function(){var t=this;return t.right.Rt()&&!t.left.Rt()&&(t=t.yt()),t.left.Rt()&&t.left.left.Rt()&&(t=t.gt()),t.left.Rt()&&t.right.Rt()&&(t=t.pt()),t},t.prototype.Pt=function(){var t=this.pt();return t.right.left.Rt()&&(t=(t=(t=t.copy(null,null,null,null,t.right.gt())).yt()).pt()),t},t.prototype.Vt=function(){var t=this.pt();return t.left.left.Rt()&&(t=(t=t.gt()).pt()),t},t.prototype.yt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.gt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.pt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.bt=function(){var t=this.vt();return Math.pow(2,t)<=this.size+1},t.prototype.vt=function(){if(this.Rt()&&this.left.Rt())throw y();if(this.right.Rt())throw y();var t=this.left.vt();if(t!==this.right.vt())throw y();return t+(this.Rt()?0:1)},t}();nt.EMPTY=null,nt.RED=!0,nt.it=!1,nt.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw y()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw y()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.st=function(t,e,n){return new nt(t,e)},t.prototype.remove=function(t,e){return this},t.prototype._=function(){return!0},t.prototype.ht=function(t){return!1},t.prototype.at=function(t){return!1},t.prototype.rt=function(){return null},t.prototype.ot=function(){return null},t.prototype.Rt=function(){return!1},t.prototype.bt=function(){return!0},t.prototype.vt=function(){return 0},t}());var rt=function(){function t(t){this.P=t,this.data=new tt(this.P)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.rt()},t.prototype.last=function(){return this.data.ot()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ht((function(e,n){return t(e),!1}))},t.prototype.St=function(t,e){for(var n=this.data.ct(t[0]);n.Tt();){var r=n.wt();if(this.P(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Dt=function(t,e){var n;for(n=void 0!==e?this.data.ct(e):this.data.ut();n.Tt();)if(!t(n.wt().key))return},t.prototype.Ct=function(t){var e=this.data.ct(t);return e.Tt()?e.wt().key:null},t.prototype.ut=function(){return new it(this.data.ut())},t.prototype.ct=function(t){return new it(this.data.ct(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).st(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype._=function(){return this.data._()},t.prototype.Nt=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ut(),r=e.data.ut();n.Tt();){var i=n.wt().key,s=r.wt().key;if(0!==this.P(i,s))return!1}return!0},t.prototype.N=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.P);return n.data=e,n},t}(),it=function(){function t(t){this.Ft=t}return t.prototype.wt=function(){return this.Ft.wt().key},t.prototype.Tt=function(){return this.Ft.Tt()},t}(),st=new tt(F.P);function ot(){return st}function at(){return ot()}var ut=new tt(F.P);function ct(){return ut}var lt=new tt(F.P),ht=new rt(F.P);function ft(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=ht,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var dt=new rt(w);function pt(){return dt}var gt=function(){function t(t){this.P=t?function(e,n){return t(e,n)||F.P(e.key,n.key)}:function(t,e){return F.P(t.key,e.key)},this.kt=ct(),this.$t=new tt(this.P)}return t.xt=function(e){return new t(e.P)},t.prototype.has=function(t){return null!=this.kt.get(t)},t.prototype.get=function(t){return this.kt.get(t)},t.prototype.first=function(){return this.$t.rt()},t.prototype.last=function(){return this.$t.ot()},t.prototype._=function(){return this.$t._()},t.prototype.indexOf=function(t){var e=this.kt.get(t);return e?this.$t.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.$t.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.$t.ht((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.kt.st(t.key,t),e.$t.st(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.kt.remove(t),this.$t.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.$t.ut(),r=e.$t.ut();n.Tt();){var i=n.wt().key,s=r.wt().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.P=this.P,r.kt=e,r.$t=n,r},t}(),yt=function(){function t(){this.Ot=new tt(F.P)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Ot.get(e);n?0!==t.type&&3===n.type?this.Ot=this.Ot.st(e,t):3===t.type&&1!==n.type?this.Ot=this.Ot.st(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Ot=this.Ot.st(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Ot=this.Ot.st(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Ot=this.Ot.remove(e):1===t.type&&2===n.type?this.Ot=this.Ot.st(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Ot=this.Ot.st(e,{type:2,doc:t.doc}):y():this.Ot=this.Ot.st(e,t)},t.prototype.Mt=function(){var t=[];return this.Ot.ht((function(e,n){t.push(n)})),t},t}(),mt=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.Lt=n,this.docChanges=r,this.qt=i,this.fromCache=s,this.Bt=o,this.Ut=a}return t.Qt=function(e,n,r,i){var s=[];return n.forEach((function(t){s.push({type:0,doc:t})})),new t(e,n,gt.xt(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.qt._()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Bt===t.Bt&&this.qt.isEqual(t.qt)&&bn(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Lt.isEqual(t.Lt)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),vt=function(){function t(t,e,n,r,i){this.Z=t,this.Wt=e,this.jt=n,this.Kt=r,this.Gt=i}return t.zt=function(e,n){var r=new Map;return r.set(e,bt.Ht(e,n)),new t(P.min(),r,pt(),ot(),ft())},t}(),bt=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Yt=e,this.Jt=n,this.Xt=r,this.Zt=i}return t.Ht=function(e,n){return new t(G.J,n,ft(),ft(),ft())},t}(),_t=function(t,e,n,r){this.te=t,this.removedTargetIds=e,this.key=n,this.ee=r},wt=function(t,e){this.targetId=t,this.ne=e},Et=function(t,e,n,r){void 0===n&&(n=G.J),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},St=function(){function t(){this.se=0,this.ie=Tt(),this.re=G.J,this.oe=!1,this.he=!0}return Object.defineProperty(t.prototype,"Yt",{get:function(){return this.oe},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ae",{get:function(){return 0!==this.se},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ue",{get:function(){return this.he},enumerable:!1,configurable:!0}),t.prototype.ce=function(t){t.Y()>0&&(this.he=!0,this.re=t)},t.prototype.le=function(){var t=ft(),e=ft(),n=ft();return this.ie.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:y()}})),new bt(this.re,this.oe,t,e,n)},t.prototype._e=function(){this.he=!1,this.ie=Tt()},t.prototype.fe=function(t,e){this.he=!0,this.ie=this.ie.st(t,e)},t.prototype.de=function(t){this.he=!0,this.ie=this.ie.remove(t)},t.prototype.we=function(){this.se+=1},t.prototype.Te=function(){this.se-=1},t.prototype.Ee=function(){this.he=!0,this.oe=!0},t}(),Ot=function(){function t(t){this.Ie=t,this.me=new Map,this.Ae=ot(),this.Re=xt(),this.Pe=new rt(w)}return t.prototype.ge=function(t){for(var e=0,n=t.te;e<n.length;e++){var r=n[e];t.ee instanceof on?this.Ve(r,t.ee):t.ee instanceof an&&this.ye(r,t.key,t.ee)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.ye(s[i],t.key,t.ee)},t.prototype.pe=function(t){var e=this;this.be(t,(function(n){var r=e.ve(n);switch(t.state){case 0:e.Se(n)&&r.ce(t.resumeToken);break;case 1:r.Te(),r.ae||r._e(),r.ce(t.resumeToken);break;case 2:r.Te(),r.ae||e.removeTarget(n);break;case 3:e.Se(n)&&(r.Ee(),r.ce(t.resumeToken));break;case 4:e.Se(n)&&(e.De(n),r.ce(t.resumeToken));break;default:y()}}))},t.prototype.be=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.me.forEach((function(t,r){n.Se(r)&&e(r)}))},t.prototype.Ce=function(t){var e=t.targetId,n=t.ne.count,r=this.Ne(e);if(r){var i=r.target;if(W(i))if(0===n){var s=new F(i.path);this.ye(e,s,new an(s,P.min()))}else m(1===n);else this.Fe(e)!==n&&(this.De(e),this.Pe=this.Pe.add(e))}},t.prototype.ke=function(t){var e=this,n=new Map;this.me.forEach((function(r,i){var s=e.Ne(i);if(s){if(r.Yt&&W(s.target)){var o=new F(s.target.path);null!==e.Ae.get(o)||e.$e(i,o)||e.ye(i,o,new an(o,t))}r.ue&&(n.set(i,r.le()),r._e())}}));var r=ft();this.Re.forEach((function(t,n){var i=!0;n.Dt((function(t){var n=e.Ne(t);return!n||2===n.X||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new vt(t,n,this.Pe,this.Ae,r);return this.Ae=ot(),this.Re=xt(),this.Pe=new rt(w),i},t.prototype.Ve=function(t,e){if(this.Se(t)){var n=this.$e(t,e.key)?2:0;this.ve(t).fe(e.key,n),this.Ae=this.Ae.st(e.key,e),this.Re=this.Re.st(e.key,this.xe(e.key).add(t))}},t.prototype.ye=function(t,e,n){if(this.Se(t)){var r=this.ve(t);this.$e(t,e)?r.fe(e,1):r.de(e),this.Re=this.Re.st(e,this.xe(e).delete(t)),n&&(this.Ae=this.Ae.st(e,n))}},t.prototype.removeTarget=function(t){this.me.delete(t)},t.prototype.Fe=function(t){var e=this.ve(t).le();return this.Ie.Oe(t).size+e.Jt.size-e.Zt.size},t.prototype.we=function(t){this.ve(t).we()},t.prototype.ve=function(t){var e=this.me.get(t);return e||(e=new St,this.me.set(t,e)),e},t.prototype.xe=function(t){var e=this.Re.get(t);return e||(e=new rt(w),this.Re=this.Re.st(t,e)),e},t.prototype.Se=function(t){var e=null!==this.Ne(t);return e||f("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ne=function(t){var e=this.me.get(t);return e&&e.ae?null:this.Ie.Me(t)},t.prototype.De=function(t){var e=this;this.me.set(t,new St),this.Ie.Oe(t).forEach((function(n){e.ye(t,n,null)}))},t.prototype.$e=function(t,e){return this.Ie.Oe(t).has(e)},t}();function xt(){return new tt(F.P)}function Tt(){return new tt(F.P)}function It(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ct(t){var e=Lt(t.mapValue.fields.__local_write_time__.timestampValue);return new N(e.seconds,e.nanos)}var kt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function At(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?It(t)?4:10:y()}function jt(t,e){var n=At(t);if(n!==At(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ct(t).isEqual(Ct(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Lt(t.timestampValue),r=Lt(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Ft(t.bytesValue).isEqual(Ft(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Mt(t.geoPointValue.latitude)===Mt(e.geoPointValue.latitude)&&Mt(t.geoPointValue.longitude)===Mt(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Mt(t.integerValue)===Mt(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Mt(t.doubleValue),r=Mt(e.doubleValue);return n===r?V(n)===V(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return E(t.arrayValue.values||[],e.arrayValue.values||[],jt);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(T(n)!==T(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!jt(n[i],r[i])))return!1;return!0}(t,e);default:return y()}}function Nt(t,e){return void 0!==(t.values||[]).find((function(t){return jt(t,e)}))}function Pt(t,e){var n=At(t),r=At(e);if(n!==r)return w(n,r);switch(n){case 0:return 0;case 1:return w(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Mt(t.integerValue||t.doubleValue),r=Mt(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Rt(t.timestampValue,e.timestampValue);case 4:return Rt(Ct(t),Ct(e));case 5:return w(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Ft(t),r=Ft(e);return n.o(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=w(n[i],r[i]);if(0!==s)return s}return w(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=w(Mt(t.latitude),Mt(e.latitude));return 0!==n?n:w(Mt(t.longitude),Mt(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=Pt(n[i],r[i]);if(s)return s}return w(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=w(r[o],s[o]);if(0!==a)return a;var u=Pt(n[r[o]],i[s[o]]);if(0!==u)return u}return w(r.length,s.length)}(t.mapValue,e.mapValue);default:throw y()}}function Rt(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return w(t,e);var n=Lt(t),r=Lt(e),i=w(n.seconds,r.seconds);return 0!==i?i:w(n.nanos,r.nanos)}function Dt(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=Lt(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Ft(e.bytesValue).toBase64():"referenceValue"in e?F.U(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,s=e.values||[];i<s.length;i++)r?r=!1:n+=",",n+=t(s[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,s=Object.keys(e.fields||{}).sort();i<s.length;i++){var o=s[i];r?r=!1:n+=",",n+=o+":"+t(e.fields[o])}return n+"}"}(e.mapValue):y();var n}(t)}function Lt(t){if(m(!!t),"string"==typeof t){var e=0,n=kt.exec(t);if(m(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ft(t){return"string"==typeof t?G.fromBase64String(t):G.fromUint8Array(t)}function Ut(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.F()}}function Vt(t){return!!t&&"integerValue"in t}function qt(t){return!!t&&"arrayValue"in t}function Ht(t){return!!t&&"nullValue"in t}function Bt(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zt(t){return!!t&&"mapValue"in t}var $t={asc:"ASCENDING",desc:"DESCENDING"},Wt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gt=function(t,e){this.s=t,this.Le=e};function Qt(t){return{integerValue:""+t}}function Kt(t,e){if(t.Le){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:V(e)?"-0":e}}function Yt(t,e){return q(e)?Qt(e):Kt(t,e)}function Xt(t,e){return t.Le?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zt(t,e){return t.Le?e.toBase64():e.toUint8Array()}function Jt(t,e){return Xt(t,e.A())}function te(t){return m(!!t),P.I(function(t){var e=Lt(t);return new N(e.seconds,e.nanos)}(t))}function ee(t,e){return function(t){return new D(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).F()}function ne(t){var e=D.k(t);return m(Se(e)),e}function re(t,e){return ee(t.s,e.path)}function ie(t,e){var n=ne(e);return m(n.get(1)===t.s.projectId),m(!n.get(3)&&!t.s.database||n.get(3)===t.s.database),new F(ue(n))}function se(t,e){return ee(t.s,e)}function oe(t){var e=ne(t);return 4===e.length?D.$():ue(e)}function ae(t){return new D(["projects",t.s.projectId,"databases",t.s.database]).F()}function ue(t){return m(t.length>4&&"documents"===t.get(4)),t.V(5)}function ce(t,e,n){return{name:re(t,e),fields:n.proto.mapValue.fields}}function le(t,e){var n;if(e instanceof Ge)n={update:ce(t,e.key,e.value)};else if(e instanceof Je)n={delete:re(t,e.key)};else if(e instanceof Qe)n={update:ce(t,e.key,e.data),updateMask:Ee(e.qe)};else if(e instanceof Ye)n={transform:{document:re(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Ce)return{fieldPath:e.field.F(),setToServerValue:"REQUEST_TIME"};if(n instanceof ke)return{fieldPath:e.field.F(),appendMissingElements:{values:n.elements}};if(n instanceof je)return{fieldPath:e.field.F(),removeAllFromArray:{values:n.elements}};if(n instanceof Pe)return{fieldPath:e.field.F(),increment:n.Be};throw y()}(0,t)}))}};else{if(!(e instanceof tn))return y();n={verify:re(t,e.key)}}return e.Qe.Ue||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Jt(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:y()}(t,e.Qe)),n}function he(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ue.updateTime(te(t.updateTime)):void 0!==t.exists?Ue.exists(t.exists):Ue.We()}(e.currentDocument):Ue.We();if(e.update){var r=ie(t,e.update.name),i=new en({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new Le((t.fieldPaths||[]).map((function(t){return M.q(t)})))}(e.updateMask);return new Qe(r,i,s,n)}return new Ge(r,i,n)}if(e.delete){var o=ie(t,e.delete);return new Je(o,n)}if(e.transform){var a=ie(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(m("REQUEST_TIME"===e.setToServerValue),n=new Ce):"appendMissingElements"in e?n=new ke(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new je(e.removeAllFromArray.values||[]):"increment"in e?n=new Pe(t,e.increment):y();var r=M.q(e.fieldPath);return new Me(r,n)}(t,e)}));return m(!0===n.exists),new Ye(a,u)}if(e.verify){var c=ie(t,e.verify);return new tn(c,n)}return y()}function fe(t,e){return{documents:[se(t,e.path)]}}function de(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=se(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=se(t,r.p()),n.structuredQuery.from=[{collectionId:r.S()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Bt(t.value))return{unaryFilter:{field:ve(t.field),op:"IS_NAN"}};if(Ht(t.value))return{unaryFilter:{field:ve(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Bt(t.value))return{unaryFilter:{field:ve(t.field),op:"IS_NOT_NAN"}};if(Ht(t.value))return{unaryFilter:{field:ve(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ve(t.field),op:me(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:ve(t.field),direction:ye(t.dir)}}(t)}))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.Le||U(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=pe(e.startAt)),e.endAt&&(n.structuredQuery.endAt=pe(e.endAt)),n}function pe(t){return{before:t.before,values:t.position}}function ge(t){return new Pn(t.values||[],!!t.before)}function ye(t){return $t[t]}function me(t){return Wt[t]}function ve(t){return{fieldPath:t.F()}}function be(t){return M.q(t.fieldPath)}function _e(t){return On.create(be(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return y()}}(t.fieldFilter.op),t.fieldFilter.value)}function we(t){switch(t.unaryFilter.op){case"IS_NAN":var e=be(t.unaryFilter.field);return On.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=be(t.unaryFilter.field);return On.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=be(t.unaryFilter.field);return On.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=be(t.unaryFilter.field);return On.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return y()}}function Ee(t){var e=[];return t.fields.forEach((function(t){return e.push(t.F())})),{fieldPaths:e}}function Se(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Oe=function(){this.je=void 0};function xe(t,e,n){return t instanceof Ce?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ke?Ae(t,e):t instanceof je?Ne(t,e):function(t,e){var n=Ie(t,e),r=Re(n)+Re(t.Be);return Vt(n)&&Vt(t.Be)?Qt(r):Kt(t.serializer,r)}(t,e)}function Te(t,e,n){return t instanceof ke?Ae(t,e):t instanceof je?Ne(t,e):n}function Ie(t,e){return t instanceof Pe?Vt(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Ce=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e}(Oe),ke=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Oe);function Ae(t,e){for(var n=De(e),r=function(t){n.some((function(e){return jt(e,t)}))||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var je=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return r.__extends(e,t),e}(Oe);function Ne(t,e){for(var n=De(e),r=function(t){n=n.filter((function(e){return!jt(e,t)}))},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var Pe=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.Be=n,r}return r.__extends(e,t),e}(Oe);function Re(t){return Mt(t.integerValue||t.doubleValue)}function De(t){return qt(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Le=function(){function t(t){this.fields=t,t.sort(M.P)}return t.prototype.Ke=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].D(t))return!0;return!1},t.prototype.isEqual=function(t){return E(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Me=function(t,e){this.field=t,this.transform=e},Fe=function(t,e){this.version=t,this.transformResults=e},Ue=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.We=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Ue",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ve(t,e){return void 0!==t.updateTime?e instanceof on&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof on}var qe=function(){};function He(t,e,n){return t instanceof Ge?function(t,e,n){return new on(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Qe?function(t,e,n){if(!Ve(t.Qe,e))return new un(t.key,n.version);var r=Ke(t,e);return new on(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ye?function(t,e,n){if(m(null!=n.transformResults),!Ve(t.Qe,e))return new un(t.key,n.version);var r=Xe(0,e),i=function(t,e,n){var r=[];m(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof on&&(a=e.field(s.field)),r.push(Te(o,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),s=n.version,o=Ze(t,r.data(),i);return new on(t.key,s,o,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new an(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Be(t,e,n,r){return t instanceof Ge?function(t,e){if(!Ve(t.Qe,e))return e;var n=We(e);return new on(t.key,n,t.value,{Ge:!0})}(t,e):t instanceof Qe?function(t,e){if(!Ve(t.Qe,e))return e;var n=We(e),r=Ke(t,e);return new on(t.key,n,r,{Ge:!0})}(t,e):t instanceof Ye?function(t,e,n,r){if(!Ve(t.Qe,e))return e;var i=Xe(0,e),s=function(t,e,n,r){for(var i=[],s=0,o=t;s<o.length;s++){var a=o[s],u=a.transform,c=null;n instanceof on&&(c=n.field(a.field)),null===c&&r instanceof on&&(c=r.field(a.field)),i.push(xe(u,c,e))}return i}(t.fieldTransforms,n,e,r),o=Ze(t,i.data(),s);return new on(t.key,i.version,o,{Ge:!0})}(t,e,r,n):function(t,e){return Ve(t.Qe,e)?new an(t.key,P.min()):e}(t,e)}function ze(t,e){return t instanceof Ye?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var s=i[r],o=e instanceof on?e.field(s.field):void 0,a=Ie(s.transform,o||null);null!=a&&(n=null==n?(new nn).set(s.field,a):n.set(s.field,a))}return n?n.ze():null}(t,e):null}function $e(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Qe.isEqual(e.Qe)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.qe.isEqual(e.qe):2!==t.type||E(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ke&&e instanceof ke||t instanceof je&&e instanceof je?E(t.elements,e.elements,jt):t instanceof Pe&&e instanceof Pe?jt(t.Be,e.Be):t instanceof Ce&&e instanceof Ce}(t.transform,e.transform)}(t,e)})))}function We(t){return t instanceof on?t.version:P.min()}var Ge=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Qe=r,i.type=0,i}return r.__extends(e,t),e}(qe),Qe=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.qe=r,s.Qe=i,s.type=1,s}return r.__extends(e,t),e}(qe);function Ke(t,e){return function(t,e){var n=new nn(e);return t.qe.fields.forEach((function(e){if(!e._()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.ze()}(t,e instanceof on?e.data():en.empty())}var Ye=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Qe=Ue.exists(!0),r}return r.__extends(e,t),e}(qe);function Xe(t,e){return e}function Ze(t,e,n){for(var r=new nn(e),i=0;i<t.fieldTransforms.length;i++)r.set(t.fieldTransforms[i].field,n[i]);return r.ze()}var Je=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Qe=n,r.type=3,r}return r.__extends(e,t),e}(qe),tn=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Qe=n,r.type=4,r}return r.__extends(e,t),e}(qe),en=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t._())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!zt(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.S()])||null},t.prototype.isEqual=function(t){return jt(this.proto,t.proto)},t}(),nn=function(){function t(t){void 0===t&&(t=en.empty()),this.He=t,this.Ye=new Map}return t.prototype.set=function(t,e){return this.Je(t,e),this},t.prototype.delete=function(t){return this.Je(t,null),this},t.prototype.Je=function(t,e){for(var n=this.Ye,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===At(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.S(),e)},t.prototype.ze=function(){var t=this.Xe(M.$(),this.Ye);return null!=t?new en(t):this.He},t.prototype.Xe=function(t,e){var n=this,r=!1,i=this.He.field(t),s=zt(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var o=n.Xe(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)})),r?{mapValue:{fields:s}}:null},t}();function rn(t){var e=[];return I(t.fields||{},(function(t,n){var r=new M([t]);if(zt(n)){var i=rn(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)})),new Le(e)}var sn=function(t,e){this.key=t,this.version=e},on=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).Ze=r,s.Ge=!!i.Ge,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return r.__extends(e,t),e.prototype.field=function(t){return this.Ze.field(t)},e.prototype.data=function(){return this.Ze},e.prototype.tn=function(){return this.Ze.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ge===t.Ge&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Ze.isEqual(t.Ze)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Ze.toString()+", {hasLocalMutations: "+this.Ge+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ge||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(sn),an=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return r.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(sn),un=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(sn);function cn(t,e){if(!(t instanceof e))throw new j(A.INVALID_ARGUMENT,e.name===t.constructor.name?"Type does not match the expected instance. Did you pass '"+e.name+"' from a different Firestore SDK?":"Expected type '"+e.name+"', but was '"+t.constructor.name+"'");return t}var ln=function(){function t(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.en=n,this.filters=r,this.limit=i,this.nn=s,this.startAt=o,this.endAt=a,this.sn=null,this.rn=null}return t.prototype.on=function(e){return new t(e,null,this.en.slice(),this.filters.slice(),this.limit,this.nn,this.startAt,this.endAt)},t.prototype.hn=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.en.length||1===this.en.length&&this.en[0].field.M())},t.prototype.an=function(){return!U(this.limit)&&"F"===this.nn},t.prototype.un=function(){return!U(this.limit)&&"L"===this.nn},t.prototype.cn=function(){return this.en.length>0?this.en[0].field:null},t.prototype.ln=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n._n())return n.field}return null},t.prototype.fn=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(t.indexOf(r.op)>=0)return r.op}return null},t}();function hn(t,e,n,r,i,s,o,a){return new ln(t,e,n,r,i,s,o,a)}function fn(t){return new ln(t)}function dn(t){return null!==t.collectionGroup}function pn(t){var e=cn(t,ln);if(null===e.sn){e.sn=[];var n=e.ln(),r=e.cn();if(null!==n&&null===r)n.M()||e.sn.push(new Mn(n)),e.sn.push(new Mn(M.L(),"asc"));else{for(var i=!1,s=0,o=e.en;s<o.length;s++){var a=o[s];e.sn.push(a),a.field.M()&&(i=!0)}if(!i){var u=e.en.length>0?e.en[e.en.length-1].dir:"asc";e.sn.push(new Mn(M.L(),u))}}}return e.sn}function gn(t){var e=cn(t,ln);if(!e.rn)if("F"===e.nn)e.rn=B(e.path,e.collectionGroup,pn(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=pn(e);r<i.length;r++){var s=i[r];n.push(new Mn(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Pn(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Pn(e.startAt.position,!e.startAt.before):null;e.rn=B(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.rn}function yn(t,e,n){return new ln(t.path,t.collectionGroup,t.en.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mn(t,e){return new ln(t.path,t.collectionGroup,t.en.slice(),t.filters.slice(),t.limit,t.nn,e,t.endAt)}function vn(t,e){return new ln(t.path,t.collectionGroup,t.en.slice(),t.filters.slice(),t.limit,t.nn,t.startAt,e)}function bn(t,e){return $(gn(t),gn(e))&&t.nn===e.nn}function _n(t){return z(gn(t))+"|lt:"+t.nn}function wn(t){return"Query(target="+function(t){var e=t.path.F();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.F()+" "+e.op+" "+Dt(e.value);var e})).join(", ")+"]"),U(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.F()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Rn(t.startAt)),t.endAt&&(e+=", endAt: "+Rn(t.endAt)),"Target("+e+")"}(gn(t))+"; limitType="+t.nn+")"}function En(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.W(t.collectionGroup)&&t.path.D(n):F.j(t.path)?t.path.isEqual(n):t.path.C(n)}(t,e)&&function(t,e){for(var n=0,r=t.en;n<r.length;n++){var i=r[n];if(!i.field.M()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Dn(t.startAt,pn(t),e)||t.endAt&&Dn(t.endAt,pn(t),e))}(t,e)}function Sn(t){return function(e,n){for(var r=!1,i=0,s=pn(t);i<s.length;i++){var o=s[i],a=Fn(o,e,n);if(0!==a)return a;r=r||o.field.M()}return 0}}var On=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return r.__extends(e,t),e.create=function(t,n,r){if(t.M())return"in"===n||"not-in"===n?this.dn(t,n,r):new xn(t,n,r);if(Ht(r)){if("=="!==n&&"!="!==n)throw new j(A.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(Bt(r)){if("=="!==n&&"!="!==n)throw new j(A.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return"array-contains"===n?new kn(t,r):"in"===n?new An(t,r):"not-in"===n?new jn(t,r):"array-contains-any"===n?new Nn(t,r):new e(t,n,r)},e.dn=function(t,e,n){return"in"===e?new Tn(t,n):new In(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.wn(Pt(e,this.value)):null!==e&&At(this.value)===At(e)&&this.wn(Pt(e,this.value))},e.prototype.wn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return y()}},e.prototype._n=function(){return["<","<=",">",">=","!="].indexOf(this.op)>=0},e}((function(){})),xn=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=F.U(r.referenceValue),i}return r.__extends(e,t),e.prototype.matches=function(t){var e=F.P(t.key,this.key);return this.wn(e)},e}(On),Tn=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Cn(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(On),In=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Cn(0,n),r}return r.__extends(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(On);function Cn(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return F.U(t.referenceValue)}))}var kn=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return qt(e)&&Nt(e.arrayValue,this.value)},e}(On),An=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Nt(this.value.arrayValue,e)},e}(On),jn=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&!Nt(this.value.arrayValue,e)},e}(On),Nn=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return r.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!qt(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Nt(e.value.arrayValue,t)}))},e}(On),Pn=function(t,e){this.position=t,this.before=e};function Rn(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Dt(t)})).join(",")}function Dn(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.M()?F.P(F.U(o.referenceValue),n.key):Pt(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ln(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!jt(t.position[n],e.position[n]))return!1;return!0}var Mn=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Fn(t,e,n){var r=t.field.M()?F.P(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Pt(r,i):y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return y()}}function Un(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Vn=function(){function t(t,e,n,r){this.batchId=t,this.Tn=e,this.baseMutations=n,this.mutations=r}return t.prototype.En=function(t,e,n){for(var r=n.In,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=He(s,e,r[i]))}return e},t.prototype.mn=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=Be(i,e,e,this.Tn))}for(var s=e,o=0,a=this.mutations;o<a.length;o++){var u=a[o];u.key.isEqual(t)&&(e=Be(u,e,s,this.Tn))}return e},t.prototype.An=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.mn(r.key,t.get(r.key));i&&(n=n.st(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ft())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&E(this.mutations,t.mutations,(function(t,e){return $e(t,e)}))&&E(this.baseMutations,t.baseMutations,(function(t,e){return $e(t,e)}))},t}(),qn=function(){function t(t,e,n,r){this.batch=t,this.Rn=e,this.In=n,this.Pn=r}return t.from=function(e,n,r){m(e.mutations.length===r.length);for(var i=lt,s=e.mutations,o=0;o<s.length;o++)i=i.st(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Hn=function(){function t(t){var e=this;this.gn=null,this.Vn=null,this.result=void 0,this.error=void 0,this.yn=!1,this.pn=!1,t((function(t){e.yn=!0,e.result=t,e.gn&&e.gn(t)}),(function(t){e.yn=!0,e.error=t,e.Vn&&e.Vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.pn&&y(),this.pn=!0,this.yn?this.error?this.bn(n,this.error):this.vn(e,this.result):new t((function(t,i){r.gn=function(n){r.vn(e,n).next(t,i)},r.Vn=function(e){r.bn(n,e).next(t,i)}}))},t.prototype.Sn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Dn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.vn=function(e,n){return e?this.Dn((function(){return e(n)})):t.resolve(n)},t.prototype.bn=function(e,n){return e?this.Dn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Cn=function(e){return new t((function(t,n){var r=0,i=0,s=!1;e.forEach((function(e){++r,e.next((function(){++i,s&&i===r&&t()}),(function(t){return n(t)}))})),s=!0,i===r&&t()}))},t.Nn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Cn(r)},t}(),Bn=function(){function t(){this.Fn=new k((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.kn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.$n},set:function(t){this.$n=t},enumerable:!1,configurable:!0}),t.prototype.xn=function(t,e){this.On(),this.readTime=e,this.Fn.set(t.key,t)},t.prototype.Mn=function(t,e){this.On(),e&&(this.readTime=e),this.Fn.set(t,null)},t.prototype.Ln=function(t,e){this.On();var n=this.Fn.get(e);return void 0!==n?Hn.resolve(n):this.qn(t,e)},t.prototype.getEntries=function(t,e){return this.Bn(t,e)},t.prototype.apply=function(t){return this.On(),this.kn=!0,this.Un(t)},t.prototype.On=function(){},t}(),zn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",$n=function(){function t(){this.Qn=[]}return t.prototype.Wn=function(t){this.Qn.push(t)},t.prototype.jn=function(){this.Qn.forEach((function(t){return t()}))},t}(),Wn=function(){function t(t,e,n){this.Kn=t,this.Gn=e,this.zn=n}return t.prototype.Hn=function(t,e){var n=this;return this.Gn.Yn(t,e).next((function(r){return n.Jn(t,e,r)}))},t.prototype.Jn=function(t,e,n){return this.Kn.Ln(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].mn(e,t);return t}))},t.prototype.Xn=function(t,e,n){var r=at();return e.forEach((function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].mn(t,e);r=r.st(t,e)})),r},t.prototype.Zn=function(t,e){var n=this;return this.Kn.getEntries(t,e).next((function(e){return n.ts(t,e)}))},t.prototype.ts=function(t,e){var n=this;return this.Gn.es(t,e).next((function(r){var i=n.Xn(t,e,r),s=ot();return i.forEach((function(t,e){e||(e=new an(t,P.min())),s=s.st(t,e)})),s}))},t.prototype.ns=function(t,e,n){return function(t){return F.j(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ss(t,e.path):dn(e)?this.rs(t,e,n):this.os(t,e,n)},t.prototype.ss=function(t,e){return this.Hn(t,new F(e)).next((function(t){var e=ct();return t instanceof on&&(e=e.st(t.key,t)),e}))},t.prototype.rs=function(t,e,n){var r=this,i=e.collectionGroup,s=ct();return this.zn.hs(t,i).next((function(o){return Hn.forEach(o,(function(o){var a=e.on(o.child(i));return r.os(t,a,n).next((function(t){t.forEach((function(t,e){s=s.st(t,e)}))}))})).next((function(){return s}))}))},t.prototype.os=function(t,e,n){var r,i,s=this;return this.Kn.ns(t,e,n).next((function(n){return r=n,s.Gn.as(t,e)})).next((function(e){return s.us(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=r.get(c),h=Be(u,l,l,s.Tn);r=h instanceof on?r.st(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){En(e,n)||(r=r.remove(t))})),r}))},t.prototype.us=function(t,e,n){for(var r=ft(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Qe&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Kn.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof on&&(c=c.st(t,e))})),c}))},t}(),Gn=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.cs=n,this.ls=r}return t._s=function(e,n){for(var r=ft(),i=ft(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Qn=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.fs=function(t){return n.ds(t)},this.ws=function(t){return e.Ts(t)})}return t.prototype.ds=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ws&&this.ws(t),t},t}();Qn.Es=-1;var Kn=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Yn=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Is=t,this.ms=e,this.As=n,this.Rs=r,this.Ps=i,this.gs=0,this.Vs=null,this.ys=Date.now(),this.reset()}return t.prototype.reset=function(){this.gs=0},t.prototype.ps=function(){this.gs=this.Ps},t.prototype.bs=function(t){var e=this;this.cancel();var n=Math.floor(this.gs+this.vs()),r=Math.max(0,Date.now()-this.ys),i=Math.max(0,n-r);i>0&&f("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.gs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Vs=this.Is.Ss(this.ms,i,(function(){return e.ys=Date.now(),t()})),this.gs*=this.Rs,this.gs<this.As&&(this.gs=this.As),this.gs>this.Ps&&(this.gs=this.Ps)},t.prototype.Ds=function(){null!==this.Vs&&(this.Vs.Cs(),this.Vs=null)},t.prototype.cancel=function(){null!==this.Vs&&(this.Vs.cancel(),this.Vs=null)},t.prototype.vs=function(){return(Math.random()-.5)*this.gs},t}(),Xn=function(){function t(e,n,r){this.name=e,this.version=n,this.Ns=r,12.2===t.Fs(o.getUA())&&d("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return f("SimpleDb","Removing database:",t),rr(window.indexedDB.deleteDatabase(t)).Sn()},t.ks=function(){if("undefined"==typeof indexedDB)return!1;if(t.$s())return!0;var e=o.getUA(),n=t.Fs(e),r=0<n&&n<10,i=t.xs(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.$s=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Os)},t.Ms=function(t,e){return t.store(e)},t.Fs=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.xs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Ls=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:return this.db?[3,2]:(f("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,n){var r=indexedDB.open(e.name,e.version);r.onsuccess=function(e){t(e.target.result)},r.onblocked=function(){n(new Jn("Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(t){var e=t.target.error;n("VersionError"===e.name?new j(A.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Jn(e))},r.onupgradeneeded=function(t){f("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',t.oldVersion),e.Ns.createOrUpgrade(t.target.result,r.transaction,t.oldVersion,e.version).next((function(){f("SimpleDb","Database upgrade to version "+e.version+" complete")}))}}))]);case 1:t.db=n.sent(),n.label=2;case 2:return[2,(this.qs&&(this.db.onversionchange=function(t){return e.qs(t)}),this.db)]}}))}))},t.prototype.Bs=function(t){this.qs=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s,o,a,u;return r.__generator(this,(function(c){switch(c.label){case 0:i="readonly"===t,s=0,o=function(){var t,o,u,c,l;return r.__generator(this,(function(r){switch(r.label){case 0:++s,r.label=1;case 1:return r.trys.push([1,4,,5]),[4,a.Ls()];case 2:return a.db=r.sent(),t=er.open(a.db,i?"readonly":"readwrite",e),o=n(t).catch((function(e){return t.abort(e),Hn.reject(e)})).Sn(),u={},o.catch((function(){})),[4,t.Us];case 3:return[2,(u.value=(r.sent(),o),u)];case 4:return f("SimpleDb","Transaction failed with error: %s. Retrying: %s.",(c=r.sent()).message,l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),Zn=function(){function t(t){this.Qs=t,this.Ws=!1,this.js=null}return Object.defineProperty(t.prototype,"yn",{get:function(){return this.Ws},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ks",{get:function(){return this.js},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Qs=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Ws=!0},t.prototype.Gs=function(t){this.js=t},t.prototype.delete=function(){return rr(this.Qs.delete())},t}(),Jn=function(t){function e(e){var n=this;return(n=t.call(this,A.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return r.__extends(e,t),e}(j);function tr(t){return"IndexedDbTransactionError"===t.name}var er=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.zs=new Kn,this.transaction.oncomplete=function(){e.zs.resolve()},this.transaction.onabort=function(){t.error?e.zs.reject(new Jn(t.error)):e.zs.resolve()},this.transaction.onerror=function(t){var n=sr(t.target.error);e.zs.reject(new Jn(n))}}return t.open=function(e,n,r){try{return new t(e.transaction(r,n))}catch(e){throw new Jn(e)}},Object.defineProperty(t.prototype,"Us",{get:function(){return this.zs.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.zs.reject(t),this.aborted||(f("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new nr(e)},t}(),nr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(f("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),rr(n)},t.prototype.add=function(t){return f("SimpleDb","ADD",this.store.name,t,t),rr(this.store.add(t))},t.prototype.get=function(t){var e=this;return rr(this.store.get(t)).next((function(n){return void 0===n&&(n=null),f("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return f("SimpleDb","DELETE",this.store.name,t),rr(this.store.delete(t))},t.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),rr(this.store.count())},t.prototype.Hs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Ys(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Js=function(t,e){f("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Xs=!1;var r=this.cursor(n);return this.Ys(r,(function(t,e,n){return n.delete()}))},t.prototype.Zs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Ys(r,e)},t.prototype.ti=function(t){var e=this.cursor({});return new Hn((function(n,r){e.onerror=function(t){var e=sr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Ys=function(t,e){var n=[];return new Hn((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new Zn(i),o=e(i.primaryKey,i.value,s);if(o instanceof Hn){var a=o.catch((function(t){return s.done(),Hn.reject(t)}));n.push(a)}s.yn?r():null===s.Ks?i.continue():i.continue(s.Ks)}else r()}})).next((function(){return Hn.Cn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Xs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function rr(t){return new Hn((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=sr(t.target.error);n(e)}}))}var ir=!1;function sr(t){var e=Xn.Fs(o.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new j("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ir||(ir=!0,setTimeout((function(){throw r}),0)),r}}return t}function or(){return"undefined"!=typeof window?window:null}function ar(){return"undefined"!=typeof document?document:null}var ur=function(){function t(t,e,n,r,i){this.ei=t,this.ms=e,this.ni=n,this.op=r,this.si=i,this.ii=new Kn,this.then=this.ii.promise.then.bind(this.ii.promise),this.ii.promise.catch((function(t){}))}return t.ri=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.oi=setTimeout((function(){return e.hi()}),t)},t.prototype.Cs=function(){return this.hi()},t.prototype.cancel=function(t){null!==this.oi&&(this.clearTimeout(),this.ii.reject(new j(A.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.hi=function(){var t=this;this.ei.ai((function(){return null!==t.oi?(t.clearTimeout(),t.op().then((function(e){return t.ii.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.oi&&(this.si(this),clearTimeout(this.oi),this.oi=null)},t}(),cr=function(){function t(){var t=this;this.ui=Promise.resolve(),this.ci=[],this.li=!1,this._i=[],this.fi=null,this.di=!1,this.wi=[],this.Ti=new Yn(this,"async_queue_retry"),this.Ei=function(){var e=ar();e&&f("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.Ti.Ds()};var e=ar();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ei)}return Object.defineProperty(t.prototype,"Ii",{get:function(){return this.li},enumerable:!1,configurable:!0}),t.prototype.ai=function(t){this.enqueue(t)},t.prototype.mi=function(t){this.Ai(),this.Ri(t)},t.prototype.Pi=function(){if(!this.li){this.li=!0;var t=ar();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ei)}},t.prototype.enqueue=function(t){return this.Ai(),this.li?new Promise((function(t){})):this.Ri(t)},t.prototype.gi=function(t){var e=this;this.ci.push(t),this.ai((function(){return e.Vi()}))},t.prototype.Vi=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(0===this.ci.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.ci[0]()];case 2:return n.sent(),this.ci.shift(),this.Ti.reset(),[3,4];case 3:if(!tr(t=n.sent()))throw t;return f("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.ci.length>0&&this.Ti.bs((function(){return e.Vi()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ri=function(t){var e=this,n=this.ui.then((function(){return e.di=!0,t().catch((function(t){throw e.fi=t,e.di=!1,d("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.di=!1,t}))}));return this.ui=n,n},t.prototype.Ss=function(t,e,n){var r=this;this.Ai(),this.wi.indexOf(t)>-1&&(e=0);var i=ur.ri(this,t,e,n,(function(t){return r.yi(t)}));return this._i.push(i),i},t.prototype.Ai=function(){this.fi&&y()},t.prototype.pi=function(){},t.prototype.bi=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return[4,t=this.ui];case 1:e.sent(),e.label=2;case 2:if(t!==this.ui)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vi=function(t){for(var e=0,n=this._i;e<n.length;e++)if(n[e].ms===t)return!0;return!1},t.prototype.Si=function(t){var e=this;return this.bi().then((function(){e._i.sort((function(t,e){return t.ni-e.ni}));for(var n=0,r=e._i;n<r.length;n++){var i=r[n];if(i.Cs(),"all"!==t&&i.ms===t)break}return e.bi()}))},t.prototype.Di=function(t){this.wi.push(t)},t.prototype.yi=function(t){var e=this._i.indexOf(t);this._i.splice(e,1)},t}();function lr(t,e){if(d("AsyncQueue",e+": "+t),tr(t))return new j(A.UNAVAILABLE,e+": "+t);throw t}function hr(t,e){var n=t[1],r=e[1],i=w(t[0],e[0]);return 0===i?w(n,r):i}var fr=function(){function t(t){this.Ci=t,this.buffer=new rt(hr),this.Ni=0}return t.prototype.Fi=function(){return++this.Ni},t.prototype.ki=function(t){var e=[t,this.Fi()];if(this.buffer.size<this.Ci)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();hr(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),dr={$i:!1,xi:0,Oi:0,Mi:0},pr=function(){function t(t,e,n){this.Li=t,this.qi=e,this.Bi=n}return t.Ui=function(e){return new t(e,t.Qi,t.Wi)},t}();pr.ji=-1,pr.Ki=1048576,pr.Gi=41943040,pr.Qi=10,pr.Wi=1e3,pr.zi=new pr(pr.Gi,pr.Qi,pr.Wi),pr.Hi=new pr(pr.ji,0,0);var gr=function(){function t(t,e){this.Yi=t,this.ei=e,this.Ji=!1,this.Xi=null}return t.prototype.start=function(t){this.Yi.params.Li!==pr.ji&&this.Zi(t)},t.prototype.stop=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},Object.defineProperty(t.prototype,"tr",{get:function(){return null!==this.Xi},enumerable:!1,configurable:!0}),t.prototype.Zi=function(t){var e=this,n=this.Ji?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Xi=this.ei.Ss("lru_garbage_collection",n,(function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:this.Xi=null,this.Ji=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.er(this.Yi)];case 2:return n.sent(),[3,7];case 3:return tr(e=n.sent())?(f("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ji(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Zi(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),yr=function(){function t(t,e){this.nr=t,this.params=e}return t.prototype.sr=function(t,e){return this.nr.ir(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.rr=function(t,e){var n=this;if(0===e)return Hn.resolve(Qn.Es);var r=new fr(e);return this.nr.be(t,(function(t){return r.ki(t.sequenceNumber)})).next((function(){return n.nr.or(t,(function(t){return r.ki(t)}))})).next((function(){return r.maxValue}))},t.prototype.hr=function(t,e,n){return this.nr.hr(t,e,n)},t.prototype.ar=function(t,e){return this.nr.ar(t,e)},t.prototype.ur=function(t,e){var n=this;return this.params.Li===pr.ji?(f("LruGarbageCollector","Garbage collection skipped; disabled"),Hn.resolve(dr)):this.cr(t).next((function(r){return r<n.params.Li?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Li),dr):n.lr(t,e)}))},t.prototype.cr=function(t){return this.nr.cr(t)},t.prototype.lr=function(t,e){var n,r,i,o,a,u,c,l=this,d=Date.now();return this.sr(t,this.params.qi).next((function(e){return e>l.params.Bi?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.Bi+" from "+e),r=l.params.Bi):r=e,o=Date.now(),l.rr(t,r)})).next((function(r){return n=r,a=Date.now(),l.hr(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.ar(t,n)})).next((function(t){return c=Date.now(),h()<=s.LogLevel.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-d)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(u-a)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-d)+"ms"),Hn.resolve({$i:!0,xi:r,Oi:i,Mi:t})}))},t}();function mr(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=br(e)),e=vr(t.get(n),e);return br(e)}function vr(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function br(t){return t+"\x01\x01"}function _r(t){var e=t.length;if(m(e>=2),2===e)return m("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),D.$();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&y(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:y()}s=o+2}return new D(r)}var wr=function(t){this._r=t};function Er(t,e){if(e.document)return function(t,e,n){var r=ie(t,e.name),i=te(e.updateTime),s=new en({mapValue:{fields:e.fields}});return new on(r,i,s,{hasCommittedMutations:!!n})}(t._r,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=F.K(e.noDocument.path),r=Ir(e.noDocument.readTime);return new an(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=F.K(e.unknownDocument.path),s=Ir(e.unknownDocument.version);return new un(i,s)}return y()}function Sr(t,e,n){var r=Or(n),i=e.key.path.p().N();if(e instanceof on){var s=function(t,e){return{name:re(t,e.key),fields:e.tn().mapValue.fields,updateTime:Xt(t,e.version.A())}}(t._r,e);return new Zr(null,null,s,e.hasCommittedMutations,r,i)}if(e instanceof an){var o=e.key.path.N(),a=Tr(e.version),u=e.hasCommittedMutations;return new Zr(null,new Yr(o,a),null,u,r,i)}if(e instanceof un){var c=e.key.path.N(),l=Tr(e.version);return new Zr(new Xr(c,l),null,null,!0,r,i)}return y()}function Or(t){var e=t.A();return[e.seconds,e.nanoseconds]}function xr(t){var e=new N(t[0],t[1]);return P.I(e)}function Tr(t){var e=t.A();return new $r(e.seconds,e.nanoseconds)}function Ir(t){var e=new N(t.seconds,t.nanoseconds);return P.I(e)}function Cr(t,e){var n=(e.baseMutations||[]).map((function(e){return he(t._r,e)})),r=e.mutations.map((function(e){return he(t._r,e)})),i=N.fromMillis(e.localWriteTimeMs);return new Vn(e.batchId,i,n,r)}function kr(t){var e,n,r=Ir(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Ir(t.lastLimboFreeSnapshotVersion):P.min();return void 0!==t.query.documents?(m(1===(n=t.query).documents.length),e=gn(fn(oe(n.documents[0])))):e=function(t){var e=oe(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){m(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=function t(e){return e?void 0!==e.unaryFilter?[we(e)]:void 0!==e.fieldFilter?[_e(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):y():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return function(t){return new Mn(be(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return U(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=ge(n.startAt));var l=null;return n.endAt&&(l=ge(n.endAt)),gn(hn(e,i,a,o,u,"F",c,l))}(t.query),new Y(e,t.targetId,0,t.lastListenSequenceNumber,r,i,G.fromBase64String(t.resumeToken))}function Ar(t,e){var n,r=Tr(e.Z),i=Tr(e.lastLimboFreeSnapshotVersion);n=W(e.target)?fe(t._r,e.target):de(t._r,e.target);var s=e.resumeToken.toBase64();return new ti(e.targetId,z(e.target),r,s,e.sequenceNumber,i,n)}var jr=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.zn=n,this.dr=r,this.wr={}}return t.Tr=function(e,n,r,i){return m(""!==e.uid),new t(e.Er()?e.uid:"",n,r,i)},t.prototype.Ir=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Rr(t).Zs({index:Qr.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.mr=function(t,e,n,r){var i=this,s=Dr(t),o=Rr(t);return o.add({}).next((function(a){m("number"==typeof a);for(var u=new Vn(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return le(t._r,e)})),i=n.mutations.map((function(e){return le(t._r,e)}));return new Qr(e,n.batchId,n.Tn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new rt((function(t,e){return w(t.F(),e.F())})),f=0,d=r;f<d.length;f++){var p=d[f],g=Kr.key(i.userId,p.key.path,a);h=h.add(p.key.path.p()),l.push(o.put(c)),l.push(s.put(g,Kr.PLACEHOLDER))}return h.forEach((function(e){l.push(i.zn.Ar(t,e))})),t.Wn((function(){i.wr[a]=u.keys()})),Hn.Cn(l).next((function(){return u}))}))},t.prototype.Rr=function(t,e){var n=this;return Rr(t).get(e).next((function(t){return t?(m(t.userId===n.userId),Cr(n.serializer,t)):null}))},t.prototype.Pr=function(t,e){var n=this;return this.wr[e]?Hn.resolve(this.wr[e]):this.Rr(t,e).next((function(t){if(t){var r=t.keys();return n.wr[e]=r,r}return null}))},t.prototype.gr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return Rr(t).Zs({index:Qr.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(m(e.batchId>=r),s=Cr(n.serializer,e)),i.done()})).next((function(){return s}))},t.prototype.Vr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Rr(t).Zs({index:Qr.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.yr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Rr(t).Hs(Qr.userMutationsIndex,n).next((function(t){return t.map((function(t){return Cr(e.serializer,t)}))}))},t.prototype.Yn=function(t,e){var n=this,r=Kr.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return Dr(t).Zs({range:i},(function(r,i,o){var a=r[0],u=r[2],c=_r(r[1]);if(a===n.userId&&e.path.isEqual(c))return Rr(t).get(u).next((function(t){if(!t)throw y();m(t.userId===n.userId),s.push(Cr(n.serializer,t))}));o.done()})).next((function(){return s}))},t.prototype.es=function(t,e){var n=this,r=new rt(w),i=[];return e.forEach((function(e){var s=Kr.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=Dr(t).Zs({range:o},(function(t,i,s){var o=t[0],a=t[2],u=_r(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()}));i.push(a)})),Hn.Cn(i).next((function(){return n.pr(t,r)}))},t.prototype.as=function(t,e){var n=this,r=e.path,i=r.length+1,s=Kr.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new rt(w);return Dr(t).Zs({range:o},(function(t,e,s){var o=t[0],u=t[2],c=_r(t[1]);o===n.userId&&r.D(c)?c.length===i&&(a=a.add(u)):s.done()})).next((function(){return n.pr(t,a)}))},t.prototype.pr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Rr(t).get(e).next((function(t){if(null===t)throw y();m(t.userId===n.userId),r.push(Cr(n.serializer,t))})))})),Hn.Cn(i).next((function(){return r}))},t.prototype.br=function(t,e){var n=this;return Pr(t.vr,this.userId,e).next((function(r){return t.Wn((function(){n.Sr(e.batchId)})),Hn.forEach(r,(function(e){return n.dr.Dr(t,e)}))}))},t.prototype.Sr=function(t){delete this.wr[t]},t.prototype.Cr=function(t){var e=this;return this.Ir(t).next((function(n){if(!n)return Hn.resolve();var r=IDBKeyRange.lowerBound(Kr.prefixForUser(e.userId)),i=[];return Dr(t).Zs({range:r},(function(t,n,r){if(t[0]===e.userId){var s=_r(t[1]);i.push(s)}else r.done()})).next((function(){m(0===i.length)}))}))},t.prototype.Nr=function(t,e){return Nr(t,this.userId,e)},t.prototype.Fr=function(t){var e=this;return Lr(t).get(this.userId).next((function(t){return t||new Gr(e.userId,-1,"")}))},t}();function Nr(t,e,n){var r=Kr.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return Dr(t).Zs({range:s,Xs:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()})).next((function(){return o}))}function Pr(t,e,n){var r=t.store(Qr.store),i=t.store(Kr.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.Zs({range:o},(function(t,e,n){return a++,n.delete()}));s.push(u.next((function(){m(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Kr.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return Hn.Cn(s).next((function(){return c}))}function Rr(t){return yi.Ms(t,Qr.store)}function Dr(t){return yi.Ms(t,Kr.store)}function Lr(t){return yi.Ms(t,Gr.store)}var Mr=function(){function t(t,e){this.serializer=t,this.zn=e}return t.prototype.xn=function(t,e,n){return Ur(t).put(Vr(e),n)},t.prototype.Mn=function(t,e){var n=Ur(t),r=Vr(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.kr(t,r)}))},t.prototype.Ln=function(t,e){var n=this;return Ur(t).get(Vr(e)).next((function(t){return n.$r(t)}))},t.prototype.xr=function(t,e){var n=this;return Ur(t).get(Vr(e)).next((function(t){var e=n.$r(t);return e?{Or:e,size:qr(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=at();return this.Mr(t,e,(function(t,e){var i=n.$r(e);r=r.st(t,i)})).next((function(){return r}))},t.prototype.Lr=function(t,e){var n=this,r=at(),i=new tt(F.P);return this.Mr(t,e,(function(t,e){var s=n.$r(e);s?(r=r.st(t,s),i=i.st(t,qr(e))):(r=r.st(t,null),i=i.st(t,0))})).next((function(){return{qr:r,Br:i}}))},t.prototype.Mr=function(t,e,n){if(e._())return Hn.resolve();var r=IDBKeyRange.bound(e.first().path.N(),e.last().path.N()),i=e.ut(),s=i.wt();return Ur(t).Zs({range:r},(function(t,e,r){for(var o=F.K(t);s&&F.P(s,o)<0;)n(s,null),s=i.wt();s&&s.isEqual(o)&&(n(s,e),s=i.Tt()?i.wt():null),s?r.Gs(s.path.N()):r.done()})).next((function(){for(;s;)n(s,null),s=i.Tt()?i.wt():null}))},t.prototype.ns=function(t,e,n){var r=this,i=ct(),s=e.path.length+1,o={};if(n.isEqual(P.min())){var a=e.path.N();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.N(),c=Or(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Zr.collectionReadTimeIndex}return Ur(t).Zs(o,(function(t,n,o){if(t.length===s){var a=Er(r.serializer,n);e.path.D(a.key.path)?a instanceof on&&En(e,a)&&(i=i.st(a.key,a)):o.done()}})).next((function(){return i}))},t.prototype.Ur=function(t,e){var n=this,r=ot(),i=Or(e),s=Ur(t),o=IDBKeyRange.lowerBound(i,!0);return s.Zs({index:Zr.readTimeIndex,range:o},(function(t,e){var s=Er(n.serializer,e);r=r.st(s.key,s),i=e.readTime})).next((function(){return{Qr:r,readTime:xr(i)}}))},t.prototype.Wr=function(t){var e=Ur(t),n=P.min();return e.Zs({index:Zr.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=xr(e.readTime)),r.done()})).next((function(){return n}))},t.prototype.jr=function(e){return new t.Kr(this,!!e&&e.Gr)},t.prototype.zr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Fr(t).get(Jr.key).next((function(t){return m(!!t),t}))},t.prototype.kr=function(t,e){return Fr(t).put(Jr.key,e)},t.prototype.$r=function(t){if(t){var e=Er(this.serializer,t);return e instanceof an&&e.version.isEqual(P.min())?null:e}return null},t}();function Fr(t){return yi.Ms(t,Jr.store)}function Ur(t){return yi.Ms(t,Zr.store)}function Vr(t){return t.path.N()}function qr(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw y();e=t.noDocument}return JSON.stringify(e).length}Mr.Kr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Hr=e,r.Gr=n,r.Yr=new k((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return r.__extends(e,t),e.prototype.Un=function(t){var e=this,n=[],r=0,i=new rt((function(t,e){return w(t.F(),e.F())}));return this.Fn.forEach((function(s,o){var a=e.Yr.get(s);if(o){var u=Sr(e.Hr.serializer,o,e.readTime);i=i.add(s.path.p());var c=qr(u);r+=c-a,n.push(e.Hr.xn(t,s,u))}else if(r-=a,e.Gr){var l=Sr(e.Hr.serializer,new an(s,P.min()),e.readTime);n.push(e.Hr.xn(t,s,l))}else n.push(e.Hr.Mn(t,s))})),i.forEach((function(r){n.push(e.Hr.zn.Ar(t,r))})),n.push(this.Hr.updateMetadata(t,r)),Hn.Cn(n)},e.prototype.qn=function(t,e){var n=this;return this.Hr.xr(t,e).next((function(t){return null===t?(n.Yr.set(e,0),null):(n.Yr.set(e,t.size),t.Or)}))},e.prototype.Bn=function(t,e){var n=this;return this.Hr.Lr(t,e).next((function(t){var e=t.qr;return t.Br.forEach((function(t,e){n.Yr.set(t,e)})),e}))},e}(Bn);var Hr=function(){function t(){this.Jr=new Br}return t.prototype.Ar=function(t,e){return this.Jr.add(e),Hn.resolve()},t.prototype.hs=function(t,e){return Hn.resolve(this.Jr.getEntries(e))},t}(),Br=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.S(),n=t.p(),r=this.index[e]||new rt(D.P),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.S(),n=t.p(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new rt(D.P)).N()},t}(),zr=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;m(n<r&&n>=0&&r<=10);var s=new er(e);n<1&&r>=1&&(function(t){t.createObjectStore(Wr.store)}(t),function(t){t.createObjectStore(Gr.store,{keyPath:Gr.keyPath}),t.createObjectStore(Qr.store,{keyPath:Qr.keyPath,autoIncrement:!0}).createIndex(Qr.userMutationsIndex,Qr.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Kr.store)}(t),ii(t),function(t){t.createObjectStore(Zr.store)}(t));var o=Hn.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ei.store),t.deleteObjectStore(ti.store),t.deleteObjectStore(ni.store)}(t),ii(t)),o=o.next((function(){return function(t){var e=t.store(ni.store),n=new ni(0,0,P.min().A(),0);return e.put(ni.key,n)}(s)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(t,e){return e.store(Qr.store).Hs().next((function(n){t.deleteObjectStore(Qr.store),t.createObjectStore(Qr.store,{keyPath:Qr.keyPath,autoIncrement:!0}).createIndex(Qr.userMutationsIndex,Qr.userMutationsKeyPath,{unique:!0});var r=e.store(Qr.store),i=n.map((function(t){return r.put(t)}));return Hn.Cn(i)}))}(t,s)}))),o=o.next((function(){!function(t){t.createObjectStore(si.store,{keyPath:si.keyPath})}(t)}))),n<5&&r>=5&&(o=o.next((function(){return i.removeAcknowledgedMutations(s)}))),n<6&&r>=6&&(o=o.next((function(){return function(t){t.createObjectStore(Jr.store)}(t),i.addDocumentGlobal(s)}))),n<7&&r>=7&&(o=o.next((function(){return i.ensureSequenceNumbers(s)}))),n<8&&r>=8&&(o=o.next((function(){return i.createCollectionParentIndex(t,s)}))),n<9&&r>=9&&(o=o.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Zr.store);e.createIndex(Zr.readTimeIndex,Zr.readTimeIndexPath,{unique:!1}),e.createIndex(Zr.collectionReadTimeIndex,Zr.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.rewriteCanonicalIds(s)}))),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(Zr.store).Zs((function(t,n){e+=qr(n)})).next((function(){var n=new Jr(e);return t.store(Jr.store).put(Jr.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(Gr.store),r=t.store(Qr.store);return n.Hs().next((function(n){return Hn.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Hs(Qr.userMutationsIndex,i).next((function(r){return Hn.forEach(r,(function(r){m(r.userId===n.userId);var i=Cr(e.serializer,r);return Pr(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(ei.store),n=t.store(Zr.store);return t.store(ni.store).get(ni.key).next((function(t){var r=[];return n.Zs((function(n,i){var s=new D(n),o=function(t){return[0,mr(t)]}(s);r.push(e.get(o).next((function(n){return n?Hn.resolve():function(n){return e.put(new ei(0,mr(n),t.highestListenSequenceNumber))}(s)})))})).next((function(){return Hn.Cn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(ri.store,{keyPath:ri.keyPath});var n=e.store(ri.store),r=new Br,i=function(t){if(r.add(t)){var e=t.S(),i=t.p();return n.put({collectionId:e,parent:mr(i)})}};return e.store(Zr.store).Zs({Xs:!0},(function(t,e){var n=new D(t);return i(n.p())})).next((function(){return e.store(Kr.store).Zs({Xs:!0},(function(t,e){var n=_r(t[1]);return i(n.p())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(ti.store);return n.Zs((function(t,r){var i=kr(r),s=Ar(e.serializer,i);return n.put(s)}))},t}(),$r=function(t,e){this.seconds=t,this.nanoseconds=e},Wr=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Wr.store="owner",Wr.key="owner";var Gr=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Gr.store="mutationQueues",Gr.keyPath="userId";var Qr=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Qr.store="mutations",Qr.keyPath="batchId",Qr.userMutationsIndex="userMutationsIndex",Qr.userMutationsKeyPath=["userId","batchId"];var Kr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,mr(e)]},t.key=function(t,e,n){return[t,mr(e),n]},t}();Kr.store="documentMutations",Kr.PLACEHOLDER=new Kr;var Yr=function(t,e){this.path=t,this.readTime=e},Xr=function(t,e){this.path=t,this.version=e},Zr=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Zr.store="remoteDocuments",Zr.readTimeIndex="readTimeIndex",Zr.readTimeIndexPath="readTime",Zr.collectionReadTimeIndex="collectionReadTimeIndex",Zr.collectionReadTimeIndexPath=["parentPath","readTime"];var Jr=function(t){this.byteSize=t};Jr.store="remoteDocumentGlobal",Jr.key="remoteDocumentGlobalKey";var ti=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};ti.store="targets",ti.keyPath="targetId",ti.queryTargetsIndexName="queryTargetsIndex",ti.queryTargetsKeyPath=["canonicalId","targetId"];var ei=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ei.store="targetDocuments",ei.keyPath=["targetId","path"],ei.documentTargetsIndex="documentTargetsIndex",ei.documentTargetsKeyPath=["path","targetId"];var ni=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ni.key="targetGlobalKey",ni.store="targetGlobal";var ri=function(t,e){this.collectionId=t,this.parent=e};function ii(t){t.createObjectStore(ei.store,{keyPath:ei.keyPath}).createIndex(ei.documentTargetsIndex,ei.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ti.store,{keyPath:ti.keyPath}).createIndex(ti.queryTargetsIndexName,ti.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(ni.store)}ri.store="collectionParents",ri.keyPath=["collectionId","parent"];var si=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};si.store="clientMetadata",si.keyPath="clientId";var oi=r.__spreadArrays(r.__spreadArrays(r.__spreadArrays([Gr.store,Qr.store,Kr.store,Zr.store,ti.store,Wr.store,ni.store,ei.store],[si.store]),[Jr.store]),[ri.store]),ai=function(){function t(){this.Xr=new Br}return t.prototype.Ar=function(t,e){var n=this;if(!this.Xr.has(e)){var r=e.S(),i=e.p();t.Wn((function(){n.Xr.add(e)}));var s={collectionId:r,parent:mr(i)};return ui(t).put(s)}return Hn.resolve()},t.prototype.hs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[S(e),""],!1,!0);return ui(t).Hs(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(_r(s.parent))}return n}))},t}();function ui(t){return yi.Ms(t,ri.store)}var ci=function(){function t(t){this.Zr=t}return t.prototype.next=function(){return this.Zr+=2,this.Zr},t.to=function(){return new t(0)},t.eo=function(){return new t(-1)},t}(),li=function(){function t(t,e){this.dr=t,this.serializer=e}return t.prototype.no=function(t){var e=this;return this.so(t).next((function(n){var r=new ci(n.highestTargetId);return n.highestTargetId=r.next(),e.io(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.ro=function(t){return this.so(t).next((function(t){return P.I(new N(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.oo=function(t){return this.so(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.ho=function(t,e,n){var r=this;return this.so(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.A()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.io(t,i)}))},t.prototype.ao=function(t,e){var n=this;return this.uo(t,e).next((function(){return n.so(t).next((function(r){return r.targetCount+=1,n.co(e,r),n.io(t,r)}))}))},t.prototype.lo=function(t,e){return this.uo(t,e)},t.prototype._o=function(t,e){var n=this;return this.fo(t,e.targetId).next((function(){return hi(t).delete(e.targetId)})).next((function(){return n.so(t)})).next((function(e){return m(e.targetCount>0),e.targetCount-=1,n.io(t,e)}))},t.prototype.hr=function(t,e,n){var r=this,i=0,s=[];return hi(t).Zs((function(o,a){var u=kr(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r._o(t,u)))})).next((function(){return Hn.Cn(s)})).next((function(){return i}))},t.prototype.be=function(t,e){return hi(t).Zs((function(t,n){var r=kr(n);e(r)}))},t.prototype.so=function(t){return fi(t).get(ni.key).next((function(t){return m(null!==t),t}))},t.prototype.io=function(t,e){return fi(t).put(ni.key,e)},t.prototype.uo=function(t,e){return hi(t).put(Ar(this.serializer,e))},t.prototype.co=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.do=function(t){return this.so(t).next((function(t){return t.targetCount}))},t.prototype.wo=function(t,e){var n=z(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return hi(t).Zs({range:r,index:ti.queryTargetsIndexName},(function(t,n,r){var s=kr(n);$(e,s.target)&&(i=s,r.done())})).next((function(){return i}))},t.prototype.To=function(t,e,n){var r=this,i=[],s=di(t);return e.forEach((function(e){var o=mr(e.path);i.push(s.put(new ei(n,o))),i.push(r.dr.Eo(t,n,e))})),Hn.Cn(i)},t.prototype.Io=function(t,e,n){var r=this,i=di(t);return Hn.forEach(e,(function(e){var s=mr(e.path);return Hn.Cn([i.delete([n,s]),r.dr.mo(t,n,e)])}))},t.prototype.fo=function(t,e){var n=di(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Ao=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=di(t),i=ft();return r.Zs({range:n,Xs:!0},(function(t,e,n){var r=_r(t[1]),s=new F(r);i=i.add(s)})).next((function(){return i}))},t.prototype.Nr=function(t,e){var n=mr(e.path),r=IDBKeyRange.bound([n],[S(n)],!1,!0),i=0;return di(t).Zs({index:ei.documentTargetsIndex,Xs:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Me=function(t,e){return hi(t).get(e).next((function(t){return t?kr(t):null}))},t}();function hi(t){return yi.Ms(t,ti.store)}function fi(t){return yi.Ms(t,ni.store)}function di(t){return yi.Ms(t,ei.store)}var pi="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gi=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vr=e,r.Ro=n,r}return r.__extends(e,t),e}($n),yi=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Is=s,this.window=o,this.document=a,this.Po=c,this.Vo=l,this.yo=null,this.po=!1,this.isPrimary=!1,this.networkEnabled=!0,this.bo=null,this.inForeground=!1,this.vo=null,this.So=null,this.Do=Number.NEGATIVE_INFINITY,this.Co=function(t){return Promise.resolve()},!t.ks())throw new j(A.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.dr=new bi(this,i),this.No=n+"main",this.serializer=new wr(u),this.Fo=new Xn(this.No,10,new zr(this.serializer)),this.ko=new li(this.dr,this.serializer),this.zn=new ai,this.Kn=new Mr(this.serializer,this.zn),this.window&&this.window.localStorage?this.$o=this.window.localStorage:(this.$o=null,!1===l&&d("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ms=function(t,e){if(t instanceof gi)return Xn.Ms(t.vr,e);throw y()},t.prototype.start=function(){var t=this;return this.xo().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new j(A.FAILED_PRECONDITION,pi);return t.Oo(),t.Mo(),t.Lo(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.ko.oo(e)}))})).then((function(e){t.yo=new Qn(e,t.Po)})).then((function(){t.po=!0})).catch((function(e){return t.Fo&&t.Fo.close(),Promise.reject(e)}))},t.prototype.qo=function(t){var e=this;return this.Co=function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Bo=function(t){var e=this;this.Fo.Bs((function(n){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Uo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Is.ai((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.tr?[4,this.xo()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.xo=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return vi(e).put(new si(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Qo(e).next((function(e){e||(t.isPrimary=!1,t.Is.gi((function(){return t.Co(!1)})))}))})).next((function(){return t.Wo(e)})).next((function(n){return t.isPrimary&&!n?t.jo(e).next((function(){return!1})):!!n&&t.Ko(e).next((function(){return!0}))}))})).catch((function(e){if(tr(e))return f("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return f("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Is.gi((function(){return t.Co(e)})),t.isPrimary=e}))},t.prototype.Qo=function(t){var e=this;return mi(t).get(Wr.key).next((function(t){return Hn.resolve(e.Go(t))}))},t.prototype.zo=function(t){return vi(t).delete(this.clientId)},t.prototype.Ho=function(){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,s=this;return r.__generator(this,(function(r){switch(r.label){case 0:return!this.isPrimary||this.Yo(this.Do,18e5)?[3,2]:(this.Do=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ms(e,si.store);return n.Hs().next((function(t){var e=s.Jo(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return Hn.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=r.sent(),this.$o)for(n=0,i=e;n<i.length;n++)this.$o.removeItem(this.Xo(i[n].clientId));r.label=2;case 2:return[2]}}))}))},t.prototype.Lo=function(){var t=this;this.So=this.Is.Ss("client_metadata_refresh",4e3,(function(){return t.xo().then((function(){return t.Ho()})).then((function(){return t.Lo()}))}))},t.prototype.Go=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Wo=function(t){var e=this;return this.Vo?Hn.resolve(!0):mi(t).get(Wr.key).next((function(n){if(null!==n&&e.Yo(n.leaseTimestampMs,5e3)&&!e.Zo(n.ownerId)){if(e.Go(n)&&e.networkEnabled)return!0;if(!e.Go(n)){if(!n.allowTabSynchronization)throw new j(A.FAILED_PRECONDITION,pi);return!1}}return!(!e.networkEnabled||!e.inForeground)||vi(t).Hs().next((function(t){return void 0===e.Jo(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&f("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.th=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){switch(e.label){case 0:return this.po=!1,this.eh(),this.So&&(this.So.cancel(),this.So=null),this.nh(),this.sh(),[4,this.Fo.runTransaction("readwrite",[Wr.store,si.store],(function(e){var n=new gi(e,Qn.Es);return t.jo(n).next((function(){return t.zo(n)}))}))];case 1:return e.sent(),this.Fo.close(),this.ih(),[2]}}))}))},t.prototype.Jo=function(t,e){var n=this;return t.filter((function(t){return n.Yo(t.updateTimeMs,e)&&!n.Zo(t.clientId)}))},t.prototype.rh=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return vi(e).Hs().next((function(e){return t.Jo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"tr",{get:function(){return this.po},enumerable:!1,configurable:!0}),t.prototype.oh=function(t){return jr.Tr(t,this.serializer,this.zn,this.dr)},t.prototype.hh=function(){return this.ko},t.prototype.ah=function(){return this.Kn},t.prototype.uh=function(){return this.zn},t.prototype.runTransaction=function(t,e,n){var r,i=this;return f("IndexedDbPersistence","Starting transaction:",t),this.Fo.runTransaction("readonly"===e?"readonly":"readwrite",oi,(function(s){return r=new gi(s,i.yo?i.yo.next():Qn.Es),"readwrite-primary"===e?i.Qo(r).next((function(t){return!!t||i.Wo(r)})).next((function(e){if(!e)throw d("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Is.gi((function(){return i.Co(!1)})),new j(A.FAILED_PRECONDITION,zn);return n(r)})).next((function(t){return i.Ko(r).next((function(){return t}))})):i.lh(r).next((function(){return n(r)}))})).then((function(t){return r.jn(),t}))},t.prototype.lh=function(t){var e=this;return mi(t).get(Wr.key).next((function(t){if(null!==t&&e.Yo(t.leaseTimestampMs,5e3)&&!e.Zo(t.ownerId)&&!e.Go(t)&&!(e.Vo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new j(A.FAILED_PRECONDITION,pi)}))},t.prototype.Ko=function(t){var e=new Wr(this.clientId,this.allowTabSynchronization,Date.now());return mi(t).put(Wr.key,e)},t.ks=function(){return Xn.ks()},t.prototype.jo=function(t){var e=this,n=mi(t);return n.get(Wr.key).next((function(t){return e.Go(t)?(f("IndexedDbPersistence","Releasing primary lease."),n.delete(Wr.key)):Hn.resolve()}))},t.prototype.Yo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(d("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Oo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.vo=function(){t.Is.ai((function(){return t.inForeground="visible"===t.document.visibilityState,t.xo()}))},this.document.addEventListener("visibilitychange",this.vo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.nh=function(){this.vo&&(this.document.removeEventListener("visibilitychange",this.vo),this.vo=null)},t.prototype.Mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.bo=function(){e.eh(),e.Is.ai((function(){return e.th()}))},this.window.addEventListener("unload",this.bo))},t.prototype.sh=function(){this.bo&&(this.window.removeEventListener("unload",this.bo),this.bo=null)},t.prototype.Zo=function(t){var e;try{var n=null!==(null===(e=this.$o)||void 0===e?void 0:e.getItem(this.Xo(t)));return f("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return d("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.eh=function(){if(this.$o)try{this.$o.setItem(this.Xo(this.clientId),String(Date.now()))}catch(r){d("Failed to set zombie client id.",r)}},t.prototype.ih=function(){if(this.$o)try{this.$o.removeItem(this.Xo(this.clientId))}catch(r){}},t.prototype.Xo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function mi(t){return yi.Ms(t,Wr.store)}function vi(t){return yi.Ms(t,si.store)}var bi=function(){function t(t,e){this.db=t,this.Yi=new yr(this,e)}return t.prototype.ir=function(t){var e=this._h(t);return this.db.hh().do(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype._h=function(t){var e=0;return this.or(t,(function(t){e++})).next((function(){return e}))},t.prototype.be=function(t,e){return this.db.hh().be(t,e)},t.prototype.or=function(t,e){return this.fh(t,(function(t,n){return e(n)}))},t.prototype.Eo=function(t,e,n){return _i(t,n)},t.prototype.mo=function(t,e,n){return _i(t,n)},t.prototype.hr=function(t,e,n){return this.db.hh().hr(t,e,n)},t.prototype.Dr=function(t,e){return _i(t,e)},t.prototype.dh=function(t,e){return function(t,e){var n=!1;return Lr(t).ti((function(r){return Nr(t,r,e).next((function(t){return t&&(n=!0),Hn.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.ar=function(t,e){var n=this,r=this.db.ah().jr(),i=[],s=0;return this.fh(t,(function(o,a){if(a<=e){var u=n.dh(t,o).next((function(e){if(!e)return s++,r.Ln(t,o).next((function(){return r.Mn(o),di(t).delete([0,mr(o.path)])}))}));i.push(u)}})).next((function(){return Hn.Cn(i)})).next((function(){return r.apply(t)})).next((function(){return s}))},t.prototype.removeTarget=function(t,e){var n=e.tt(t.Ro);return this.db.hh().lo(t,n)},t.prototype.wh=function(t,e){return _i(t,e)},t.prototype.fh=function(t,e){var n,r=di(t),i=Qn.Es;return r.Zs({index:ei.documentTargetsIndex},(function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Qn.Es&&e(new F(_r(n)),i),i=o,n=s):i=Qn.Es})).next((function(){i!==Qn.Es&&e(new F(_r(n)),i)}))},t.prototype.cr=function(t){return this.db.ah().zr(t)},t}();function _i(t,e){return di(t).put(function(t,e){return new ei(0,mr(t.path),e)}(e,t.Ro))}function wi(t,e){var n=t.projectId;return t.i||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Ei=function(){function t(t,e,n){this.persistence=t,this.Th=e,this.Eh=new tt(w),this.Ih=new k((function(t){return z(t)}),$),this.mh=P.min(),this.Gn=t.oh(n),this.Ah=t.ah(),this.ko=t.hh(),this.Rh=new Wn(this.Ah,this.Gn,this.persistence.uh()),this.Th.Ph(this.Rh)}return t.prototype.er=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.ur(n,e.Eh)}))},t}();function Si(t,e){var n=v(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Ah.jr({Gr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Hn.resolve();return s.forEach((function(t){o=o.next((function(){return r.Ln(e,t)})).next((function(e){var s=e,o=n.Pn.get(t);m(null!==o),(!s||s.version.o(o)<0)&&(s=i.En(t,s,n))&&r.xn(s,n.Rn)}))})),o.next((function(){return t.Gn.br(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Gn.Cr(t)})).next((function(){return n.Rh.Zn(t,r)}))}))}function Oi(t){var e=v(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.ko.ro(t)}))}function xi(t,e){var n=v(t),r=e.Z,i=n.Eh;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var s=n.Ah.jr({Gr:!0});i=n.Eh;var o=[];e.Wt.forEach((function(e,s){var a=i.get(s);if(a){o.push(n.ko.Io(t,e.Zt,s).next((function(){return n.ko.To(t,e.Jt,s)})));var u=e.resumeToken;if(u.Y()>0){var c=a.et(u,r).tt(t.Ro);i=i.st(s,c),function(t,e,n){return m(e.resumeToken.Y()>0),0===t.resumeToken.Y()||e.Z.m()-t.Z.m()>=3e8||n.Jt.size+n.Xt.size+n.Zt.size>0}(a,c,e)&&o.push(n.ko.lo(t,c))}}}));var a=ot(),u=ft();if(e.Kt.forEach((function(t,e){u=u.add(t)})),o.push(s.getEntries(t,u).next((function(i){e.Kt.forEach((function(u,c){var l=i.get(u);c instanceof an&&c.version.isEqual(P.min())?(s.Mn(u,r),a=a.st(u,c)):null==l||c.version.o(l.version)>0||0===c.version.o(l.version)&&l.hasPendingWrites?(s.xn(c,r),a=a.st(u,c)):f("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),e.Gt.has(u)&&o.push(n.persistence.dr.wh(t,u))}))}))),!r.isEqual(P.min())){var c=n.ko.ro(t).next((function(e){return n.ko.ho(t,t.Ro,r)}));o.push(c)}return Hn.Cn(o).next((function(){return s.apply(t)})).next((function(){return n.Rh.ts(t,a)}))})).then((function(t){return n.Eh=i,t}))}function Ti(t,e){var n=v(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Gn.gr(t,e)}))}function Ii(t,e){var n=v(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.ko.wo(t,e).next((function(i){return i?Hn.resolve(r=i):n.ko.no(t).next((function(i){return r=new Y(e,i,0,t.Ro),n.ko.ao(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.Eh.get(t.targetId);return(null===r||t.Z.o(r.Z)>0)&&(n.Eh=n.Eh.st(t.targetId,t),n.Ih.set(e,t.targetId)),t}))}function Ci(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:i=v(t),s=i.Eh.get(e),o=n?"readwrite":"readwrite-primary",r.label=1;case 1:return r.trys.push([1,4,,5]),n?[3,3]:[4,i.persistence.runTransaction("Release target",o,(function(t){return i.persistence.dr.removeTarget(t,s)}))];case 2:r.sent(),r.label=3;case 3:return[3,5];case 4:if(!tr(a=r.sent()))throw a;return f("LocalStore","Failed to update sequence numbers for target "+e+": "+a),[3,5];case 5:return i.Eh=i.Eh.remove(e),i.Ih.delete(s.target),[2]}}))}))}function ki(t,e,n){var r=v(t),i=P.min(),s=ft();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=v(t),i=r.Ih.get(n);return void 0!==i?Hn.resolve(r.Eh.get(i)):r.ko.wo(e,n)}(r,t,gn(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.ko.Ao(t,e.targetId).next((function(t){s=t}))})).next((function(){return r.Th.ns(t,e,n?i:P.min(),n?s:ft())})).next((function(t){return{documents:t,gh:s}}))}))}function Ai(t,e){var n=v(t),r=v(n.ko),i=n.Eh.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Me(t,e).next((function(t){return t?t.target:null}))}))}function ji(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){if(t.code!==A.FAILED_PRECONDITION||t.message!==zn)throw t;return f("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Ni=function(){function t(){this.Vh=new rt(Pi.yh),this.ph=new rt(Pi.bh)}return t.prototype._=function(){return this.Vh._()},t.prototype.Eo=function(t,e){var n=new Pi(t,e);this.Vh=this.Vh.add(n),this.ph=this.ph.add(n)},t.prototype.vh=function(t,e){var n=this;t.forEach((function(t){return n.Eo(t,e)}))},t.prototype.mo=function(t,e){this.Sh(new Pi(t,e))},t.prototype.Dh=function(t,e){var n=this;t.forEach((function(t){return n.mo(t,e)}))},t.prototype.Ch=function(t){var e=this,n=new F(new D([])),r=new Pi(n,t),i=new Pi(n,t+1),s=[];return this.ph.St([r,i],(function(t){e.Sh(t),s.push(t.key)})),s},t.prototype.Nh=function(){var t=this;this.Vh.forEach((function(e){return t.Sh(e)}))},t.prototype.Sh=function(t){this.Vh=this.Vh.delete(t),this.ph=this.ph.delete(t)},t.prototype.Fh=function(t){var e=new F(new D([])),n=new Pi(e,t),r=new Pi(e,t+1),i=ft();return this.ph.St([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Nr=function(t){var e=new Pi(t,0),n=this.Vh.Ct(e);return null!==n&&t.isEqual(n.key)},t}(),Pi=function(){function t(t,e){this.key=t,this.kh=e}return t.yh=function(t,e){return F.P(t.key,e.key)||w(t.kh,e.kh)},t.bh=function(t,e){return w(t.kh,e.kh)||F.P(t.key,e.key)},t}(),Ri=function(){function t(t){this.uid=t}return t.prototype.Er=function(){return null!=this.uid},t.prototype.$h=function(){return this.Er()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Ri.UNAUTHENTICATED=new Ri(null),Ri.xh=new Ri("google-credentials-uid"),Ri.Oh=new Ri("first-party-uid");var Di=function(t,e){this.user=e,this.type="OAuth",this.Mh={},this.Mh.Authorization="Bearer "+t},Li=function(){function t(){this.Lh=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.qh=function(){},t.prototype.Bh=function(t){this.Lh=t,t(Ri.UNAUTHENTICATED)},t.prototype.Uh=function(){this.Lh=null},t}(),Mi=function(){function t(t){var e=this;this.Qh=null,this.currentUser=Ri.UNAUTHENTICATED,this.Wh=!1,this.jh=0,this.Lh=null,this.forceRefresh=!1,this.Qh=function(){e.jh++,e.currentUser=e.Kh(),e.Wh=!0,e.Lh&&e.Lh(e.currentUser)},this.jh=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Qh):(this.Qh(null),t.get().then((function(t){e.auth=t,e.Qh&&e.auth.addAuthTokenListener(e.Qh)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.jh,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.jh!==e?(f("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(m("string"==typeof n.accessToken),new Di(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.qh=function(){this.forceRefresh=!0},t.prototype.Bh=function(t){this.Lh=t,this.Wh&&t(this.currentUser)},t.prototype.Uh=function(){this.auth&&this.auth.removeAuthTokenListener(this.Qh),this.Qh=null,this.Lh=null},t.prototype.Kh=function(){var t=this.auth&&this.auth.getUid();return m(null===t||"string"==typeof t),new Ri(t)},t}(),Fi=function(){function t(t,e){this.Gh=t,this.zh=e,this.type="FirstParty",this.user=Ri.Oh}return Object.defineProperty(t.prototype,"Mh",{get:function(){var t={"X-Goog-AuthUser":this.zh},e=this.Gh.auth.Hh([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Ui=function(){function t(t,e){this.Gh=t,this.zh=e}return t.prototype.getToken=function(){return Promise.resolve(new Fi(this.Gh,this.zh))},t.prototype.Bh=function(t){t(Ri.Oh)},t.prototype.Uh=function(){},t.prototype.qh=function(){},t}(),Vi=function(){function t(t,e,n,r,i,s){this.Is=t,this.Yh=n,this.Jh=r,this.Xh=i,this.listener=s,this.state=0,this.Zh=0,this.ta=null,this.stream=null,this.Ti=new Yn(t,e)}return t.prototype.ea=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.na=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.sa()},t.prototype.stop=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.ea()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.ia=function(){this.state=0,this.Ti.reset()},t.prototype.ra=function(){var t=this;this.na()&&null===this.ta&&(this.ta=this.Is.Ss(this.Yh,6e4,(function(){return t.oa()})))},t.prototype.ha=function(t){this.aa(),this.stream.send(t)},t.prototype.oa=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.na()?[2,this.close(0)]:[2]}))}))},t.prototype.aa=function(){this.ta&&(this.ta.cancel(),this.ta=null)},t.prototype.close=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.aa(),this.Ti.cancel(),this.Zh++,3!==t?this.Ti.reset():e&&e.code===A.RESOURCE_EXHAUSTED?(d(e.toString()),d("Using maximum backoff delay to prevent overloading the backend."),this.Ti.ps()):e&&e.code===A.UNAUTHENTICATED&&this.Xh.qh(),null!==this.stream&&(this.ua(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ca(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ua=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.la(this.Zh),n=this.Zh;this.Xh.getToken().then((function(e){t.Zh===n&&t._a(e)}),(function(n){e((function(){var e=new j(A.UNKNOWN,"Fetching auth token failed: "+n.message);return t.fa(e)}))}))},t.prototype._a=function(t){var e=this,n=this.la(this.Zh);this.stream=this.da(t),this.stream.wa((function(){n((function(){return e.state=2,e.listener.wa()}))})),this.stream.ca((function(t){n((function(){return e.fa(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.sa=function(){var t=this;this.state=4,this.Ti.bs((function(){return r.__awaiter(t,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.fa=function(t){return f("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.la=function(t){var e=this;return function(n){e.Is.ai((function(){return e.Zh===t?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),qi=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).serializer=i,o}return r.__extends(e,t),e.prototype.da=function(t){return this.Jh.Ta("Listen",t)},e.prototype.onMessage=function(t){this.Ti.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.Le?(m(void 0===e||"string"==typeof e),G.fromBase64String(e||"")):(m(void 0===e||e instanceof Uint8Array),G.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){var e=void 0===t.code?A.UNKNOWN:J(t.code);return new j(e,t.message||"")}(o);n=new Et(r,i,s,a||null)}else if("documentChange"in e){var u=e.documentChange,c=ie(t,u.document.name),l=te(u.document.updateTime),h=new en({mapValue:{fields:u.document.fields}}),f=new on(c,l,h,{});n=new _t(u.targetIds||[],u.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){var d=e.documentDelete,p=ie(t,d.document),g=d.readTime?te(d.readTime):P.min(),v=new an(p,g);n=new _t([],d.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){var b=e.documentRemove,_=ie(t,b.document);n=new _t([],b.removedTargetIds||[],_,null)}else{if(!("filter"in e))return y();var w=e.filter,E=new X(w.count||0);n=new wt(w.targetId,E)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return P.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?P.min():e.readTime?te(e.readTime):P.min()}(t);return this.listener.Ea(e,n)},e.prototype.Ia=function(t){var e={};e.database=ae(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=W(r)?{documents:fe(t,r)}:{query:de(t,r)}).targetId=e.targetId,e.resumeToken.Y()>0&&(n.resumeToken=Zt(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return y()}}(0,e.X);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.ha(e)},e.prototype.ma=function(t){var e={};e.database=ae(this.serializer),e.removeTarget=t,this.ha(e)},e}(Vi),Hi=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).serializer=i,o.Aa=!1,o}return r.__extends(e,t),Object.defineProperty(e.prototype,"Ra",{get:function(){return this.Aa},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Aa=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ua=function(){this.Aa&&this.Pa([])},e.prototype.da=function(t){return this.Jh.Ta("Write",t)},e.prototype.onMessage=function(t){if(m(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Aa){this.Ti.reset();var e=function(t,e){return t&&t.length>0?(m(void 0!==e),t.map((function(t){return function(t,e){var n=te(t.updateTime?t.updateTime:e);n.isEqual(P.min())&&(n=te(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Fe(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=te(t.commitTime);return this.listener.ga(n,e)}return m(!t.writeResults||0===t.writeResults.length),this.Aa=!0,this.listener.Va()},e.prototype.ya=function(){var t={};t.database=ae(this.serializer),this.ha(t)},e.prototype.Pa=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return le(e.serializer,t)}))};this.ha(n)},e}(Vi),Bi=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Jh=n,i.serializer=r,i.pa=!1,i}return r.__extends(e,t),e.prototype.ba=function(){if(this.pa)throw new j(A.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.va=function(t,e,n){var r=this;return this.ba(),this.credentials.getToken().then((function(i){return r.Jh.va(t,e,n,i)})).catch((function(t){throw t.code===A.UNAUTHENTICATED&&r.credentials.qh(),t}))},e.prototype.Sa=function(t,e,n){var r=this;return this.ba(),this.credentials.getToken().then((function(i){return r.Jh.Sa(t,e,n,i)})).catch((function(t){throw t.code===A.UNAUTHENTICATED&&r.credentials.qh(),t}))},e.prototype.terminate=function(){this.pa=!1},e}((function(){})),zi=function(){function t(t,e){this.ei=t,this.Da=e,this.state="Unknown",this.Ca=0,this.Na=null,this.Fa=!0}return t.prototype.ka=function(){var t=this;0===this.Ca&&(this.$a("Unknown"),this.Na=this.ei.Ss("online_state_timeout",1e4,(function(){return t.Na=null,t.xa("Backend didn't respond within 10 seconds."),t.$a("Offline"),Promise.resolve()})))},t.prototype.Oa=function(t){"Online"===this.state?this.$a("Unknown"):(this.Ca++,this.Ca>=1&&(this.Ma(),this.xa("Connection failed 1 times. Most recent error: "+t.toString()),this.$a("Offline")))},t.prototype.set=function(t){this.Ma(),this.Ca=0,"Online"===t&&(this.Fa=!1),this.$a(t)},t.prototype.$a=function(t){t!==this.state&&(this.state=t,this.Da(t))},t.prototype.xa=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Fa?(d(e),this.Fa=!1):f("OnlineStateTracker",e)},t.prototype.Ma=function(){null!==this.Na&&(this.Na.cancel(),this.Na=null)},t}(),$i=function(){function t(t,e,n,i,s){var o=this;this.La=t,this.qa=e,this.ei=n,this.Ba=[],this.Ua=new Map,this.Qa=null,this.Wa=new Set,this.ja=s,this.ja.Ka((function(t){n.ai((function(){return r.__awaiter(o,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Ga()?(f("RemoteStore","Restarting streams for network reachability change."),[4,this.za()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Ha=new zi(n,i),this.Ya=function(t,e,n){var r=v(t);return r.ba(),new qi(e,r.Jh,r.credentials,r.serializer,n)}(this.qa,n,{wa:this.Ja.bind(this),ca:this.Xa.bind(this),Ea:this.Za.bind(this)}),this.tu=function(t,e,n){var r=v(t);return r.ba(),new Hi(e,r.Jh,r.credentials,r.serializer,n)}(this.qa,n,{wa:this.eu.bind(this),ca:this.nu.bind(this),Va:this.su.bind(this),ga:this.ga.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.Wa.delete(0),this.iu()},t.prototype.iu=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Ga()?(this.ru()?this.ou():this.Ha.set("Unknown"),[4,this.hu()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.disableNetwork=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Wa.add(0),[4,this.au()];case 1:return t.sent(),this.Ha.set("Offline"),[2]}}))}))},t.prototype.au=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.tu.stop()];case 1:return t.sent(),[4,this.Ya.stop()];case 2:return t.sent(),this.Ba.length>0&&(f("RemoteStore","Stopping write stream with "+this.Ba.length+" pending writes"),this.Ba=[]),this.uu(),[2]}}))}))},t.prototype.th=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return f("RemoteStore","RemoteStore shutting down."),this.Wa.add(5),[4,this.au()];case 1:return t.sent(),this.ja.th(),this.Ha.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.Ua.has(t.targetId)||(this.Ua.set(t.targetId,t),this.ru()?this.ou():this.Ya.na()&&this.cu(t))},t.prototype.lu=function(t){this.Ua.delete(t),this.Ya.na()&&this._u(t),0===this.Ua.size&&(this.Ya.na()?this.Ya.ra():this.Ga()&&this.Ha.set("Unknown"))},t.prototype.Me=function(t){return this.Ua.get(t)||null},t.prototype.Oe=function(t){return this.fu.Oe(t)},t.prototype.cu=function(t){this.Qa.we(t.targetId),this.Ya.Ia(t)},t.prototype._u=function(t){this.Qa.we(t),this.Ya.ma(t)},t.prototype.ou=function(){this.Qa=new Ot(this),this.Ya.start(),this.Ha.ka()},t.prototype.ru=function(){return this.Ga()&&!this.Ya.ea()&&this.Ua.size>0},t.prototype.Ga=function(){return 0===this.Wa.size},t.prototype.uu=function(){this.Qa=null},t.prototype.Ja=function(){return r.__awaiter(this,void 0,void 0,(function(){var t=this;return r.__generator(this,(function(e){return this.Ua.forEach((function(e,n){t.cu(e)})),[2]}))}))},t.prototype.Xa=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return this.uu(),this.ru()?(this.Ha.Oa(t),this.ou()):this.Ha.set("Unknown"),[2]}))}))},t.prototype.Za=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s;return r.__generator(this,(function(r){switch(r.label){case 0:if(this.Ha.set("Online"),!(t instanceof Et&&2===t.state&&t.cause))return[3,6];r.label=1;case 1:return r.trys.push([1,3,,5]),[4,this.du(t)];case 2:return r.sent(),[3,5];case 3:return n=r.sent(),f("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.wu(n)];case 4:return r.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof _t?this.Qa.ge(t):t instanceof wt?this.Qa.Ce(t):this.Qa.pe(t),e.isEqual(P.min()))return[3,13];r.label=7;case 7:return r.trys.push([7,11,,13]),[4,Oi(this.La)];case 8:return i=r.sent(),e.o(i)>=0?[4,this.Tu(e)]:[3,10];case 9:r.sent(),r.label=10;case 10:return[3,13];case 11:return f("RemoteStore","Failed to raise snapshot:",s=r.sent()),[4,this.wu(s)];case 12:return r.sent(),[3,13];case 13:return[2]}}))}))},t.prototype.wu=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(!tr(t))throw t;return this.Wa.add(1),[4,this.au()];case 1:return i.sent(),this.Ha.set("Offline"),e||(e=function(){return Oi(n.La)}),this.ei.gi((function(){return r.__awaiter(n,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return f("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return t.sent(),this.Wa.delete(1),[4,this.iu()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.Eu=function(t){var e=this;return t().catch((function(n){return e.wu(n,t)}))},t.prototype.Tu=function(t){var e=this,n=this.Qa.ke(t);return n.Wt.forEach((function(n,r){if(n.resumeToken.Y()>0){var i=e.Ua.get(r);i&&e.Ua.set(r,i.et(n.resumeToken,t))}})),n.jt.forEach((function(t){var n=e.Ua.get(t);if(n){e.Ua.set(t,n.et(G.J,n.Z)),e._u(t);var r=new Y(n.target,t,1,n.sequenceNumber);e.cu(r)}})),this.fu.Iu(n)},t.prototype.du=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,s;return r.__generator(this,(function(r){switch(r.label){case 0:e=t.cause,n=0,i=t.targetIds,r.label=1;case 1:return n<i.length?this.Ua.has(s=i[n])?[4,this.fu.mu(s,e)]:[3,3]:[3,5];case 2:r.sent(),this.Ua.delete(s),this.Qa.removeTarget(s),r.label=3;case 3:r.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},t.prototype.hu=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n;return r.__generator(this,(function(r){switch(r.label){case 0:t=this.Ba.length>0?this.Ba[this.Ba.length-1].batchId:-1,r.label=1;case 1:if(!this.Au())return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,Ti(this.La,t)];case 3:return null===(e=r.sent())?(0===this.Ba.length&&this.tu.ra(),[3,7]):(t=e.batchId,this.Ru(e),[3,6]);case 4:return n=r.sent(),[4,this.wu(n)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return this.Pu()&&this.gu(),[2]}}))}))},t.prototype.Au=function(){return this.Ga()&&this.Ba.length<10},t.prototype.Vu=function(){return this.Ba.length},t.prototype.Ru=function(t){this.Ba.push(t),this.tu.na()&&this.tu.Ra&&this.tu.Pa(t.mutations)},t.prototype.Pu=function(){return this.Ga()&&!this.tu.ea()&&this.Ba.length>0},t.prototype.gu=function(){this.tu.start()},t.prototype.eu=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){return this.tu.ya(),[2]}))}))},t.prototype.su=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e;return r.__generator(this,(function(n){for(t=0,e=this.Ba;t<e.length;t++)this.tu.Pa(e[t].mutations);return[2]}))}))},t.prototype.ga=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s=this;return r.__generator(this,(function(r){switch(r.label){case 0:return n=this.Ba.shift(),i=qn.from(n,t,e),[4,this.Eu((function(){return s.fu.yu(i)}))];case 1:return r.sent(),[4,this.hu()];case 2:return r.sent(),[2]}}))}))},t.prototype.nu=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return t&&this.tu.Ra?[4,this.pu(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.Pu()&&this.gu(),[2]}}))}))},t.prototype.pu=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return Z(n=t.code)&&n!==A.ABORTED?(e=this.Ba.shift(),this.tu.ia(),[4,this.Eu((function(){return i.fu.bu(e.batchId,t)}))]):[3,3];case 1:return r.sent(),[4,this.hu()];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.za=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Wa.add(4),[4,this.au()];case 1:return t.sent(),this.Ha.set("Unknown"),this.tu.ia(),this.Ya.ia(),this.Wa.delete(4),[4,this.iu()];case 2:return t.sent(),[2]}}))}))},t.prototype.vu=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.ei.pi(),f("RemoteStore","RemoteStore received new credentials"),this.Wa.add(3),[4,this.au()];case 1:return e.sent(),this.Ha.set("Unknown"),[4,this.fu.vu(t)];case 2:return e.sent(),this.Wa.delete(3),[4,this.iu()];case 3:return e.sent(),[2]}}))}))},t.prototype.Su=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return t?(this.Wa.delete(2),[4,this.iu()]):[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:(this.Wa.add(2),[4,this.au()]);case 3:e.sent(),this.Ha.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();function Wi(t,e){return"firestore_clients_"+t+"_"+e}function Gi(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Er()&&(r+="_"+e.uid),r}function Qi(t,e){return"firestore_targets_"+t+"_"+e}var Ki=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Du=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new j(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(d("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Cu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Yi=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Du=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new j(r.error.code,r.error.message)),i?new t(e,r.state,s):(d("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Cu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Xi=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Du=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=pt(),o=0;i&&o<r.activeTargetIds.length;++o)i=q(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(d("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Zi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Du=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(d("SharedClientState","Failed to parse online state: "+e),null)},t}(),Ji=function(){function t(){this.activeTargetIds=pt()}return t.prototype.Nu=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Fu=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Cu=function(){var t={activeTargetIds:this.activeTargetIds.N(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ts=function(){function t(t,e,n,r,i){this.window=t,this.Is=e,this.persistenceKey=n,this.ku=r,this.fu=null,this.Da=null,this.fs=null,this.$u=this.xu.bind(this),this.Ou=new tt(w),this.tr=!1,this.Mu=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Lu=Wi(this.persistenceKey,this.ku),this.qu=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ou=this.Ou.st(this.ku,new Ji),this.Bu=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Uu=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Qu=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.Wu=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.$u)}return t.ks=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e,n,i,s,o,a,u,c,l,h=this;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,this.fu.rh()];case 1:for(t=r.sent(),e=0,n=t;e<n.length;e++)(i=n[e])!==this.ku&&(s=this.getItem(Wi(this.persistenceKey,i)))&&(o=Xi.Du(i,s))&&(this.Ou=this.Ou.st(o.clientId,o));for(this.ju(),(a=this.storage.getItem(this.Wu))&&(u=this.Ku(a))&&this.Gu(u),c=0,l=this.Mu;c<l.length;c++)this.xu(l[c]);return this.Mu=[],this.window.addEventListener("unload",(function(){return h.th()})),this.tr=!0,[2]}}))}))},t.prototype.Ts=function(t){this.setItem(this.qu,JSON.stringify(t))},t.prototype.zu=function(){return this.Hu(this.Ou)},t.prototype.Yu=function(t){var e=!1;return this.Ou.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Ju=function(t){this.Xu(t,"pending")},t.prototype.Zu=function(t,e,n){this.Xu(t,e,n),this.tc(t)},t.prototype.ec=function(t){var e="not-current";if(this.Yu(t)){var n=this.storage.getItem(Qi(this.persistenceKey,t));if(n){var r=Yi.Du(t,n);r&&(e=r.state)}}return this.nc.Nu(t),this.ju(),e},t.prototype.sc=function(t){this.nc.Fu(t),this.ju()},t.prototype.ic=function(t){return this.nc.activeTargetIds.has(t)},t.prototype.rc=function(t){this.removeItem(Qi(this.persistenceKey,t))},t.prototype.oc=function(t,e,n){this.hc(t,e,n)},t.prototype.ac=function(t,e,n){var r=this;e.forEach((function(t){r.tc(t)})),this.currentUser=t,n.forEach((function(t){r.Ju(t)}))},t.prototype.uc=function(t){this.cc(t)},t.prototype.th=function(){this.tr&&(this.window.removeEventListener("storage",this.$u),this.removeItem(this.Lu),this.tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return f("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){f("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){f("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.xu=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(f("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Lu)return void d("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Is.gi((function(){return r.__awaiter(e,void 0,void 0,(function(){var t,e,i,s,o,a;return r.__generator(this,(function(r){if(this.tr){if(null!==n.key)if(this.Bu.test(n.key)){if(null==n.newValue)return t=this.lc(n.key),[2,this._c(t,null)];if(e=this.fc(n.key,n.newValue))return[2,this._c(e.clientId,e)]}else if(this.Uu.test(n.key)){if(null!==n.newValue&&(i=this.dc(n.key,n.newValue)))return[2,this.wc(i)]}else if(this.Qu.test(n.key)){if(null!==n.newValue&&(s=this.Tc(n.key,n.newValue)))return[2,this.Ec(s)]}else if(n.key===this.Wu){if(null!==n.newValue&&(o=this.Ku(n.newValue)))return[2,this.Gu(o)]}else n.key===this.qu&&(a=function(t){var e=Qn.Es;if(null!=t)try{var n=JSON.parse(t);m("number"==typeof n),e=n}catch(t){d("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Qn.Es&&this.fs(a)}else this.Mu.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"nc",{get:function(){return this.Ou.get(this.ku)},enumerable:!1,configurable:!0}),t.prototype.ju=function(){this.setItem(this.Lu,this.nc.Cu())},t.prototype.Xu=function(t,e,n){var r=new Ki(this.currentUser,t,e,n),i=Gi(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Cu())},t.prototype.tc=function(t){var e=Gi(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.cc=function(t){this.storage.setItem(this.Wu,JSON.stringify({clientId:this.ku,onlineState:t}))},t.prototype.hc=function(t,e,n){var r=Qi(this.persistenceKey,t),i=new Yi(t,e,n);this.setItem(r,i.Cu())},t.prototype.lc=function(t){var e=this.Bu.exec(t);return e?e[1]:null},t.prototype.fc=function(t,e){var n=this.lc(t);return Xi.Du(n,e)},t.prototype.dc=function(t,e){var n=this.Uu.exec(t),r=Number(n[1]);return Ki.Du(new Ri(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Tc=function(t,e){var n=this.Qu.exec(t),r=Number(n[1]);return Yi.Du(r,e)},t.prototype.Ku=function(t){return Zi.Du(t)},t.prototype.wc=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fu.Ic(t.batchId,t.state,t.error)]:(f("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Ec=function(t){return this.fu.mc(t.targetId,t.state,t.error)},t.prototype._c=function(t,e){var n=this,r=e?this.Ou.st(t,e):this.Ou.remove(t),i=this.Hu(this.Ou),s=this.Hu(r),o=[],a=[];return s.forEach((function(t){i.has(t)||o.push(t)})),i.forEach((function(t){s.has(t)||a.push(t)})),this.fu.Ac(o,a).then((function(){n.Ou=r}))},t.prototype.Gu=function(t){this.Ou.get(t.clientId)&&this.Da(t.onlineState)},t.prototype.Hu=function(t){var e=pt();return t.forEach((function(t,n){e=e.Nt(n.activeTargetIds)})),e},t}(),es=function(){function t(){this.Rc=new Ji,this.Pc={},this.Da=null,this.fs=null}return t.prototype.Ju=function(t){},t.prototype.Zu=function(t,e,n){},t.prototype.ec=function(t){return this.Rc.Nu(t),this.Pc[t]||"not-current"},t.prototype.oc=function(t,e,n){this.Pc[t]=e},t.prototype.sc=function(t){this.Rc.Fu(t)},t.prototype.ic=function(t){return this.Rc.activeTargetIds.has(t)},t.prototype.rc=function(t){delete this.Pc[t]},t.prototype.zu=function(){return this.Rc.activeTargetIds},t.prototype.Yu=function(t){return this.Rc.activeTargetIds.has(t)},t.prototype.start=function(){return this.Rc=new Ji,Promise.resolve()},t.prototype.ac=function(t,e,n){},t.prototype.uc=function(t){},t.prototype.th=function(){},t.prototype.Ts=function(t){},t}(),ns=function(t){this.key=t},rs=function(t){this.key=t},is=function(){function t(t,e){this.query=t,this.gc=e,this.Vc=null,this.Yt=!1,this.yc=ft(),this.qt=ft(),this.pc=Sn(t),this.bc=new gt(this.pc)}return Object.defineProperty(t.prototype,"vc",{get:function(){return this.gc},enumerable:!1,configurable:!0}),t.prototype.Sc=function(t,e){var n=this,r=e?e.Dc:new yt,i=e?e.bc:this.bc,s=e?e.qt:this.qt,o=i,a=!1,u=this.query.an()&&i.size===this.query.limit?i.last():null,c=this.query.un()&&i.size===this.query.limit?i.first():null;if(t.ht((function(t,e){var l=i.get(t),h=e instanceof on?e:null;h&&(h=En(n.query,h)?h:null);var f=!!l&&n.qt.has(l.key),d=!!h&&(h.Ge||n.qt.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Cc(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.pc(h,u)>0||c&&n.pc(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))})),this.query.an()||this.query.un())for(;o.size>this.query.limit;){var l=this.query.an()?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{bc:o,Dc:r,Nc:a,qt:s}},t.prototype.Cc=function(t,e){return t.Ge&&e.hasCommittedMutations&&!e.Ge},t.prototype.Un=function(t,e,n){var r=this,i=this.bc;this.bc=t.bc,this.qt=t.qt;var s=t.Dc.Mt();s.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return y()}};return n(t)-n(e)}(t.type,e.type)||r.pc(t.doc,e.doc)})),this.Fc(n);var o=e?this.kc():[],a=0===this.yc.size&&this.Yt?1:0,u=a!==this.Vc;return this.Vc=a,0!==s.length||u?{snapshot:new mt(this.query,t.bc,i,s,t.qt,0===a,u,!1),$c:o}:{$c:o}},t.prototype.xc=function(t){return this.Yt&&"Offline"===t?(this.Yt=!1,this.Un({bc:this.bc,Dc:new yt,qt:this.qt,Nc:!1},!1)):{$c:[]}},t.prototype.Oc=function(t){return!this.gc.has(t)&&!!this.bc.has(t)&&!this.bc.get(t).Ge},t.prototype.Fc=function(t){var e=this;t&&(t.Jt.forEach((function(t){return e.gc=e.gc.add(t)})),t.Xt.forEach((function(t){})),t.Zt.forEach((function(t){return e.gc=e.gc.delete(t)})),this.Yt=t.Yt)},t.prototype.kc=function(){var t=this;if(!this.Yt)return[];var e=this.yc;this.yc=ft(),this.bc.forEach((function(e){t.Oc(e.key)&&(t.yc=t.yc.add(e.key))}));var n=[];return e.forEach((function(e){t.yc.has(e)||n.push(new rs(e))})),this.yc.forEach((function(t){e.has(t)||n.push(new ns(t))})),n},t.prototype.Mc=function(t){this.gc=t.gh,this.yc=ft();var e=this.Sc(t.documents);return this.Un(e,!0)},t.prototype.Lc=function(){return mt.Qt(this.query,this.bc,this.qt,0===this.Vc)},t}(),ss=function(t,e,n){this.query=t,this.targetId=e,this.view=n},os=function(t){this.key=t,this.qc=!1},as=function(){function t(t,e,n,r,i,s){this.La=t,this.Bc=e,this.qa=n,this.Uc=r,this.currentUser=i,this.Qc=s,this.Wc=null,this.jc=new k((function(t){return _n(t)}),bn),this.Kc=new Map,this.Gc=[],this.zc=new tt(F.P),this.Hc=new Map,this.Yc=new Ni,this.Jc={},this.Xc=new Map,this.Zc=ci.eo(),this.onlineState="Unknown",this.tl=void 0}return Object.defineProperty(t.prototype,"el",{get:function(){return!0===this.tl},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){this.Wc=t},t.prototype.listen=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,s;return r.__generator(this,(function(r){switch(r.label){case 0:return this.nl("listen()"),(n=this.jc.get(t))?(this.Uc.ec(n.targetId),e=n.view.Lc(),[3,4]):[3,1];case 1:return[4,Ii(this.La,gn(t))];case 2:return i=r.sent(),s=this.Uc.ec(i.targetId),[4,this.sl(t,i.targetId,"current"===s)];case 3:e=r.sent(),this.el&&this.Bc.listen(i),r.label=4;case 4:return[2,e]}}))}))},t.prototype.sl=function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s,o,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,ki(this.La,t,!0)];case 1:return i=r.sent(),s=new is(t,i.gh),o=s.Sc(i.documents),a=bt.Ht(e,n&&"Offline"!==this.onlineState),u=s.Un(o,this.el,a),this.il(e,u.$c),c=new ss(t,e,s),[2,(this.jc.set(t,c),this.Kc.has(e)?this.Kc.get(e).push(t):this.Kc.set(e,[t]),u.snapshot)]}}))}))},t.prototype.lu=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.nl("unlisten()"),e=this.jc.get(t),(n=this.Kc.get(e.targetId)).length>1?[2,(this.Kc.set(e.targetId,n.filter((function(e){return!bn(e,t)}))),void this.jc.delete(t))]:this.el?(this.Uc.sc(e.targetId),this.Uc.Yu(e.targetId)?[3,2]:[4,Ci(this.La,e.targetId,!1).then((function(){i.Uc.rc(e.targetId),i.Bc.lu(e.targetId),i.rl(e.targetId)})).catch(ji)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.rl(e.targetId),[4,Ci(this.La,e.targetId,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s;return r.__generator(this,(function(r){switch(r.label){case 0:this.nl("write()"),r.label=1;case 1:return r.trys.push([1,5,,6]),[4,function(t,e){var n,r=v(t),i=N.now(),s=e.reduce((function(t,e){return t.add(e.key)}),ft());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Rh.Zn(t,s).next((function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=ze(c,n.get(c.key));null!=l&&o.push(new Qe(c.key,l,rn(l.proto.mapValue),Ue.exists(!0)))}return r.Gn.mr(t,i,o,e)}))})).then((function(t){var e=t.An(n);return{batchId:t.batchId,Fn:e}}))}(this.La,t)];case 2:return n=r.sent(),this.Uc.Ju(n.batchId),this.ol(n.batchId,e),[4,this.hl(n.Fn)];case 3:return r.sent(),[4,this.Bc.hu()];case 4:return r.sent(),[3,6];case 5:return i=r.sent(),s=lr(i,"Failed to persist write"),e.reject(s),[3,6];case 6:return[2]}}))}))},t.prototype.Iu=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(r){switch(r.label){case 0:this.nl("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,xi(this.La,t)];case 2:return e=r.sent(),t.Wt.forEach((function(t,e){var r=n.Hc.get(e);r&&(m(t.Jt.size+t.Xt.size+t.Zt.size<=1),t.Jt.size>0?r.qc=!0:t.Xt.size>0?m(r.qc):t.Zt.size>0&&(m(r.qc),r.qc=!1))})),[4,this.hl(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,ji(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.xc=function(t,e){if(this.el&&0===e||!this.el&&1===e){this.nl("applyOnlineStateChange()");var n=[];this.jc.forEach((function(e,r){var i=r.view.xc(t);i.snapshot&&n.push(i.snapshot)})),this.Wc.al(t),this.Wc.Ea(n),this.onlineState=t,this.el&&this.Uc.uc(t)}},t.prototype.mu=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a,u=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.nl("rejectListens()"),this.Uc.oc(t,"rejected",e),n=this.Hc.get(t),(i=n&&n.key)?(s=(s=new tt(F.P)).st(i,new an(i,P.min())),o=ft().add(i),a=new vt(P.min(),new Map,new rt(w),s,o),[4,this.Iu(a)]):[3,2];case 1:return r.sent(),this.zc=this.zc.remove(i),this.Hc.delete(t),this.ul(),[3,4];case 2:return[4,Ci(this.La,t,!1).then((function(){return u.rl(t,e)})).catch(ji)];case 3:r.sent(),r.label=4;case 4:return[2]}}))}))},t.prototype.yu=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){switch(r.label){case 0:this.nl("applySuccessfulWrite()"),e=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,Si(this.La,t)];case 2:return n=r.sent(),this.cl(e,null),this.ll(e),this.Uc.Zu(e,"acknowledged"),[4,this.hl(n)];case 3:return r.sent(),[3,6];case 4:return[4,ji(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.bu=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:this.nl("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,function(t,e){var n=v(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Gn.Rr(t,e).next((function(e){return m(null!==e),r=e.keys(),n.Gn.br(t,e)})).next((function(){return n.Gn.Cr(t)})).next((function(){return n.Rh.Zn(t,r)}))}))}(this.La,t)];case 2:return n=r.sent(),this.cl(t,e),this.ll(t),this.Uc.Zu(t,"rejected",e),[4,this.hl(n)];case 3:return r.sent(),[3,6];case 4:return[4,ji(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype._l=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,s;return r.__generator(this,(function(r){switch(r.label){case 0:this.Bc.Ga()||f("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,function(t){var e=v(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Gn.Vr(t)}))}(this.La)];case 2:return-1===(e=r.sent())?[2,void t.resolve()]:((n=this.Xc.get(e)||[]).push(t),this.Xc.set(e,n),[3,4]);case 3:return i=r.sent(),s=lr(i,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}}))}))},t.prototype.ll=function(t){(this.Xc.get(t)||[]).forEach((function(t){t.resolve()})),this.Xc.delete(t)},t.prototype.fl=function(t){this.Xc.forEach((function(e){e.forEach((function(e){e.reject(new j(A.CANCELLED,t))}))})),this.Xc.clear()},t.prototype.ol=function(t,e){var n=this.Jc[this.currentUser.$h()];n||(n=new tt(w)),n=n.st(t,e),this.Jc[this.currentUser.$h()]=n},t.prototype.cl=function(t,e){var n=this.Jc[this.currentUser.$h()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this.Jc[this.currentUser.$h()]=n}},t.prototype.rl=function(t,e){var n=this;void 0===e&&(e=null),this.Uc.sc(t);for(var r=0,i=this.Kc.get(t);r<i.length;r++){var s=i[r];this.jc.delete(s),e&&this.Wc.dl(s,e)}this.Kc.delete(t),this.el&&this.Yc.Ch(t).forEach((function(t){n.Yc.Nr(t)||n.wl(t)}))},t.prototype.wl=function(t){var e=this.zc.get(t);null!==e&&(this.Bc.lu(e),this.zc=this.zc.remove(t),this.Hc.delete(e),this.ul())},t.prototype.il=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof ns?(this.Yc.Eo(i.key,t),this.Tl(i)):i instanceof rs?(f("SyncEngine","Document no longer in limbo: "+i.key),this.Yc.mo(i.key,t),this.Yc.Nr(i.key)||this.wl(i.key)):y()}},t.prototype.Tl=function(t){var e=t.key;this.zc.get(e)||(f("SyncEngine","New document in limbo: "+e),this.Gc.push(e),this.ul())},t.prototype.ul=function(){for(;this.Gc.length>0&&this.zc.size<this.Qc;){var t=this.Gc.shift(),e=this.Zc.next();this.Hc.set(e,new os(t)),this.zc=this.zc.st(t,e),this.Bc.listen(new Y(gn(fn(t.path)),e,2,Qn.Es))}},t.prototype.El=function(){return this.zc},t.prototype.Il=function(){return this.Gc},t.prototype.hl=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o=this;return r.__generator(this,(function(a){switch(a.label){case 0:return n=[],i=[],s=[],this.jc.forEach((function(r,a){s.push(Promise.resolve().then((function(){var e=a.view.Sc(t);return e.Nc?ki(o.La,a.query,!1).then((function(t){return a.view.Sc(t.documents,e)})):e})).then((function(t){var r=e&&e.Wt.get(a.targetId),s=a.view.Un(t,o.el,r);if(o.il(a.targetId,s.$c),s.snapshot){o.el&&o.Uc.oc(a.targetId,s.snapshot.fromCache?"not-current":"current"),n.push(s.snapshot);var u=Gn._s(a.targetId,s.snapshot);i.push(u)}})))})),[4,Promise.all(s)];case 1:return a.sent(),this.Wc.Ea(n),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a,u,c,l;return r.__generator(this,(function(r){switch(r.label){case 0:n=v(t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Hn.forEach(e,(function(e){return Hn.forEach(e.cs,(function(r){return n.persistence.dr.Eo(t,e.targetId,r)})).next((function(){return Hn.forEach(e.ls,(function(r){return n.persistence.dr.mo(t,e.targetId,r)}))}))}))}))];case 2:return r.sent(),[3,4];case 3:if(!tr(i=r.sent()))throw i;return f("LocalStore","Failed to update sequence numbers: "+i),[3,4];case 4:for(s=0,o=e;s<o.length;s++)u=(a=o[s]).targetId,a.fromCache||(c=n.Eh.get(u),l=c.nt(c.Z),n.Eh=n.Eh.st(u,l));return[2]}}))}))}(this.La,i)];case 2:return a.sent(),[2]}}))}))},t.prototype.nl=function(t){},t.prototype.vu=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(t)?[3,3]:(f("SyncEngine","User change. New user:",t.$h()),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o;return r.__generator(this,(function(r){switch(r.label){case 0:return n=v(t),i=n.Gn,s=n.Rh,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var r;return n.Gn.yr(t).next((function(o){return r=o,i=n.persistence.oh(e),s=new Wn(n.Ah,i,n.persistence.uh()),i.yr(t)})).next((function(e){for(var n=[],i=[],o=ft(),a=0,u=r;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];i.push(p.batchId);for(var g=0,y=p.mutations;g<y.length;g++)o=o.add(y[g].key)}return s.Zn(t,o).next((function(t){return{ml:t,Al:n,Rl:i}}))}))}))];case 1:return o=r.sent(),[2,(n.Gn=i,n.Rh=s,n.Th.Ph(n.Rh),o)]}}))}))}(this.La,t)]);case 1:return e=n.sent(),this.currentUser=t,this.fl("'waitForPendingWrites' promise is rejected due to a user change."),this.Uc.ac(t,e.Al,e.Rl),[4,this.hl(e.ml)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.Oe=function(t){var e=this.Hc.get(t);if(e&&e.qc)return ft().add(e.key);var n=ft(),r=this.Kc.get(t);if(!r)return n;for(var i=0,s=r;i<s.length;i++){var o=this.jc.get(s[i]);n=n.Nt(o.view.vc)}return n},t}();function us(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s;return r.__generator(this,(function(r){switch(r.label){case 0:return[4,ki((n=v(t)).La,e.query,!0)];case 1:return i=r.sent(),s=e.view.Mc(i),[2,(n.el&&n.il(e.targetId,s.$c),s)]}}))}))}function cs(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var s,o;return r.__generator(this,(function(r){switch(r.label){case 0:return(s=v(t)).nl("applyBatchState()"),[4,function(t,e){var n=v(t),r=v(n.Gn);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Pr(t,e).next((function(e){return e?n.Rh.Zn(t,e):Hn.resolve(null)}))}))}(s.La,e)];case 1:return null===(o=r.sent())?[3,6]:"pending"!==n?[3,3]:[4,s.Bc.hu()];case 2:return r.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(s.cl(e,i||null),function(t,e){v(v(t).Gn).Sr(e)}(s.La,e)):y(),r.label=4;case 4:return[4,s.hl(o)];case 5:return r.sent(),[3,7];case 6:f("SyncEngine","Cannot apply mutation batch with id: "+e),r.label=7;case 7:return[2]}}))}))}function ls(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return n=v(t),!0!==e||!0===n.tl?[3,3]:(i=n.Uc.zu(),[4,hs(n,i.N())]);case 1:return s=r.sent(),n.tl=!0,[4,n.Bc.Su(!0)];case 2:for(r.sent(),o=0,a=s;o<a.length;o++)n.Bc.listen(a[o]);return[3,7];case 3:return!1!==e||!1===n.tl?[3,7]:(u=[],c=Promise.resolve(),n.Kc.forEach((function(t,e){n.Uc.ic(e)?u.push(e):c=c.then((function(){return n.rl(e),Ci(n.La,e,!0)})),n.Bc.lu(e)})),[4,c]);case 4:return r.sent(),[4,hs(n,u)];case 5:return r.sent(),function(t){var e=v(t);e.Hc.forEach((function(t,n){e.Bc.lu(n)})),e.Yc.Nh(),e.Hc=new Map,e.zc=new tt(F.P)}(n),n.tl=!1,[4,n.Bc.Su(!1)];case 6:r.sent(),r.label=7;case 7:return[2]}}))}))}function hs(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a,u,c,l,h,f,d,p,g;return r.__generator(this,(function(r){switch(r.label){case 0:n=v(t),i=[],s=[],o=0,a=e,r.label=1;case 1:return o<a.length?(c=void 0,(l=n.Kc.get(u=a[o]))&&0!==l.length?[4,Ii(n.La,gn(l[0]))]:[3,7]):[3,13];case 2:c=r.sent(),h=0,f=l,r.label=3;case 3:return h<f.length?(d=n.jc.get(f[h]),[4,us(n,d)]):[3,6];case 4:(p=r.sent()).snapshot&&s.push(p.snapshot),r.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Ai(n.La,u)];case 8:return g=r.sent(),[4,Ii(n.La,g)];case 9:return c=r.sent(),[4,n.sl(fs(g),u,!1)];case 10:r.sent(),r.label=11;case 11:i.push(c),r.label=12;case 12:return o++,[3,1];case 13:return[2,(n.Wc.Ea(s),i)]}}))}))}function fs(t){return hn(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ds(t){var e=v(t);return v(v(e.La).persistence).rh()}function ps(t,e,n,i){return r.__awaiter(this,void 0,void 0,(function(){var s,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:return(s=v(t)).tl?(f("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!s.Kc.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,function(t){var e=v(t),n=v(e.Ah);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n.Ur(t,e.mh)})).then((function(t){var n=t.Qr;return e.mh=t.readTime,n}))}(s.La)];case 3:return o=r.sent(),a=vt.zt(e,"current"===n),[4,s.hl(o,a)];case 4:return r.sent(),[3,8];case 5:return[4,Ci(s.La,e,!0)];case 6:return r.sent(),s.rl(e,i),[3,8];case 7:y(),r.label=8;case 8:return[2]}}))}))}function gs(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s,o,a,u,c,l,h,d;return r.__generator(this,(function(p){switch(p.label){case 0:if(!(i=v(t)).tl)return[3,10];s=0,o=e,p.label=1;case 1:return s<o.length?i.Kc.has(a=o[s])?(f("SyncEngine","Adding an already active target "+a),[3,5]):[4,Ai(i.La,a)]:[3,6];case 2:return u=p.sent(),[4,Ii(i.La,u)];case 3:return c=p.sent(),[4,i.sl(fs(u),c.targetId,!1)];case 4:p.sent(),i.Bc.listen(c),p.label=5;case 5:return s++,[3,1];case 6:l=function(t){return r.__generator(this,(function(e){switch(e.label){case 0:return i.Kc.has(t)?[4,Ci(i.La,t,!1).then((function(){i.Bc.lu(t),i.rl(t)})).catch(ji)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,d=n,p.label=7;case 7:return h<d.length?[5,l(d[h])]:[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}var ys=function(){this.Pl=void 0,this.listeners=[]},ms=function(){function t(t){this.fu=t,this.gl=new k((function(t){return _n(t)}),bn),this.onlineState="Unknown",this.Vl=new Set,this.fu.subscribe(this)}return t.prototype.listen=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,s,o,a;return r.__generator(this,(function(r){switch(r.label){case 0:if(n=!1,(i=this.gl.get(e=t.query))||(n=!0,i=new ys),!n)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),s=i,[4,this.fu.listen(e)];case 2:return s.Pl=r.sent(),[3,4];case 3:return o=r.sent(),a=lr(o,"Initialization of query '"+wn(t.query)+"' failed"),[2,void t.onError(a)];case 4:return this.gl.set(e,i),i.listeners.push(t),t.xc(this.onlineState),i.Pl&&t.yl(i.Pl)&&this.pl(),[2]}}))}))},t.prototype.lu=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n,i,s;return r.__generator(this,(function(r){return n=!1,(i=this.gl.get(e=t.query))&&(s=i.listeners.indexOf(t))>=0&&(i.listeners.splice(s,1),n=0===i.listeners.length),n?[2,(this.gl.delete(e),this.fu.lu(e))]:[2]}))}))},t.prototype.Ea=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],s=this.gl.get(i.query);if(s){for(var o=0,a=s.listeners;o<a.length;o++)a[o].yl(i)&&(e=!0);s.Pl=i}}e&&this.pl()},t.prototype.dl=function(t,e){var n=this.gl.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.gl.delete(t)},t.prototype.al=function(t){this.onlineState=t;var e=!1;this.gl.forEach((function(n,r){for(var i=0,s=r.listeners;i<s.length;i++)s[i].xc(t)&&(e=!0)})),e&&this.pl()},t.prototype.bl=function(t){this.Vl.add(t),t.next()},t.prototype.vl=function(t){this.Vl.delete(t)},t.prototype.pl=function(){this.Vl.forEach((function(t){t.next()}))},t}(),vs=function(){function t(t,e,n){this.query=t,this.Sl=e,this.Dl=!1,this.Cl=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.yl=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new mt(t.query,t.docs,t.Lt,e,t.qt,t.fromCache,t.Bt,!0)}var s=!1;return this.Dl?this.Nl(t)&&(this.Sl.next(t),s=!0):this.Fl(t,this.onlineState)&&(this.kl(t),s=!0),this.Cl=t,s},t.prototype.onError=function(t){this.Sl.error(t)},t.prototype.xc=function(t){this.onlineState=t;var e=!1;return this.Cl&&!this.Dl&&this.Fl(this.Cl,t)&&(this.kl(this.Cl),e=!0),e},t.prototype.Fl=function(t,e){return!t.fromCache||!(this.options.$l&&"Offline"!==e||t.docs._()&&"Offline"!==e)},t.prototype.Nl=function(t){return t.docChanges.length>0||!!(t.Bt||this.Cl&&this.Cl.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.kl=function(t){t=mt.Qt(t.query,t.docs,t.qt,t.fromCache),this.Dl=!0,this.Sl.next(t)},t}(),bs=function(){function t(){}return t.prototype.Ph=function(t){this.xl=t},t.prototype.ns=function(t,e,n,r){var i=this;return e.hn()||n.isEqual(P.min())?this.Ol(t,e):this.xl.Zn(t,r).next((function(o){var a=i.Ml(e,o);return(e.an()||e.un())&&i.Nc(e.nn,a,r,n)?i.Ol(t,e):(h()<=s.LogLevel.DEBUG&&f("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),wn(e)),i.xl.ns(t,e,n).next((function(t){return a.forEach((function(e){t=t.st(e.key,e)})),t})))}))},t.prototype.Ml=function(t,e){var n=new rt(Sn(t));return e.forEach((function(e,r){r instanceof on&&En(t,r)&&(n=n.add(r))})),n},t.prototype.Nc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.o(r)>0)},t.prototype.Ol=function(t,e){return h()<=s.LogLevel.DEBUG&&f("IndexFreeQueryEngine","Using full collection scan to execute query:",wn(e)),this.xl.ns(t,e,P.min())},t}(),_s=function(){function t(t,e){this.zn=t,this.dr=e,this.Gn=[],this.Ll=1,this.ql=new rt(Pi.yh)}return t.prototype.Ir=function(t){return Hn.resolve(0===this.Gn.length)},t.prototype.mr=function(t,e,n,r){var i=this.Ll;this.Ll++;var s=new Vn(i,e,n,r);this.Gn.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.ql=this.ql.add(new Pi(u.key,i)),this.zn.Ar(t,u.key.path.p())}return Hn.resolve(s)},t.prototype.Rr=function(t,e){return Hn.resolve(this.Bl(e))},t.prototype.gr=function(t,e){var n=this.Ul(e+1),r=n<0?0:n;return Hn.resolve(this.Gn.length>r?this.Gn[r]:null)},t.prototype.Vr=function(){return Hn.resolve(0===this.Gn.length?-1:this.Ll-1)},t.prototype.yr=function(t){return Hn.resolve(this.Gn.slice())},t.prototype.Yn=function(t,e){var n=this,r=new Pi(e,0),i=new Pi(e,Number.POSITIVE_INFINITY),s=[];return this.ql.St([r,i],(function(t){var e=n.Bl(t.kh);s.push(e)})),Hn.resolve(s)},t.prototype.es=function(t,e){var n=this,r=new rt(w);return e.forEach((function(t){var e=new Pi(t,0),i=new Pi(t,Number.POSITIVE_INFINITY);n.ql.St([e,i],(function(t){r=r.add(t.kh)}))})),Hn.resolve(this.Ql(r))},t.prototype.as=function(t,e){var n=e.path,r=n.length+1,i=n;F.j(i)||(i=i.child(""));var s=new Pi(new F(i),0),o=new rt(w);return this.ql.Dt((function(t){var e=t.key.path;return!!n.D(e)&&(e.length===r&&(o=o.add(t.kh)),!0)}),s),Hn.resolve(this.Ql(o))},t.prototype.Ql=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Bl(t);null!==r&&n.push(r)})),n},t.prototype.br=function(t,e){var n=this;m(0===this.Wl(e.batchId,"removed")),this.Gn.shift();var r=this.ql;return Hn.forEach(e.mutations,(function(i){var s=new Pi(i.key,e.batchId);return r=r.delete(s),n.dr.Dr(t,i.key)})).next((function(){n.ql=r}))},t.prototype.Sr=function(t){},t.prototype.Nr=function(t,e){var n=new Pi(e,0),r=this.ql.Ct(n);return Hn.resolve(e.isEqual(r&&r.key))},t.prototype.Cr=function(t){return Hn.resolve()},t.prototype.Wl=function(t,e){return this.Ul(t)},t.prototype.Ul=function(t){return 0===this.Gn.length?0:t-this.Gn[0].batchId},t.prototype.Bl=function(t){var e=this.Ul(t);return e<0||e>=this.Gn.length?null:this.Gn[e]},t}(),ws=function(){function t(t,e){this.zn=t,this.jl=e,this.docs=new tt(F.P),this.size=0}return t.prototype.xn=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.jl(e);return this.docs=this.docs.st(r,{Or:e,size:o,readTime:n}),this.size+=o-s,this.zn.Ar(t,r.path.p())},t.prototype.Mn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.Ln=function(t,e){var n=this.docs.get(e);return Hn.resolve(n?n.Or:null)},t.prototype.getEntries=function(t,e){var n=this,r=at();return e.forEach((function(t){var e=n.docs.get(t);r=r.st(t,e?e.Or:null)})),Hn.resolve(r)},t.prototype.ns=function(t,e,n){for(var r=ct(),i=new F(e.path.child("")),s=this.docs.ct(i);s.Tt();){var o=s.wt(),a=o.value,u=a.Or,c=a.readTime;if(!e.path.D(o.key.path))break;c.o(n)<=0||u instanceof on&&En(e,u)&&(r=r.st(u.key,u))}return Hn.resolve(r)},t.prototype.Kl=function(t,e){return Hn.forEach(this.docs,(function(t){return e(t)}))},t.prototype.jr=function(e){return new t.Kr(this)},t.prototype.zr=function(t){return Hn.resolve(this.size)},t}();ws.Kr=function(t){function e(e){var n=this;return(n=t.call(this)||this).Hr=e,n}return r.__extends(e,t),e.prototype.Un=function(t){var e=this,n=[];return this.Fn.forEach((function(r,i){i?n.push(e.Hr.xn(t,i,e.readTime)):e.Hr.Mn(r)})),Hn.Cn(n)},e.prototype.qn=function(t,e){return this.Hr.Ln(t,e)},e.prototype.Bn=function(t,e){return this.Hr.getEntries(t,e)},e}(Bn);var Es=function(){function t(t){this.persistence=t,this.Gl=new k((function(t){return z(t)}),$),this.lastRemoteSnapshotVersion=P.min(),this.highestTargetId=0,this.zl=0,this.Hl=new Ni,this.targetCount=0,this.Yl=ci.to()}return t.prototype.be=function(t,e){return this.Gl.forEach((function(t,n){return e(n)})),Hn.resolve()},t.prototype.ro=function(t){return Hn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.oo=function(t){return Hn.resolve(this.zl)},t.prototype.no=function(t){return this.highestTargetId=this.Yl.next(),Hn.resolve(this.highestTargetId)},t.prototype.ho=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zl&&(this.zl=e),Hn.resolve()},t.prototype.uo=function(t){this.Gl.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yl=new ci(e),this.highestTargetId=e),t.sequenceNumber>this.zl&&(this.zl=t.sequenceNumber)},t.prototype.ao=function(t,e){return this.uo(e),this.targetCount+=1,Hn.resolve()},t.prototype.lo=function(t,e){return this.uo(e),Hn.resolve()},t.prototype._o=function(t,e){return this.Gl.delete(e.target),this.Hl.Ch(e.targetId),this.targetCount-=1,Hn.resolve()},t.prototype.hr=function(t,e,n){var r=this,i=0,s=[];return this.Gl.forEach((function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gl.delete(o),s.push(r.fo(t,a.targetId)),i++)})),Hn.Cn(s).next((function(){return i}))},t.prototype.do=function(t){return Hn.resolve(this.targetCount)},t.prototype.wo=function(t,e){var n=this.Gl.get(e)||null;return Hn.resolve(n)},t.prototype.To=function(t,e,n){return this.Hl.vh(e,n),Hn.resolve()},t.prototype.Io=function(t,e,n){this.Hl.Dh(e,n);var r=this.persistence.dr,i=[];return r&&e.forEach((function(e){i.push(r.Dr(t,e))})),Hn.Cn(i)},t.prototype.fo=function(t,e){return this.Hl.Ch(e),Hn.resolve()},t.prototype.Ao=function(t,e){var n=this.Hl.Fh(e);return Hn.resolve(n)},t.prototype.Nr=function(t,e){return Hn.resolve(this.Hl.Nr(e))},t}(),Ss=function(){function t(t){var e=this;this.Jl={},this.yo=new Qn(0),this.po=!1,this.po=!0,this.dr=t(this),this.ko=new Es(this),this.zn=new Hr,this.Kn=new ws(this.zn,(function(t){return e.dr.Xl(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.th=function(){return this.po=!1,Promise.resolve()},Object.defineProperty(t.prototype,"tr",{get:function(){return this.po},enumerable:!1,configurable:!0}),t.prototype.Bo=function(){},t.prototype.Uo=function(){},t.prototype.uh=function(){return this.zn},t.prototype.oh=function(t){var e=this.Jl[t.$h()];return e||(e=new _s(this.zn,this.dr),this.Jl[t.$h()]=e),e},t.prototype.hh=function(){return this.ko},t.prototype.ah=function(){return this.Kn},t.prototype.runTransaction=function(t,e,n){var r=this;f("MemoryPersistence","Starting transaction:",t);var i=new Os(this.yo.next());return this.dr.Zl(),n(i).next((function(t){return r.dr.t_(i).next((function(){return t}))})).Sn().then((function(t){return i.jn(),t}))},t.prototype.e_=function(t,e){return Hn.Nn(Object.values(this.Jl).map((function(n){return function(){return n.Nr(t,e)}})))},t}(),Os=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ro=e,n}return r.__extends(e,t),e}($n),xs=function(){function t(t){this.persistence=t,this.n_=new Ni,this.s_=null}return t.i_=function(e){return new t(e)},Object.defineProperty(t.prototype,"r_",{get:function(){if(this.s_)return this.s_;throw y()},enumerable:!1,configurable:!0}),t.prototype.Eo=function(t,e,n){return this.n_.Eo(n,e),this.r_.delete(n.toString()),Hn.resolve()},t.prototype.mo=function(t,e,n){return this.n_.mo(n,e),this.r_.add(n.toString()),Hn.resolve()},t.prototype.Dr=function(t,e){return this.r_.add(e.toString()),Hn.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.n_.Ch(e.targetId).forEach((function(t){return n.r_.add(t.toString())}));var r=this.persistence.hh();return r.Ao(t,e.targetId).next((function(t){t.forEach((function(t){return n.r_.add(t.toString())}))})).next((function(){return r._o(t,e)}))},t.prototype.Zl=function(){this.s_=new Set},t.prototype.t_=function(t){var e=this,n=this.persistence.ah().jr();return Hn.forEach(this.r_,(function(r){var i=F.B(r);return e.o_(t,i).next((function(t){t||n.Mn(i)}))})).next((function(){return e.s_=null,n.apply(t)}))},t.prototype.wh=function(t,e){var n=this;return this.o_(t,e).next((function(t){t?n.r_.delete(e.toString()):n.r_.add(e.toString())}))},t.prototype.Xl=function(t){return 0},t.prototype.o_=function(t,e){var n=this;return Hn.Nn([function(){return Hn.resolve(n.n_.Nr(e))},function(){return n.persistence.hh().Nr(t,e)},function(){return n.persistence.e_(t,e)}])},t}(),Ts=function(){function t(t){this.h_=t.h_,this.a_=t.a_}return t.prototype.wa=function(t){this.u_=t},t.prototype.ca=function(t){this.c_=t},t.prototype.onMessage=function(t){this.l_=t},t.prototype.close=function(){this.a_()},t.prototype.send=function(t){this.h_(t)},t.prototype.__=function(){this.u_()},t.prototype.f_=function(t){this.c_(t)},t.prototype.d_=function(t){this.l_(t)},t}(),Is={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Cs=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n}return r.__extends(e,t),e.prototype.A_=function(t,e,n,r){return new Promise((function(i,s){var o=new a.XhrIo;o.listenOnce(a.EventType.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case a.ErrorCode.NO_ERROR:var e=o.getResponseJson();f("Connection","XHR received:",JSON.stringify(e)),i(e);break;case a.ErrorCode.TIMEOUT:f("Connection",'RPC "'+t+'" timed out'),s(new j(A.DEADLINE_EXCEEDED,"Request time out"));break;case a.ErrorCode.HTTP_ERROR:var n=o.getStatus();if(f("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(A).indexOf(e)>=0?e:A.UNKNOWN}(r.status);s(new j(u,r.message))}else s(new j(A.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new j(A.UNAVAILABLE,"Connection failed."));break;default:y()}}finally{f("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);o.send(e,"POST",u,n,15)}))},e.prototype.Ta=function(t,e){var n=[this.T_,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=a.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.m_(i.initMessageHeaders,e),o.isMobileCordova()||o.isReactNative()||o.isElectron()||o.isIE()||o.isUWP()||o.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");f("Connection","Creating WebChannel: "+s,i);var u=r.createWebChannel(s,i),c=!1,l=!1,h=new Ts({h_:function(t){l?f("Connection","Not sending because WebChannel is closed:",t):(c||(f("Connection","Opening WebChannel transport."),u.open(),c=!0),f("Connection","WebChannel sending:",t),u.send(t))},a_:function(){return u.close()}}),d=function(t,e){u.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return d(a.WebChannel.EventType.OPEN,(function(){l||f("Connection","WebChannel transport opened.")})),d(a.WebChannel.EventType.CLOSE,(function(){l||(l=!0,f("Connection","WebChannel transport closed"),h.f_())})),d(a.WebChannel.EventType.ERROR,(function(t){l||(l=!0,p("Connection","WebChannel transport errored:",t),h.f_(new j(A.UNAVAILABLE,"The operation could not be completed")))})),d(a.WebChannel.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];m(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){f("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Q[t];if(void 0!==e)return J(e)}(i),o=r.message;void 0===s&&(s=A.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),l=!0,h.f_(new j(s,o)),u.close()}else f("Connection","WebChannel received:",n),h.d_(n)}})),setTimeout((function(){h.__()}),0),h},e}(function(){function t(t){this.w_=t,this.s=t.s,this.T_=(t.ssl?"https":"http")+"://"+t.host,this.E_="projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents"}return t.prototype.va=function(t,e,n,r){var i=this.I_(t,e);f("RestConnection","Sending: ",i,n);var s={};return this.m_(s,r),this.A_(t,i,s,n).then((function(t){return f("RestConnection","Received: ",t),t}),(function(e){throw p("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Sa=function(t,e,n,r){return this.va(t,e,n,r)},t.prototype.m_=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.19.1",t["Content-Type"]="text/plain",e)for(var n in e.Mh)e.Mh.hasOwnProperty(n)&&(t[n]=e.Mh[n])},t.prototype.I_=function(t,e){return this.T_+"/v1/"+e+":"+Is[t]},t}()),ks=function(){function t(){var t=this;this.R_=function(){return t.P_()},this.g_=function(){return t.V_()},this.y_=[],this.p_()}return t.prototype.Ka=function(t){this.y_.push(t)},t.prototype.th=function(){window.removeEventListener("online",this.R_),window.removeEventListener("offline",this.g_)},t.prototype.p_=function(){window.addEventListener("online",this.R_),window.addEventListener("offline",this.g_)},t.prototype.P_=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.y_;t<e.length;t++)(0,e[t])(0)},t.prototype.V_=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.y_;t<e.length;t++)(0,e[t])(1)},t.ks=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),As=function(){function t(){}return t.prototype.Ka=function(t){},t.prototype.th=function(){},t}();function js(t){return new Gt(t,!0)}var Ns="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",Ps=function(){function t(){}return t.prototype.initialize=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.Uc=this.b_(t),this.persistence=this.v_(t),[4,this.persistence.start()];case 1:return e.sent(),this.S_=this.D_(t),this.La=this.C_(t),[2]}}))}))},t.prototype.D_=function(t){return null},t.prototype.C_=function(t){return e=this.persistence,n=new bs,new Ei(e,n,t.N_);var e,n},t.prototype.v_=function(t){if(t.k_.F_)throw new j(A.FAILED_PRECONDITION,Ns);return new Ss(xs.i_)},t.prototype.b_=function(t){return new es},t.prototype.terminate=function(){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.S_&&this.S_.stop(),[4,this.Uc.th()];case 1:return t.sent(),[4,this.persistence.th()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new j(A.FAILED_PRECONDITION,Ns)},t}(),Rs=function(t){function e(e){var n=this;return(n=t.call(this)||this).x_=e,n}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){var n,i=this;return r.__generator(this,(function(s){switch(s.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return s.sent(),[4,this.x_.initialize(this,e)];case 2:return s.sent(),n=this.x_.fu,this.Uc instanceof ts?(this.Uc.fu={Ic:cs.bind(null,n),mc:ps.bind(null,n),Ac:gs.bind(null,n),rh:ds.bind(null,n)},[4,this.Uc.start()]):[3,4];case 3:s.sent(),s.label=4;case 4:return[4,this.persistence.qo((function(t){return r.__awaiter(i,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return[4,ls(this.x_.fu,t)];case 1:return e.sent(),this.S_&&(t&&!this.S_.tr?this.S_.start(this.La):t||this.S_.stop()),[2]}}))}))}))];case 5:return s.sent(),[2]}}))}))},e.prototype.b_=function(t){if(t.k_.F_&&t.k_.synchronizeTabs){var e=or();if(!ts.ks(e))throw new j(A.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=wi(t.w_.s,t.w_.persistenceKey);return new ts(e,t.ei,n,t.clientId,t.N_)}return new es},e}(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.initialize=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n;return r.__generator(this,(function(r){return e=v(t),n=v(e.Ah),[2,e.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return n.Wr(t)})).then((function(t){e.mh=t}))]}))}))}(this.La)];case 2:return n.sent(),[2]}}))}))},e.prototype.D_=function(t){return new gr(this.persistence.dr.Yi,t.ei)},e.prototype.v_=function(t){var e=wi(t.w_.s,t.w_.persistenceKey),n=js(t.w_.s);return new yi(t.k_.synchronizeTabs,e,t.clientId,pr.Ui(t.k_.cacheSizeBytes),t.ei,or(),ar(),n,this.Uc,t.k_.Vo)},e.prototype.b_=function(t){return new es},e.prototype.clearPersistence=function(t,e){return function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return Xn.ks()?[4,Xn.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(wi(t,e))},e}(Ps)),Ds=function(){function t(){}return t.prototype.initialize=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(r){switch(r.label){case 0:return this.La?[3,3]:(this.La=t.La,this.Uc=t.Uc,this.qa=this.O_(e),this.Bc=this.M_(e),this.fu=this.L_(e),this.q_=this.B_(e),this.Uc.Da=function(t){return n.fu.xc(t,1)},this.Bc.fu=this.fu,[4,this.Bc.start()]);case 1:return r.sent(),[4,this.Bc.Su(this.fu.el)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.B_=function(t){return new ms(this.fu)},t.prototype.O_=function(t){var e=js(t.w_.s),n=new Cs(t.w_);return function(t,e,n){return new Bi(t,e,n)}(t.credentials,n,e)},t.prototype.M_=function(t){var e=this;return new $i(this.La,this.qa,t.ei,(function(t){return e.fu.xc(t,0)}),ks.ks()?new ks:new As)},t.prototype.L_=function(t){return function(t,e,n,r,i,s,o){var a=new as(t,e,n,r,i,s);return o&&(a.tl=!0),a}(this.La,this.Bc,this.qa,this.Uc,t.N_,t.Qc,!t.k_.F_||!t.k_.synchronizeTabs)},t.prototype.terminate=function(){return this.Bc.th()},t}();function Ls(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}var Ms=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.U_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.U_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Q_=function(){this.muted=!0},t.prototype.U_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();function Fs(t,e){if(0!==e.length)throw new j(A.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+no(e.length,"argument")+".")}function Us(t,e,n){if(e.length!==n)throw new j(A.INVALID_ARGUMENT,"Function "+t+"() requires "+no(n,"argument")+", but was called with "+no(e.length,"argument")+".")}function Vs(t,e,n){if(e.length<n)throw new j(A.INVALID_ARGUMENT,"Function "+t+"() requires at least "+no(n,"argument")+", but was called with "+no(e.length,"argument")+".")}function qs(t,e,n,r){if(e.length<n||e.length>r)throw new j(A.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+no(e.length,"argument")+".")}function Hs(t,e,n,r){Qs(t,e,eo(n)+" argument",r)}function Bs(t,e,n,r){void 0!==r&&Hs(t,e,n,r)}function zs(t,e,n,r){Qs(t,e,n+" option",r)}function $s(t,e,n,r){void 0!==r&&zs(t,e,n,r)}function Ws(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var s=[],o=0,a=i;o<a.length;o++){var u=a[o];if(u===r)return;s.push(Ys(u))}var c=Ys(r);throw new j(A.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+s.join(", "))}(t,0,n,r,i)}function Gs(t,e,n,r){if(!e.some((function(t){return t===r})))throw new j(A.INVALID_ARGUMENT,"Invalid value "+Ys(r)+" provided to function "+t+"() for its "+eo(n)+" argument. Acceptable values: "+e.join(", "));return r}function Qs(t,e,n,r){if(!("object"===e?Ks(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=Ys(r);throw new j(A.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function Ks(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function Ys(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":y()}function Xs(t,e,n){if(void 0===n)throw new j(A.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+eo(e)+" argument, but it was undefined.")}function Zs(t,e,n){I(e,(function(e,r){if(n.indexOf(e)<0)throw new j(A.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function Js(t,e,n,r){var i=Ys(r);return new j(A.INVALID_ARGUMENT,"Function "+t+"() requires its "+eo(n)+" argument to be a "+e+", but it was: "+i)}function to(t,e,n){if(n<=0)throw new j(A.INVALID_ARGUMENT,"Function "+t+"() requires its "+eo(e)+" argument to be a positive number, but it was: "+n+".")}function eo(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function no(t,e){return t+" "+e+(1===t?"":"s")}function ro(){if("undefined"==typeof Uint8Array)throw new j(A.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function io(){if("undefined"==typeof atob)throw new j(A.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var so=function(){function t(t){io(),this.W_=t}return t.fromBase64String=function(e){Us("Blob.fromBase64String",arguments,1),Hs("Blob.fromBase64String","string",1,e),io();try{return new t(G.fromBase64String(e))}catch(e){throw new j(A.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(Us("Blob.fromUint8Array",arguments,1),ro(),!(e instanceof Uint8Array))throw Js("Blob.fromUint8Array","Uint8Array",1,e);return new t(G.fromUint8Array(e))},t.prototype.toBase64=function(){return Us("Blob.toBase64",arguments,0),io(),this.W_.toBase64()},t.prototype.toUint8Array=function(){return Us("Blob.toUint8Array",arguments,0),ro(),this.W_.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.W_.isEqual(t.W_)},t}(),oo=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new j(A.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+no(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(Hs("FieldPath","string",e,t[e]),0===t[e].length)throw new j(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.j_=new M(t)},ao=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return r.__extends(e,t),e.documentId=function(){return new e(M.L().F())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Js("isEqual","FieldPath",1,t);return this.j_.isEqual(t.j_)},e}(oo),uo=new RegExp("[~\\*/\\[\\]]"),co=function(){this.K_=this},lo=function(t){function e(e){var n=this;return(n=t.call(this)||this).G_=e,n}return r.__extends(e,t),e.prototype.z_=function(t){if(2!==t.H_)throw t.Y_(1===t.H_?this.G_+"() can only appear at the top level of your update data":this.G_+"() cannot be used with set() unless you pass {merge:true}");return t.qe.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(co);function ho(t,e,n){return new xo({H_:3,J_:e.settings.J_,methodName:t.G_,X_:n},e.s,e.serializer,e.ignoreUndefinedProperties)}var fo=function(t){function e(e){var n=this;return(n=t.call(this)||this).G_=e,n}return r.__extends(e,t),e.prototype.z_=function(t){return new Me(t.path,new Ce)},e.prototype.isEqual=function(t){return t instanceof e},e}(co),po=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).G_=e,r.Z_=n,r}return r.__extends(e,t),e.prototype.z_=function(t){var e=ho(this,t,!0),n=this.Z_.map((function(t){return jo(t,e)})),r=new ke(n);return new Me(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(co),go=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).G_=e,r.Z_=n,r}return r.__extends(e,t),e.prototype.z_=function(t){var e=ho(this,t,!0),n=this.Z_.map((function(t){return jo(t,e)})),r=new je(n);return new Me(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(co),yo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).G_=e,r.tf=n,r}return r.__extends(e,t),e.prototype.z_=function(t){var e=new Pe(t.serializer,Yt(t.serializer,this.tf));return new Me(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(co),mo=function(t){function e(){return t.call(this)||this}return r.__extends(e,t),e.delete=function(){return Fs("FieldValue.delete",arguments),new vo(new lo("FieldValue.delete"))},e.serverTimestamp=function(){return Fs("FieldValue.serverTimestamp",arguments),new vo(new fo("FieldValue.serverTimestamp"))},e.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Vs("FieldValue.arrayUnion",arguments,1),new vo(new po("FieldValue.arrayUnion",t))},e.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Vs("FieldValue.arrayRemove",arguments,1),new vo(new go("FieldValue.arrayRemove",t))},e.increment=function(t){return Hs("FieldValue.increment","number",1,t),Us("FieldValue.increment",arguments,1),new vo(new yo("FieldValue.increment",t))},e}(co),vo=function(t){function e(e){var n=this;return(n=t.call(this)||this).K_=e,n.G_=e.G_,n}return r.__extends(e,t),e.prototype.z_=function(t){return this.K_.z_(t)},e.prototype.isEqual=function(t){return t instanceof e&&this.K_.isEqual(t.K_)},e}(mo),bo=function(){function t(t,e){if(Us("GeoPoint",arguments,2),Hs("GeoPoint","number",1,t),Hs("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new j(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new j(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.ef=t,this.nf=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.ef},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.nf},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.ef===t.ef&&this.nf===t.nf},t.prototype.toJSON=function(){return{latitude:this.ef,longitude:this.nf}},t.prototype.T=function(t){return w(this.ef,t.ef)||w(this.nf,t.nf)},t}(),_o=/^__.*__$/,wo=function(t,e,n){this.sf=t,this.if=e,this.rf=n},Eo=function(){function t(t,e,n){this.data=t,this.qe=e,this.fieldTransforms=n}return t.prototype.hf=function(t,e){var n=[];return n.push(null!==this.qe?new Qe(t,this.data,this.qe,e):new Ge(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Ye(t,this.fieldTransforms)),n},t}(),So=function(){function t(t,e,n){this.data=t,this.qe=e,this.fieldTransforms=n}return t.prototype.hf=function(t,e){var n=[new Qe(t,this.data,this.qe,e)];return this.fieldTransforms.length>0&&n.push(new Ye(t,this.fieldTransforms)),n},t}();function Oo(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw y()}}var xo=function(){function t(t,e,n,r,i,s){this.settings=t,this.s=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.af(),this.fieldTransforms=i||[],this.qe=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"H_",{get:function(){return this.settings.H_},enumerable:!1,configurable:!0}),t.prototype.uf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.qe)},t.prototype.cf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.uf({path:n,X_:!1});return r.lf(t),r},t.prototype._f=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.uf({path:n,X_:!1});return r.af(),r},t.prototype.ff=function(t){return this.uf({path:void 0,X_:!0})},t.prototype.Y_=function(t){return Mo(t,this.settings.methodName,this.settings.df||!1,this.path,this.settings.J_)},t.prototype.contains=function(t){return void 0!==this.qe.find((function(e){return t.D(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.D(e.field)}))},t.prototype.af=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.lf(this.path.get(t))},t.prototype.lf=function(t){if(0===t.length)throw this.Y_("Document fields must not be empty");if(Oo(this.H_)&&_o.test(t))throw this.Y_('Document fields cannot begin and end with "__"')},t}(),To=function(){function t(t,e,n){this.s=t,this.ignoreUndefinedProperties=e,this.serializer=n||js(t)}return t.prototype.wf=function(t,e,n,r){return void 0===r&&(r=!1),new xo({H_:t,methodName:e,J_:n,path:M.$(),X_:!1,df:r},this.s,this.serializer,this.ignoreUndefinedProperties)},t}();function Io(t,e,n,r,i,s){void 0===s&&(s={});var o=t.wf(s.merge||s.mergeFields?2:0,e,n,i);Ro("Data must be an object, but it was:",o,r);var a,u,c=No(r,o);if(s.merge)a=new Le(o.qe),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=f[h],p=void 0;if(d instanceof oo)p=d.j_;else{if("string"!=typeof d)throw y();p=Lo(e,d,n)}if(!o.contains(p))throw new j(A.INVALID_ARGUMENT,"Field '"+p+"' is specified in your field mask but missing from your input data.");Fo(l,p)||l.push(p)}a=new Le(l),u=o.fieldTransforms.filter((function(t){return a.Ke(t.field)}))}else a=null,u=o.fieldTransforms;return new Eo(new en(c),a,u)}function Co(t,e,n,r){var i=t.wf(1,e,n);Ro("Data must be an object, but it was:",i,r);var s=[],o=new nn;I(r,(function(t,r){var a=Lo(e,t,n),u=i._f(a);if(r instanceof co&&r.K_ instanceof lo)s.push(a);else{var c=jo(r,u);null!=c&&(s.push(a),o.set(a,c))}}));var a=new Le(s);return new So(o.ze(),a,i.fieldTransforms)}function ko(t,e,n,r,i,s){var o=t.wf(1,e,n),a=[Do(e,r,n)],u=[i];if(s.length%2!=0)throw new j(A.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(Do(e,s[c])),u.push(s[c+1]);for(var l=[],h=new nn,f=a.length-1;f>=0;--f)if(!Fo(l,a[f])){var d=a[f],p=u[f],g=o._f(d);if(p instanceof co&&p.K_ instanceof lo)l.push(d);else{var y=jo(p,g);null!=y&&(l.push(d),h.set(d,y))}}var m=new Le(l);return new So(h.ze(),m,o.fieldTransforms)}function Ao(t,e,n,r){return void 0===r&&(r=!1),jo(n,t.wf(r?4:3,e))}function jo(t,e){if(Po(t))return Ro("Unsupported field value:",e,t),No(t,e);if(t instanceof co)return function(t,e){if(!Oo(e.H_))throw e.Y_(t.G_+"() can only be used with update() and set()");if(!e.path)throw e.Y_(t.G_+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.qe.push(e.path),t instanceof Array){if(e.settings.X_&&4!==e.H_)throw e.Y_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=jo(s[i],e.ff(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Yt(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=N.fromDate(t);return{timestampValue:Xt(e.serializer,n)}}if(t instanceof N){var r=new N(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Xt(e.serializer,r)}}if(t instanceof bo)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof so)return{bytesValue:Zt(e.serializer,t)};if(t instanceof wo){var i=e.s,s=t.sf;if(!s.isEqual(i))throw e.Y_("Document reference is for database "+s.projectId+"/"+s.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:ee(t.sf||e.s,t.if.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.Y_("Unsupported field value: "+Ys(t))}(t,e)}function No(t,e){var n={};return C(t)?e.path&&e.path.length>0&&e.qe.push(e.path):I(t,(function(t,r){var i=jo(r,e.cf(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Po(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof N||t instanceof bo||t instanceof so||t instanceof wo||t instanceof co)}function Ro(t,e,n){if(!Po(n)||!Ks(n)){var r=Ys(n);throw e.Y_("an object"===r?t+" a custom object":t+" "+r)}}function Do(t,e,n){if(e instanceof oo)return e.j_;if("string"==typeof e)return Lo(t,e);throw Mo("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function Lo(t,e,n){try{return function(t){if(t.search(uo)>=0)throw new j(A.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ao.bind.apply(ao,r.__spreadArrays([void 0],t.split("."))))}catch(r){throw new j(A.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).j_}catch(e){throw Mo((i=e)instanceof Error?i.message:i.toString(),t,!1,void 0,n)}var i}function Mo(t,e,n,r,i){var s=r&&!r._(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new j(A.INVALID_ARGUMENT,(a+=". ")+t+u)}function Fo(t,e){return t.some((function(t){return t.isEqual(e)}))}var Uo=function(){function t(t){this.qa=t,this.Tf=new Map,this.mutations=[],this.Ef=!1,this.If=null,this.mf=new Set}return t.prototype.Af=function(t){return r.__awaiter(this,void 0,void 0,(function(){var e,n=this;return r.__generator(this,(function(i){switch(i.label){case 0:if(this.Rf(),this.mutations.length>0)throw new j(A.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s,o,a,u;return r.__generator(this,(function(r){switch(r.label){case 0:return n=v(t),i=ae(n.serializer)+"/documents",s={documents:e.map((function(t){return re(n.serializer,t)}))},[4,n.Sa("BatchGetDocuments",i,s)];case 1:return o=r.sent(),a=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){m(!!e.found);var n=ie(t,e.found.name),r=te(e.found.updateTime),i=new en({mapValue:{fields:e.found.fields}});return new on(n,r,i,{})}(t,e):"missing"in e?function(t,e){m(!!e.missing),m(!!e.readTime);var n=ie(t,e.missing),r=te(e.readTime);return new an(n,r)}(t,e):y()}(n.serializer,t);a.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=a.get(t.toString());m(!!e),u.push(e)})),u)]}}))}))}(this.qa,t)];case 1:return[2,((e=i.sent()).forEach((function(t){t instanceof an||t instanceof on?n.Pf(t):y()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.hf(t,this.Qe(t))),this.mf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.hf(t,this.gf(t)))}catch(t){this.If=t}this.mf.add(t.toString())},t.prototype.delete=function(t){this.write([new Je(t,this.Qe(t))]),this.mf.add(t.toString())},t.prototype.commit=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){switch(n.label){case 0:if(this.Rf(),this.If)throw this.If;return t=this.Tf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=F.B(n);e.mutations.push(new tn(r,e.Qe(r)))})),[4,function(t,e){return r.__awaiter(this,void 0,void 0,(function(){var n,i,s;return r.__generator(this,(function(r){switch(r.label){case 0:return n=v(t),i=ae(n.serializer)+"/documents",s={writes:e.map((function(t){return le(n.serializer,t)}))},[4,n.va("Commit",i,s)];case 1:return r.sent(),[2]}}))}))}(this.qa,this.mutations)];case 1:return n.sent(),this.Ef=!0,[2]}}))}))},t.prototype.Pf=function(t){var e;if(t instanceof on)e=t.version;else{if(!(t instanceof an))throw y();e=P.min()}var n=this.Tf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new j(A.ABORTED,"Document version changed between two reads.")}else this.Tf.set(t.key.toString(),e)},t.prototype.Qe=function(t){var e=this.Tf.get(t.toString());return!this.mf.has(t.toString())&&e?Ue.updateTime(e):Ue.We()},t.prototype.gf=function(t){var e=this.Tf.get(t.toString());if(!this.mf.has(t.toString())&&e){if(e.isEqual(P.min()))throw new j(A.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ue.updateTime(e)}return Ue.exists(!0)},t.prototype.write=function(t){this.Rf(),this.mutations=this.mutations.concat(t)},t.prototype.Rf=function(){},t}(),Vo=function(){function t(t,e,n,r){this.ei=t,this.qa=e,this.updateFunction=n,this.ii=r,this.Vf=5,this.Ti=new Yn(this.ei,"transaction_retry")}return t.prototype.run=function(){this.yf()},t.prototype.yf=function(){var t=this;this.Ti.bs((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,e,n=this;return r.__generator(this,(function(r){return t=new Uo(this.qa),(e=this.pf(t))&&e.then((function(e){n.ei.ai((function(){return t.commit().then((function(){n.ii.resolve(e)})).catch((function(t){n.bf(t)}))}))})).catch((function(t){n.bf(t)})),[2]}))}))}))},t.prototype.pf=function(t){try{var e=this.updateFunction(t);return!U(e)&&e.catch&&e.then?e:(this.ii.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.ii.reject(t),null}},t.prototype.bf=function(t){var e=this;this.Vf>0&&this.vf(t)?(this.Vf-=1,this.ei.ai((function(){return e.yf(),Promise.resolve()}))):this.ii.reject(t)},t.prototype.vf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Z(e)}return!1},t}(),qo=function(){function t(t,e){this.credentials=t,this.ei=e,this.clientId=_.t(),this.Sf=new Kn}return t.prototype.start=function(t,e,n,r){var i=this;this.Df(),this.w_=t;var s=new Kn,o=!1;return this.credentials.Bh((function(t){if(!o)return o=!0,f("FirestoreClient","Initializing. user=",t.uid),i.Cf(e,n,r,t,s).then(i.Sf.resolve,i.Sf.reject);i.ei.gi((function(){return i.Bc.vu(t)}))})),this.ei.ai((function(){return i.Sf.promise})),s.promise},t.prototype.enableNetwork=function(){var t=this;return this.Df(),this.ei.enqueue((function(){return t.persistence.Uo(!0),t.Bc.enableNetwork()}))},t.prototype.Cf=function(t,e,n,i,s){return r.__awaiter(this,void 0,void 0,(function(){var o,a,u=this;return r.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),[4,t.initialize(o={ei:this.ei,w_:this.w_,clientId:this.clientId,credentials:this.credentials,N_:i,Qc:100,k_:n})];case 1:return c.sent(),[4,e.initialize(t,o)];case 2:return c.sent(),this.persistence=t.persistence,this.Uc=t.Uc,this.La=t.La,this.S_=t.S_,this.qa=e.qa,this.Bc=e.Bc,this.fu=e.fu,this.Nf=e.q_,this.persistence.Bo((function(){return r.__awaiter(u,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),s.resolve(),[3,4];case 3:if(a=c.sent(),s.reject(a),!this.Ff(a))throw a;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),this.Cf(new Ps,new Ds,{F_:!1},i,s))];case 4:return[2]}}))}))},t.prototype.Ff=function(t){return"FirebaseError"===t.name?t.code===A.FAILED_PRECONDITION||t.code===A.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.Df=function(){if(this.ei.Ii)throw new j(A.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.Df(),this.ei.enqueue((function(){return t.persistence.Uo(!1),t.Bc.disableNetwork()}))},t.prototype.terminate=function(){var t=this;this.ei.Pi();var e=new Kn;return this.ei.mi((function(){return r.__awaiter(t,void 0,void 0,(function(){var t,n;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.S_&&this.S_.stop(),[4,this.Bc.th()];case 1:return r.sent(),[4,this.Uc.th()];case 2:return r.sent(),[4,this.persistence.th()];case 3:return r.sent(),this.credentials.Uh(),e.resolve(),[3,5];case 4:return t=r.sent(),n=lr(t,"Failed to shutdown persistence"),e.reject(n),[3,5];case 5:return[2]}}))}))})),e.promise},t.prototype.waitForPendingWrites=function(){var t=this;this.Df();var e=new Kn;return this.ei.ai((function(){return t.fu._l(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.Df();var i=new Ms(n),s=new vs(t,i,e);return this.ei.ai((function(){return r.Nf.listen(s)})),function(){i.Q_(),r.ei.ai((function(){return r.Nf.lu(s)}))}},t.prototype.kf=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.Df(),[4,this.Sf.promise];case 1:return[2,(e.sent(),function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s=this;return r.__generator(this,(function(o){switch(o.label){case 0:return i=new Kn,[4,t.enqueue((function(){return r.__awaiter(s,void 0,void 0,(function(){var t,s,o;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t,e){var n=v(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Rh.Hn(t,e)}))}(e,n)];case 1:return(t=r.sent())instanceof on?i.resolve(t):t instanceof an?i.resolve(null):i.reject(new j(A.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return s=r.sent(),o=lr(s,"Failed to get document '"+n+" from cache"),i.reject(o),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(o.sent(),i.promise)]}}))}))}(this.ei,this.La,t))]}}))}))},t.prototype.$f=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.Df(),[4,this.Sf.promise];case 1:return[2,(n.sent(),function(t,e,n,r){var i=new Kn,s=Ho(t,e,fn(n.path),{includeMetadataChanges:!0,$l:!0},{next:function(t){s();var e=t.docs.has(n);!e&&t.fromCache?i.reject(new j(A.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&r&&"server"===r.source?i.reject(new j(A.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(t)},error:function(t){return i.reject(t)}});return i.promise}(this.ei,this.Nf,t,e))]}}))}))},t.prototype.xf=function(t){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(e){switch(e.label){case 0:return this.Df(),[4,this.Sf.promise];case 1:return[2,(e.sent(),function(t,e,n){return r.__awaiter(this,void 0,void 0,(function(){var i,s=this;return r.__generator(this,(function(o){switch(o.label){case 0:return i=new Kn,[4,t.enqueue((function(){return r.__awaiter(s,void 0,void 0,(function(){var t,s,o,a,u,c;return r.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,ki(e,n,!0)];case 1:return t=r.sent(),s=new is(n,t.gh),o=s.Sc(t.documents),a=s.Un(o,!1),i.resolve(a.snapshot),[3,3];case 2:return u=r.sent(),c=lr(u,"Failed to execute query '"+n+" against cache"),i.reject(c),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(o.sent(),i.promise)]}}))}))}(this.ei,this.La,t))]}}))}))},t.prototype.Of=function(t,e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(n){switch(n.label){case 0:return this.Df(),[4,this.Sf.promise];case 1:return[2,(n.sent(),function(t,e,n,r){var i=new Kn,s=Ho(t,e,n,{includeMetadataChanges:!0,$l:!0},{next:function(t){s(),t.fromCache&&r&&"server"===r.source?i.reject(new j(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(t)},error:function(t){return i.reject(t)}});return i.promise}(this.ei,this.Nf,t,e))]}}))}))},t.prototype.write=function(t){var e=this;this.Df();var n=new Kn;return this.ei.ai((function(){return e.fu.write(t,n)})),n.promise},t.prototype.s=function(){return this.w_.s},t.prototype.bl=function(t){var e=this;this.Df();var n=new Ms(t);return this.ei.ai((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,this.Nf.bl(n)]}))}))})),function(){n.Q_(),e.ei.ai((function(){return r.__awaiter(e,void 0,void 0,(function(){return r.__generator(this,(function(t){return[2,this.Nf.vl(n)]}))}))}))}},Object.defineProperty(t.prototype,"Mf",{get:function(){return this.ei.Ii},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.Df();var n=new Kn;return this.ei.ai((function(){return new Vo(e.ei,e.qa,t,n).run(),Promise.resolve()})),n.promise},t}();function Ho(t,e,n,r,i){var s=new Ms(i),o=new vs(n,s,r);return t.ai((function(){return e.listen(o)})),function(){s.Q_(),t.ai((function(){return e.lu(o)}))}}var Bo=function(){function t(t,e,n,r){this.s=t,this.timestampsInSnapshots=e,this.Lf=n,this.qf=r}return t.prototype.Bf=function(t){switch(At(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Mt(t.integerValue||t.doubleValue);case 3:return this.Uf(t.timestampValue);case 4:return this.Qf(t);case 5:return t.stringValue;case 6:return new so(Ft(t.bytesValue));case 7:return this.Wf(t.referenceValue);case 8:return this.jf(t.geoPointValue);case 9:return this.Kf(t.arrayValue);case 10:return this.Gf(t.mapValue);default:throw y()}},t.prototype.Gf=function(t){var e=this,n={};return I(t.fields||{},(function(t,r){n[t]=e.Bf(r)})),n},t.prototype.jf=function(t){return new bo(Mt(t.latitude),Mt(t.longitude))},t.prototype.Kf=function(t){var e=this;return(t.values||[]).map((function(t){return e.Bf(t)}))},t.prototype.Qf=function(t){switch(this.Lf){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return It(n)?t(n):n}(t);return null==e?null:this.Bf(e);case"estimate":return this.Uf(Ct(t));default:return null}},t.prototype.Uf=function(t){var e=Lt(t),n=new N(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.Wf=function(t){var e=D.k(t);m(Se(e));var n=new x(e.get(1),e.get(3)),r=new F(e.V(5));return n.isEqual(this.s)||d("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.qf(r)},t}(),zo=pr.ji,$o=function(){function t(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new j(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else zs("settings","non-empty string","host",t.host),this.host=t.host,$s("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(Zs("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),$s("settings","object","credentials",t.credentials),this.credentials=t.credentials,$s("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),$s("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?d("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&d("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,$s("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=pr.Gi;else{if(t.cacheSizeBytes!==zo&&t.cacheSizeBytes<pr.Ki)throw new j(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+pr.Ki);this.cacheSizeBytes=t.cacheSizeBytes}$s("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Wo=function(){function t(e,n,i,s){var o=this;if(void 0===i&&(i=new Ps),void 0===s&&(s=new Ds),this.zf=i,this.Hf=s,this.Yf=null,this.Jf=new cr,this.INTERNAL={delete:function(){return r.__awaiter(o,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.Xf(),[4,this.Zf.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var a=e;this.Yf=a,this.sf=t.td(a),this.ed=a.name,this.nd=new Mi(n)}else{var u=e;if(!u.projectId)throw new j(A.INVALID_ARGUMENT,"Must provide projectId");this.sf=new x(u.projectId,u.database),this.ed="[DEFAULT]",this.nd=new Li}this.sd=new $o({})}return Object.defineProperty(t.prototype,"rd",{get:function(){return this.od||(this.od=new To(this.sf,this.sd.ignoreUndefinedProperties)),this.od},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){Us("Firestore.settings",arguments,1),Hs("Firestore.settings","object",1,t),t.merge&&delete(t=Object.assign(Object.assign({},this.sd),t)).merge;var e=new $o(t);if(this.Zf&&!this.sd.isEqual(e))throw new j(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.sd=e,void 0!==e.credentials&&(this.nd=function(t){if(!t)return new Li;switch(t.type){case"gapi":var e=t.hd;return m(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Ui(e,t.zh||"0");case"provider":return t.hd;default:throw new j(A.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this.Xf(),this.Zf.enableNetwork()},t.prototype.disableNetwork=function(){return this.Xf(),this.Zf.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.Zf)throw new j(A.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&d("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new j(A.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.ad(this.zf,this.Hf,{F_:!0,cacheSizeBytes:this.sd.cacheSizeBytes,synchronizeTabs:r,Vo:i})},t.prototype.clearPersistence=function(){return r.__awaiter(this,void 0,void 0,(function(){var t,e=this;return r.__generator(this,(function(n){if(void 0!==this.Zf&&!this.Zf.Mf)throw new j(A.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new Kn,[2,(this.Jf.mi((function(){return r.__awaiter(e,void 0,void 0,(function(){var e;return r.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.zf.clearPersistence(this.sf,this.ed)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"ud",{get:function(){return this.Xf(),this.Zf.Mf},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.Xf(),this.Zf.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.Xf(),Ls(t)?this.Zf.bl(t):(Hs("Firestore.onSnapshotsInSync","function",1,t),this.Zf.bl({next:t}))},t.prototype.Xf=function(){return this.Zf||this.ad(new Ps,new Ds,{F_:!1}),this.Zf},t.prototype.ld=function(){return new O(this.sf,this.ed,this.sd.host,this.sd.ssl,this.sd.experimentalForceLongPolling)},t.prototype.ad=function(t,e,n){var r=this.ld();return this.Zf=new qo(this.nd,this.Jf),this.Zf.start(r,t,e,n)},t.td=function(t){if(!Object.prototype.hasOwnProperty.call(t.options,"projectId"))throw new j(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e=t.options.projectId;if(!e||"string"!=typeof e)throw new j(A.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new x(e)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Yf)throw new j(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Yf},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return Us("Firestore.collection",arguments,1),Hs("Firestore.collection","non-empty string",1,t),this.Xf(),new aa(D.k(t),this,null)},t.prototype.doc=function(t){return Us("Firestore.doc",arguments,1),Hs("Firestore.doc","non-empty string",1,t),this.Xf(),Ko._d(D.k(t),this,null)},t.prototype.collectionGroup=function(t){if(Us("Firestore.collectionGroup",arguments,1),Hs("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new j(A.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.Xf(),new sa(function(t){return new ln(D.$(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return Us("Firestore.runTransaction",arguments,1),Hs("Firestore.runTransaction","function",1,t),this.Xf().transaction((function(n){return t(new Go(e,n))}))},t.prototype.batch=function(){return this.Xf(),new Qo(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(h()){case s.LogLevel.DEBUG:return"debug";case s.LogLevel.ERROR:return"error";case s.LogLevel.SILENT:return"silent";case s.LogLevel.WARN:return"warn";case s.LogLevel.INFO:return"info";case s.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){Us("Firestore.setLogLevel",arguments,1),Gs("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),l.setLogLevel(t)},t.prototype.fd=function(){return this.sd.timestampsInSnapshots},t.prototype.dd=function(){return this.sd},t}(),Go=function(){function t(t,e){this.wd=t,this.Td=e}return t.prototype.get=function(t){var e=this;Us("Transaction.get",arguments,1);var n=ha("Transaction.get",t,this.wd);return this.Td.Af([n.if]).then((function(t){if(!t||1!==t.length)return y();var r=t[0];if(r instanceof an)return new Xo(e.wd,n.if,null,!1,!1,n.rf);if(r instanceof on)return new Xo(e.wd,n.if,r,!1,!1,n.rf);throw y()}))},t.prototype.set=function(t,e,n){qs("Transaction.set",arguments,2,3);var r=ha("Transaction.set",t,this.wd);n=ua("Transaction.set",n);var i=da(r.rf,e,n),s=Io(this.wd.rd,"Transaction.set",r.if,i,null!==r.rf,n);return this.Td.set(r.if,s),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return"string"==typeof e||e instanceof ao?(Vs("Transaction.update",arguments,3),r=ha("Transaction.update",t,this.wd),i=ko(this.wd.rd,"Transaction.update",r.if,e,n,s)):(Us("Transaction.update",arguments,2),r=ha("Transaction.update",t,this.wd),i=Co(this.wd.rd,"Transaction.update",r.if,e)),this.Td.update(r.if,i),this},t.prototype.delete=function(t){Us("Transaction.delete",arguments,1);var e=ha("Transaction.delete",t,this.wd);return this.Td.delete(e.if),this},t}(),Qo=function(){function t(t){this.wd=t,this.Ed=[],this.Id=!1}return t.prototype.set=function(t,e,n){qs("WriteBatch.set",arguments,2,3),this.md();var r=ha("WriteBatch.set",t,this.wd);n=ua("WriteBatch.set",n);var i=da(r.rf,e,n),s=Io(this.wd.rd,"WriteBatch.set",r.if,i,null!==r.rf,n);return this.Ed=this.Ed.concat(s.hf(r.if,Ue.We())),this},t.prototype.update=function(t,e,n){for(var r,i,s=[],o=3;o<arguments.length;o++)s[o-3]=arguments[o];return this.md(),"string"==typeof e||e instanceof ao?(Vs("WriteBatch.update",arguments,3),r=ha("WriteBatch.update",t,this.wd),i=ko(this.wd.rd,"WriteBatch.update",r.if,e,n,s)):(Us("WriteBatch.update",arguments,2),r=ha("WriteBatch.update",t,this.wd),i=Co(this.wd.rd,"WriteBatch.update",r.if,e)),this.Ed=this.Ed.concat(i.hf(r.if,Ue.exists(!0))),this},t.prototype.delete=function(t){Us("WriteBatch.delete",arguments,1),this.md();var e=ha("WriteBatch.delete",t,this.wd);return this.Ed=this.Ed.concat(new Je(e.if,Ue.We())),this},t.prototype.commit=function(){return this.md(),this.Id=!0,this.Ed.length>0?this.wd.Xf().write(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Id)throw new j(A.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Ko=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.sf,e,r)||this).if=e,i.firestore=n,i.rf=r,i.Zf=i.firestore.Xf(),i}return r.__extends(e,t),e._d=function(t,n,r){if(t.length%2!=0)throw new j(A.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.F()+" has "+t.length);return new e(new F(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.if.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new aa(this.if.path.p(),this.firestore,this.rf)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.if.path.F()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(Us("DocumentReference.collection",arguments,1),Hs("DocumentReference.collection","non-empty string",1,t),!t)throw new j(A.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=D.k(t);return new aa(this.if.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Js("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.if.isEqual(t.if)&&this.rf===t.rf},e.prototype.set=function(t,e){qs("DocumentReference.set",arguments,1,2),e=ua("DocumentReference.set",e);var n=da(this.rf,t,e),r=Io(this.firestore.rd,"DocumentReference.set",this.if,n,null!==this.rf,e);return this.Zf.write(r.hf(this.if,Ue.We()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof ao?(Vs("DocumentReference.update",arguments,2),n=ko(this.firestore.rd,"DocumentReference.update",this.if,t,e,r)):(Us("DocumentReference.update",arguments,1),n=Co(this.firestore.rd,"DocumentReference.update",this.if,t)),this.Zf.write(n.hf(this.if,Ue.exists(!0)))},e.prototype.delete=function(){return Us("DocumentReference.delete",arguments,0),this.Zf.write([new Je(this.if,Ue.We())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];qs("DocumentReference.onSnapshot",arguments,1,4);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||Ls(i[a])||(Zs("DocumentReference.onSnapshot",o=i[a],["includeMetadataChanges"]),$s("DocumentReference.onSnapshot","boolean","includeMetadataChanges",o.includeMetadataChanges),a++);var u={includeMetadataChanges:o.includeMetadataChanges};if(Ls(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else Hs("DocumentReference.onSnapshot","function",a,i[a]),Bs("DocumentReference.onSnapshot","function",a+1,i[a+1]),Bs("DocumentReference.onSnapshot","function",a+2,i[a+2]);var l={next:function(t){i[a]&&i[a](r.Ad(t))},error:i[a+1],complete:i[a+2]};return this.Zf.listen(fn(this.if.path),u,l)},e.prototype.get=function(t){var e=this;qs("DocumentReference.get",arguments,0,1),la("DocumentReference.get",t);var n=this.firestore.Xf();return t&&"cache"===t.source?n.kf(this.if).then((function(t){return new Xo(e.firestore,e.if,t,!0,t instanceof on&&t.Ge,e.rf)})):n.$f(this.if,t).then((function(t){return e.Ad(t)}))},e.prototype.withConverter=function(t){return new e(this.if,this.firestore,t)},e.prototype.Ad=function(t){var e=t.docs.get(this.if);return new Xo(this.firestore,this.if,e,t.fromCache,t.hasPendingWrites,this.rf)},e}(wo),Yo=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Xo=function(){function t(t,e,n,r,i,s){this.wd=t,this.if=e,this.Rd=n,this.Pd=r,this.gd=i,this.rf=s}return t.prototype.data=function(t){var e=this;if(qs("DocumentSnapshot.data",arguments,0,1),t=ca("DocumentSnapshot.data",t),this.Rd){if(this.rf){var n=new Zo(this.wd,this.if,this.Rd,this.Pd,this.gd,null);return this.rf.fromFirestore(n,t)}return new Bo(this.wd.sf,this.wd.fd(),t.serverTimestamps||"none",(function(t){return new Ko(t,e.wd,null)})).Bf(this.Rd.tn())}},t.prototype.get=function(t,e){var n=this;if(qs("DocumentSnapshot.get",arguments,1,2),e=ca("DocumentSnapshot.get",e),this.Rd){var r=this.Rd.data().field(Do("DocumentSnapshot.get",t,this.if));if(null!==r)return new Bo(this.wd.sf,this.wd.fd(),e.serverTimestamps||"none",(function(t){return new Ko(t,n.wd,n.rf)})).Bf(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.if.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ko(this.if,this.wd,this.rf)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Rd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Yo(this.gd,this.Pd)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw Js("isEqual","DocumentSnapshot",1,e);return this.wd===e.wd&&this.Pd===e.Pd&&this.if.isEqual(e.if)&&(null===this.Rd?null===e.Rd:this.Rd.isEqual(e.Rd))&&this.rf===e.rf},t}(),Zo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(Xo);function Jo(t,e,n,r,i,s,o){var a;if(i.M()){if("array-contains"===s||"array-contains-any"===s)throw new j(A.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){na(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(ea(r,t,l[c]));a={arrayValue:{values:u}}}else a=ea(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||na(o,s),a=Ao(n,e,o,"in"===s||"not-in"===s);var h=On.create(i,s,a);return function(t,e){if(e._n()){var n=t.ln();if(null!==n&&!n.isEqual(e.field))throw new j(A.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=t.cn();null!==r&&ra(0,e.field,r)}var i=t.fn(function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new j(A.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}function ta(t,e,n){if(null!==t.startAt)throw new j(A.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new j(A.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Mn(e,n);return function(t,e){if(null===t.cn()){var n=t.ln();null!==n&&ra(0,n,e.field)}}(t,r),r}function ea(t,e,n){if("string"==typeof n){if(""===n)throw new j(A.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!dn(e)&&-1!==n.indexOf("/"))throw new j(A.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(D.k(n));if(!F.j(r))throw new j(A.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ut(t,new F(r))}if(n instanceof wo)return Ut(t,n.if);throw new j(A.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ys(n)+".")}function na(t,e){if(!Array.isArray(t)||0===t.length)throw new j(A.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new j(A.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new j(A.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new j(A.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function ra(t,e,n){if(!n.isEqual(e))throw new j(A.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function ia(t){if(t.un()&&0===t.en.length)throw new j(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sa=function(){function t(t,e,n){this.Vd=t,this.firestore=e,this.rf=n}return t.prototype.where=function(e,n,r){var i;Us("Query.where",arguments,3),Xs("Query.where",3,r),i="not-in"===n||"!="===n?n:Gs("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n);var s=Do("Query.where",e),o=Jo(this.Vd,"Query.where",this.firestore.rd,this.firestore.sf,s,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new ln(t.path,t.collectionGroup,t.en.slice(),n,t.limit,t.nn,t.startAt,t.endAt)}(this.Vd,o),this.firestore,this.rf)},t.prototype.orderBy=function(e,n){var r;if(qs("Query.orderBy",arguments,1,2),Bs("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new j(A.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=Do("Query.orderBy",e),s=ta(this.Vd,i,r);return new t(function(t,e){var n=t.en.concat([e]);return new ln(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.nn,t.startAt,t.endAt)}(this.Vd,s),this.firestore,this.rf)},t.prototype.limit=function(e){return Us("Query.limit",arguments,1),Hs("Query.limit","number",1,e),to("Query.limit",1,e),new t(yn(this.Vd,e,"F"),this.firestore,this.rf)},t.prototype.limitToLast=function(e){return Us("Query.limitToLast",arguments,1),Hs("Query.limitToLast","number",1,e),to("Query.limitToLast",1,e),new t(yn(this.Vd,e,"L"),this.firestore,this.rf)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Vs("Query.startAt",arguments,1);var i=this.yd("Query.startAt",e,n,!0);return new t(mn(this.Vd,i),this.firestore,this.rf)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Vs("Query.startAfter",arguments,1);var i=this.yd("Query.startAfter",e,n,!1);return new t(mn(this.Vd,i),this.firestore,this.rf)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Vs("Query.endBefore",arguments,1);var i=this.yd("Query.endBefore",e,n,!0);return new t(vn(this.Vd,i),this.firestore,this.rf)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];Vs("Query.endAt",arguments,1);var i=this.yd("Query.endAt",e,n,!1);return new t(vn(this.Vd,i),this.firestore,this.rf)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Js("isEqual","Query",1,e);return this.firestore===e.firestore&&bn(this.Vd,e.Vd)&&this.rf===e.rf},t.prototype.withConverter=function(e){return new t(this.Vd,this.firestore,e)},t.prototype.yd=function(t,e,n,i){if(Xs(t,1,e),e instanceof Xo)return Us(t,r.__spreadArrays([e],n),1),function(t,e,n,r,i){if(!r)throw new j(A.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=pn(t);o<a.length;o++){var u=a[o];if(u.field.M())s.push(Ut(e,r.key));else{var c=r.field(u.field);if(It(c))throw new j(A.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.F();throw new j(A.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Pn(s,i)}(this.Vd,this.firestore.sf,t,e.Rd,i);var s=[e].concat(n);return function(t,e,n,r,i,s){var o=t.en;if(i.length>o.length)throw new j(A.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.M()){if("string"!=typeof c)throw new j(A.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!dn(t)&&-1!==c.indexOf("/"))throw new j(A.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(D.k(c));if(!F.j(l))throw new j(A.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new F(l);a.push(Ut(e,h))}else{var f=Ao(n,r,c);a.push(f)}}return new Pn(a,s)}(this.Vd,this.firestore.sf,this.firestore.rd,t,s,i)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];qs("Query.onSnapshot",arguments,1,4);var o={},a=0;if("object"!=typeof i[a]||Ls(i[a])||(Zs("Query.onSnapshot",o=i[a],["includeMetadataChanges"]),$s("Query.onSnapshot","boolean","includeMetadataChanges",o.includeMetadataChanges),a++),Ls(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else Hs("Query.onSnapshot","function",a,i[a]),Bs("Query.onSnapshot","function",a+1,i[a+1]),Bs("Query.onSnapshot","function",a+2,i[a+2]);var c={next:function(t){i[a]&&i[a](new oa(r.firestore,r.Vd,t,r.rf))},error:i[a+1],complete:i[a+2]};return ia(this.Vd),this.firestore.Xf().listen(this.Vd,o,c)},t.prototype.get=function(t){var e=this;qs("Query.get",arguments,0,1),la("Query.get",t),ia(this.Vd);var n=this.firestore.Xf();return(t&&"cache"===t.source?n.xf(this.Vd):n.Of(this.Vd,t)).then((function(t){return new oa(e.firestore,e.Vd,t,e.rf)}))},t}(),oa=function(){function t(t,e,n,r){this.wd=t,this.pd=e,this.bd=n,this.rf=r,this.vd=null,this.Sd=null,this.metadata=new Yo(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.bd.docs._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.bd.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;qs("QuerySnapshot.forEach",arguments,1,2),Hs("QuerySnapshot.forEach","function",1,t),this.bd.docs.forEach((function(r){t.call(e,n.Dd(r,n.metadata.fromCache,n.bd.qt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new sa(this.pd,this.wd,this.rf)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(Zs("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),$s("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.bd.Ut)throw new j(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.vd&&this.Sd===e||(this.vd=function(t,e,n){if(t.Lt._()){var r=0;return t.docChanges.map((function(e){return{type:"added",doc:n(e.doc,t.fromCache,t.qt.has(e.doc.key)),oldIndex:-1,newIndex:r++}}))}var i=t.Lt;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.qt.has(e.doc.key)),s=-1,o=-1;return 0!==e.type&&(s=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(o=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:fa(e.type),doc:r,oldIndex:s,newIndex:o}}))}(this.bd,e,this.Dd.bind(this)),this.Sd=e),this.vd},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Js("isEqual","QuerySnapshot",1,e);return this.wd===e.wd&&bn(this.pd,e.pd)&&this.bd.isEqual(e.bd)&&this.rf===e.rf},t.prototype.Dd=function(t,e,n){return new Zo(this.wd,t.key,t,e,n,this.rf)},t}(),aa=function(t){function e(e,n,r){var i=this;if((i=t.call(this,fn(e),n,r)||this).Cd=e,e.length%2!=1)throw new j(A.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.F()+" has "+e.length);return i}return r.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.Vd.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.Vd.path.p();return t._()?null:new Ko(new F(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Vd.path.F()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){qs("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=_.t()),Hs("CollectionReference.doc","non-empty string",1,t);var e=D.k(t);return Ko._d(this.Vd.path.child(e),this.firestore,this.rf)},e.prototype.add=function(t){Us("CollectionReference.add",arguments,1),Hs("CollectionReference.add","object",1,this.rf?this.rf.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.Cd,this.firestore,t)},e}(sa);function ua(t,e){if(void 0===e)return{merge:!1};if(Zs(t,e,["merge","mergeFields"]),$s(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new j(A.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+Ys(r));for(var s=0;s<r.length;++s)if(!i(r[s]))throw new j(A.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+s+" was: "+Ys(r[s]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof ao}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new j(A.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ca(t,e){return void 0===e?{}:(Zs(t,e,["serverTimestamps"]),Ws(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function la(t,e){Bs(t,"object",1,e),e&&(Zs(t,e,["source"]),Ws(t,0,"source",e.source,["default","server","cache"]))}function ha(t,e,n){if(e instanceof wo){if(e.firestore!==n)throw new j(A.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw Js(t,"DocumentReference",1,e)}function fa(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return y()}}function da(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var pa={Firestore:Wo,GeoPoint:bo,Timestamp:N,Blob:so,Transaction:Go,WriteBatch:Qo,DocumentReference:Ko,DocumentSnapshot:Xo,Query:sa,QueryDocumentSnapshot:Zo,QuerySnapshot:oa,CollectionReference:aa,FieldPath:ao,FieldValue:mo,setLogLevel:Wo.setLogLevel,CACHE_SIZE_UNLIMITED:zo};function ga(t){!function(t,e){t.INTERNAL.registerComponent(new u.Component("firestore",(function(t){return function(t,e){var n=new Ds,r=new Rs(n);return new Wo(t,e,r,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},pa)))}(t),t.registerVersion("@firebase/firestore","1.16.6")}ga(c.default),e.__PRIVATE_registerFirestore=ga},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9/Zf":function(t,e,n){"use strict";(function(t){n.d(e,"i",(function(){return i})),n.d(e,"f",(function(){return o})),n.d(e,"m",(function(){return a})),n.d(e,"k",(function(){return u})),n.d(e,"d",(function(){return c})),n.d(e,"c",(function(){return l})),n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return f})),n.d(e,"g",(function(){return d})),n.d(e,"h",(function(){return p})),n.d(e,"l",(function(){return _})),n.d(e,"j",(function(){return w})),n.d(e,"e",(function(){return E}));var r=n("9AQC");function i(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}n("+924");var s={};function o(){return i()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:s}function a(){var t=o(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function u(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return e?{host:e[4],path:e[5],protocol:e[2],relative:e[5]+(e[6]||"")+(e[8]||"")}:{}}function c(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function l(t){var e=o();if(!("console"in e))return t();var n=e.console,r={};["debug","info","warn","error","log","assert"].forEach((function(t){t in e.console&&n[t].__sentry_original__&&(r[t]=n[t],n[t]=n[t].__sentry_original__)}));var i=t();return Object.keys(r).forEach((function(t){n[t]=r[t]})),i}function h(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function f(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach((function(n){t.exception.values[0].mechanism[n]=e[n]}))}catch(n){}}function d(){try{return document.location.href}catch(t){return""}}function p(t){try{for(var e=t,n=[],r=0,i=0,s=" > ".length,o=void 0;e&&r++<5&&!("html"===(o=g(e))||r>1&&i+n.length*s+o.length>=80);)n.push(o),i+=o.length,e=e.parentNode;return n.reverse().join(" > ")}catch(a){return"<unknown>"}}function g(t){var e,n,i,s,o,a=t,u=[];if(!a||!a.tagName)return"";if(u.push(a.tagName.toLowerCase()),a.id&&u.push("#"+a.id),(e=a.className)&&Object(r.k)(e))for(n=e.split(/\s+/),o=0;o<n.length;o++)u.push("."+n[o]);var c=["type","name","title","alt"];for(o=0;o<c.length;o++)(s=a.getAttribute(i=c[o]))&&u.push("["+i+'="'+s+'"]');return u.join("")}var y=Date.now(),m=0,v={now:function(){var t=Date.now()-y;return t<m&&(t=m),m=t,t},timeOrigin:y},b=function(){if(i())try{return t.require("perf_hooks").performance}catch(n){return v}var e=o().performance;return e&&e.now?(void 0===e.timeOrigin&&(e.timeOrigin=e.timing&&e.timing.navigationStart||y),e):v}();function _(){return(b.timeOrigin+b.now())/1e3}function w(t,e){if(!e)return 6e4;var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+e);return isNaN(r)?6e4:r-t}function E(t){try{return t&&"function"==typeof t&&t.name||"<anonymous>"}catch(e){return"<anonymous>"}}}).call(this,n("3UD+")(t))},"9AQC":function(t,e,n){"use strict";function r(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return g(t,Error)}}function i(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function s(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function o(t){return"[object DOMException]"===Object.prototype.toString.call(t)}function a(t){return"[object String]"===Object.prototype.toString.call(t)}function u(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function c(t){return"[object Object]"===Object.prototype.toString.call(t)}function l(t){return"undefined"!=typeof Event&&g(t,Event)}function h(t){return"undefined"!=typeof Element&&g(t,Element)}function f(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function d(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function p(t){return c(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function g(t,e){try{return t instanceof e}catch(n){return!1}}n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return i})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return o})),n.d(e,"k",(function(){return a})),n.d(e,"i",(function(){return u})),n.d(e,"h",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"c",(function(){return h})),n.d(e,"j",(function(){return f})),n.d(e,"m",(function(){return d})),n.d(e,"l",(function(){return p})),n.d(e,"g",(function(){return g}))},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},AytR:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r={production:!0,baseUrl:"https://raphaelyan.github.io/rpg-digital-tools/",firebase:{apiKey:"AIzaSyDdpDIFSxmlqRuPuGwy3Hp0cNFG5dzmVhU",authDomain:"rpg-digital-tools.firebaseapp.com",databaseURL:"https://rpg-digital-tools.firebaseio.com",projectId:"rpg-digital-tools",storageBucket:"rpg-digital-tools.appspot.com",messagingSenderId:"458341049809",appId:"1:458341049809:web:13436d9f93ff1ed4106cf0",measurementId:"G-60NXTP7WVM"}}},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("mCNh"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:Object(a.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},"I/3d":function(t,e,n){"use strict";n.d(e,"a",(function(){return k}));var r=n("fXoL"),i=n("D0XW"),s=n("HDdC"),o=n("Cfvw"),a=n("LRne"),u=n("lJxs"),c=n("Kqap"),l=n("pLZG"),h=n("pxpQ"),f=n("spgP"),d=n("ofXK"),p=n("wj3C"),g=n.n(p),y=n("6Joi");function m(t,e){return function(t,e=i.a){return new s.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot(n)}):r=t.onSnapshot(n),()=>{null!=r&&r()}})}(t,e)}function v(t,e){return m(t,e).pipe(Object(u.a)(t=>({payload:t,type:"query"})))}function b(t,e){return v(t,e).pipe(Object(u.a)(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function _(t,e,n){return v(t,n).pipe(Object(u.a)(t=>t.payload.docChanges()),Object(c.a)((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t}(t,n,e),[]),Object(u.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function w(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class E{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?b(this.query,this.afs.schedulers.outsideAngular).pipe(Object(u.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(l.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):b(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(c.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=w(t);return _(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return v(this.query,this.afs.schedulers.outsideAngular).pipe(Object(u.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(o.a)(this.query.get(t)).pipe(Object(h.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new S(this.ref.doc(t),this.afs)}}class S{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=C(n,e);return new E(r,i,this.afs)}snapshotChanges(){return m(this.ref,this.afs.schedulers.outsideAngular).pipe(Object(u.a)(t=>({payload:t,type:"value"}))).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return this.snapshotChanges().pipe(Object(u.a)(t=>t.payload.data()))}get(t){return Object(o.a)(this.ref.get(t)).pipe(Object(h.b)(this.afs.schedulers.insideAngular))}}class O{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?b(this.query,this.afs.schedulers.outsideAngular).pipe(Object(u.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Object(l.a)(t=>t.length>0),this.afs.keepUnstableUntilFirst):b(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Object(c.a)((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=w(t);return _(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(){return v(this.query,this.afs.schedulers.outsideAngular).pipe(Object(u.a)(t=>t.payload.docs.map(t=>t.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(o.a)(this.query.get(t)).pipe(Object(h.b)(this.afs.schedulers.insideAngular))}}const x=new r.q("angularfire2.enableFirestorePersistence"),T=new r.q("angularfire2.firestore.persistenceSettings"),I=new r.q("angularfire2.firestore.settings");function C(t,e=(t=>t)){return{query:e(t),ref:t}}let k=(()=>{class t{constructor(t,e,n,r,i,s,u){this.schedulers=new f.d(s),this.keepUnstableUntilFirst=Object(f.f)(this.schedulers),this.firestore=s.runOutsideAngular(()=>{const n=Object(f.e)(t,s,e);y.registerFirestore&&Object(y.registerFirestore)(g.a);const i=n.firestore();return r&&i.settings(r),i}),this.persistenceEnabled$=n&&!Object(d.q)(i)?s.runOutsideAngular(()=>{try{return Object(o.a)(this.firestore.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(t){return Object(a.a)(!1)}}):Object(a.a)(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=C(n,e),s=this.schedulers.ngZone.run(()=>r);return new E(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new O(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new S(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(f.c),r.Wb(f.b,8),r.Wb(x,8),r.Wb(I,8),r.Wb(r.B),r.Wb(r.z),r.Wb(T,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(f.c),Object(r.Wb)(f.b,8),Object(r.Wb)(x,8),Object(r.Wb)(I,8),Object(r.Wb)(r.B),Object(r.Wb)(r.z),Object(r.Wb)(T,8))},token:t,providedIn:"any"}),t})()},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},IzEk:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q"),i=n("4I5i"),s=n("EY2u");function o(t){return e=>0===t?Object(s.b)():e.lift(new a(t))}class a{constructor(t){if(this.total=t,this.total<0)throw new i.a}call(t,e){return e.subscribe(new u(t,this.total))}}class u extends r.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}},Kqap:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(t,e,n))}}class s{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new o(t,this.accumulator,this.seed,this.hasSeed))}}class o extends r.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},R0Ic:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return c})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return o})),n.d(e,"j",(function(){return d})),n.d(e,"k",(function(){return p}));class r{}class i{}const s="*";function o(t,e){return{type:7,name:t,definitions:e,options:{}}}function a(t,e=null){return{type:4,styles:e,timings:t}}function u(t,e=null){return{type:2,steps:t,options:e}}function c(t){return{type:6,styles:t,offset:null}}function l(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function h(t){Promise.resolve(null).then(t)}class f{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){h(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class d{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?h(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const p="!"},"S+S0":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i=n("zVF4"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.Deferred;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=r.__assign({identifier:"[DEFAULT]",optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService("[DEFAULT]")}catch(l){}try{for(var i=r.__values(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var o=r.__read(s.value,2),a=o[1],u=this.normalizeInstanceIdentifier(o[0]);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(l){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new o(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();e.Component=s,e.ComponentContainer=a,e.Provider=o},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},SxV6:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("sVev"),i=n("pLZG"),s=n("IzEk"),o=n("xbPD"),a=n("XDbj"),u=n("SpAZ");function c(t,e){const n=arguments.length>=2;return c=>c.pipe(t?Object(i.a)((e,n)=>t(e,n,c)):u.a,Object(s.a)(1),n?Object(o.a)(e):Object(a.a)(()=>new r.a))}},UbJi:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var r=n("fXoL"),i=n("LRne"),s=n("HDdC"),o=n("Cfvw"),a=n("pxpQ"),u=n("eIep"),c=n("lJxs"),l=n("XNiG"),h=n("qgXg"),f=n("quSY"),d=n("9ppp"),p=n("Ylt2");class g extends l.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new y(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new d.a;if(this.isStopped||this.hasError?s=f.a.EMPTY:(this.observers.push(t),s=new p.a(this,t)),r&&t.add(t=new a.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||h.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class y{constructor(t,e){this.time=t,this.value=e}}var m=n("SxV6"),v=n("spgP");let b=(()=>{class t{constructor(t,e,r,l){const h=new v.d(l),f=Object(v.f)(h),d=Object(i.a)(void 0).pipe(Object(a.b)(h.outsideAngular),Object(u.a)(()=>l.runOutsideAngular(()=>n.e(7).then(n.bind(null,"6nsN")))),Object(c.a)(()=>Object(v.e)(t,l,e)),Object(c.a)(t=>l.runOutsideAngular(()=>t.auth())),function(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:void 0,refCount:!1,scheduler:void 0},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){o++,i&&!a||(a=!1,i=new g(t,e,r),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}));const l=i.subscribe(this);this.add(()=>{o--,l.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}({bufferSize:1,refCount:!1}));return d.pipe(Object(m.a)()).subscribe(),this.authState=d.pipe(Object(u.a)(t=>l.runOutsideAngular(()=>new s.a(t.onAuthStateChanged.bind(t)))),f),this.user=d.pipe(Object(u.a)(t=>l.runOutsideAngular(()=>new s.a(t.onIdTokenChanged.bind(t)))),f),this.idToken=this.user.pipe(Object(u.a)(t=>t?Object(o.a)(t.getIdToken()):Object(i.a)(null))),this.idTokenResult=this.user.pipe(Object(u.a)(t=>t?Object(o.a)(t.getIdTokenResult()):Object(i.a)(null))),Object(v.g)(this,d,l)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(v.c),r.Wb(v.b,8),r.Wb(r.B),r.Wb(r.z))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.Wb)(v.c),Object(r.Wb)(v.b,8),Object(r.Wb)(r.B),Object(r.Wb)(r.z))},token:t,providedIn:"any"}),t})()},Wcq6:function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var i=r(n("wj3C"));i.default.registerVersion("firebase","7.19.1","app"),t.exports=i.default},XDbj:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("sVev"),i=n("7o/Q");function s(t=u){return e=>e.lift(new o(t))}class o{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new a(t,this.errorFactory))}}class a extends i.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function u(){return new r.a}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},ZUHj:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("51Dv"),i=n("SeVD"),s=n("HDdC");function o(t,e,n,o,a=new r.a(t,n,o)){if(!a.closed)return e instanceof s.a?e.subscribe(a):Object(i.a)(e)(a)}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},bOdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("5+tZ");function i(t,e){return Object(r.a)(t,e,1)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},crnd:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},eIep:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("l7GE"),i=n("51Dv"),s=n("ZUHj"),o=n("lJxs"),a=n("Cfvw");function u(t,e){return"function"==typeof e?n=>n.pipe(u((n,r)=>Object(a.a)(t(n,r)).pipe(Object(o.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new c(t))}class c{constructor(t){this.project=t}call(t,e){return e.subscribe(new l(t,this.project))}}class l extends r.a{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const o=new i.a(this,e,n),a=this.destination;a.add(o),this.innerSubscription=Object(s.a)(this,t,void 0,void 0,o),this.innerSubscription!==o&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return Cs})),n.d(e,"b",(function(){return Ju})),n.d(e,"c",(function(){return Qu})),n.d(e,"d",(function(){return Wu})),n.d(e,"e",(function(){return Gu})),n.d(e,"f",(function(){return $c})),n.d(e,"g",(function(){return Dc})),n.d(e,"h",(function(){return hs})),n.d(e,"i",(function(){return lc})),n.d(e,"j",(function(){return ba})),n.d(e,"k",(function(){return nc})),n.d(e,"l",(function(){return _a})),n.d(e,"m",(function(){return In})),n.d(e,"n",(function(){return Tu})),n.d(e,"o",(function(){return et})),n.d(e,"p",(function(){return b})),n.d(e,"q",(function(){return tt})),n.d(e,"r",(function(){return Is})),n.d(e,"s",(function(){return Ua})),n.d(e,"t",(function(){return Va})),n.d(e,"u",(function(){return ec})),n.d(e,"v",(function(){return gt})),n.d(e,"w",(function(){return Mc})),n.d(e,"x",(function(){return pt})),n.d(e,"y",(function(){return Ac})),n.d(e,"z",(function(){return pc})),n.d(e,"A",(function(){return _})),n.d(e,"B",(function(){return Zu})),n.d(e,"C",(function(){return Xu})),n.d(e,"D",(function(){return Oa})),n.d(e,"E",(function(){return Ea})),n.d(e,"F",(function(){return Sa})),n.d(e,"G",(function(){return Ta})),n.d(e,"H",(function(){return fr})),n.d(e,"I",(function(){return E})),n.d(e,"J",(function(){return Vc})),n.d(e,"K",(function(){return za})),n.d(e,"L",(function(){return Ec})),n.d(e,"M",(function(){return Ca})),n.d(e,"N",(function(){return Ia})),n.d(e,"O",(function(){return Wa})),n.d(e,"P",(function(){return Ot})),n.d(e,"Q",(function(){return Ls})),n.d(e,"R",(function(){return jc})),n.d(e,"S",(function(){return U})),n.d(e,"T",(function(){return Bn})),n.d(e,"U",(function(){return Bc})),n.d(e,"V",(function(){return xc})),n.d(e,"W",(function(){return tc})),n.d(e,"X",(function(){return ds})),n.d(e,"Y",(function(){return uu})),n.d(e,"Z",(function(){return lr})),n.d(e,"ab",(function(){return gr})),n.d(e,"bb",(function(){return Gn})),n.d(e,"cb",(function(){return Dn})),n.d(e,"db",(function(){return Mn})),n.d(e,"eb",(function(){return qn})),n.d(e,"fb",(function(){return Un})),n.d(e,"gb",(function(){return Fn})),n.d(e,"hb",(function(){return Vn})),n.d(e,"ib",(function(){return iu})),n.d(e,"jb",(function(){return Hc})),n.d(e,"kb",(function(){return su})),n.d(e,"lb",(function(){return ou})),n.d(e,"mb",(function(){return Ln})),n.d(e,"nb",(function(){return W})),n.d(e,"ob",(function(){return Ms})),n.d(e,"pb",(function(){return oo})),n.d(e,"qb",(function(){return so})),n.d(e,"rb",(function(){return Ds})),n.d(e,"sb",(function(){return ru})),n.d(e,"tb",(function(){return Qt})),n.d(e,"ub",(function(){return L})),n.d(e,"vb",(function(){return Rn})),n.d(e,"wb",(function(){return ta})),n.d(e,"xb",(function(){return oa})),n.d(e,"yb",(function(){return ya})),n.d(e,"zb",(function(){return Mr})),n.d(e,"Ab",(function(){return Bs})),n.d(e,"Bb",(function(){return jo})),n.d(e,"Cb",(function(){return Ko})),n.d(e,"Db",(function(){return Yo})),n.d(e,"Eb",(function(){return ko})),n.d(e,"Fb",(function(){return Uu})),n.d(e,"Gb",(function(){return br})),n.d(e,"Hb",(function(){return Ct})),n.d(e,"Ib",(function(){return Dt})),n.d(e,"Jb",(function(){return T})),n.d(e,"Kb",(function(){return I})),n.d(e,"Lb",(function(){return Nt})),n.d(e,"Mb",(function(){return Lt})),n.d(e,"Nb",(function(){return Qs})),n.d(e,"Ob",(function(){return eo})),n.d(e,"Pb",(function(){return ro})),n.d(e,"Qb",(function(){return no})),n.d(e,"Rb",(function(){return to})),n.d(e,"Sb",(function(){return Js})),n.d(e,"Tb",(function(){return io})),n.d(e,"Ub",(function(){return Sn})),n.d(e,"Vb",(function(){return Zo})),n.d(e,"Wb",(function(){return lt})),n.d(e,"Xb",(function(){return Ks})),n.d(e,"Yb",(function(){return $u})),n.d(e,"Zb",(function(){return Ys})),n.d(e,"ac",(function(){return ao})),n.d(e,"bc",(function(){return Vu})),n.d(e,"cc",(function(){return Fe})),n.d(e,"dc",(function(){return Me})),n.d(e,"ec",(function(){return lo})),n.d(e,"fc",(function(){return wu})),n.d(e,"gc",(function(){return Eu})),n.d(e,"hc",(function(){return Su})),n.d(e,"ic",(function(){return po})),n.d(e,"jc",(function(){return fo})),n.d(e,"kc",(function(){return Xs})),n.d(e,"lc",(function(){return go})),n.d(e,"mc",(function(){return pu})),n.d(e,"nc",(function(){return gu})),n.d(e,"oc",(function(){return yu})),n.d(e,"pc",(function(){return mu})),n.d(e,"qc",(function(){return Mu})),n.d(e,"rc",(function(){return Gs})),n.d(e,"sc",(function(){return sn})),n.d(e,"tc",(function(){return de})),n.d(e,"uc",(function(){return yr})),n.d(e,"vc",(function(){return vr})),n.d(e,"wc",(function(){return Pt})),n.d(e,"xc",(function(){return Xo})),n.d(e,"yc",(function(){return Co})),n.d(e,"zc",(function(){return Ws})),n.d(e,"Ac",(function(){return zu})),n.d(e,"Bc",(function(){return zo})),n.d(e,"Cc",(function(){return $o})),n.d(e,"Dc",(function(){return Wo})),n.d(e,"Ec",(function(){return Go})),n.d(e,"Fc",(function(){return Qo})),n.d(e,"Gc",(function(){return Fu}));var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("z+Ro"),a=n("bHdf"),u=n("yCtX"),c=n("7o/Q");function l(){return function(t){return t.lift(new h(t))}}class h{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new f(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class f extends c.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class d extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new g(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return l()(this)}}const p=(()=>{const t=d.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class g extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function y(){return new r.a}function m(t){return{toString:t}.toString()}function v(t,e,n){return m(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const b=v("Inject",t=>({token:t})),_=v("Optional"),w=v("Self"),E=v("SkipSelf");var S=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function O(t){for(let e in t)if(t[e]===O)return e;throw Error("Could not find renamed property on target object.")}function x(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function T(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function I(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function C(t){return k(t,t[j])||k(t,t[R])}function k(t,e){return e&&e.token===t?e:null}function A(t){return t&&(t.hasOwnProperty(N)||t.hasOwnProperty(D))?t[N]:null}const j=O({"\u0275prov":O}),N=O({"\u0275inj":O}),P=O({"\u0275provFallback":O}),R=O({ngInjectableDef:O}),D=O({ngInjectorDef:O});function L(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(L).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function M(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const F=O({__forward_ref__:O});function U(t){return t.__forward_ref__=U,t.toString=function(){return L(this())},t}function V(t){return q(t)?t():t}function q(t){return"function"==typeof t&&t.hasOwnProperty(F)&&t.__forward_ref__===U}const H="undefined"!=typeof globalThis&&globalThis,B="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,$="undefined"!=typeof global&&global,W=H||$||B||z,G=O({"\u0275cmp":O}),Q=O({"\u0275dir":O}),K=O({"\u0275pipe":O}),Y=O({"\u0275mod":O}),X=O({"\u0275loc":O}),Z=O({"\u0275fac":O}),J=O({__NG_ELEMENT_ID__:O});class tt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=T({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const et=new tt("INJECTOR",-1),nt={},rt=/\n/gm,it=O({provide:String,useValue:O});let st,ot=void 0;function at(t){const e=ot;return ot=t,e}function ut(t){const e=st;return st=t,e}function ct(t,e=S.Default){if(void 0===ot)throw new Error("inject() must be called from an injection context");return null===ot?ht(t,void 0,e):ot.get(t,e&S.Optional?null:void 0,e)}function lt(t,e=S.Default){return(st||ct)(V(t),e)}function ht(t,e,n){const r=C(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&S.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${L(t)}]`)}function ft(t){const e=[];for(let n=0;n<t.length;n++){const r=V(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=S.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof _||"Optional"===i.ngMetadataName||i===_?n|=S.Optional:i instanceof E||"SkipSelf"===i.ngMetadataName||i===E?n|=S.SkipSelf:i instanceof w||"Self"===i.ngMetadataName||i===w?n|=S.Self:t=i instanceof b||i===b?i.token:i}e.push(lt(t,n))}else e.push(lt(r))}return e}class dt{get(t,e=nt){if(e===nt){const e=new Error(`NullInjectorError: No provider for ${L(t)}!`);throw e.name="NullInjectorError",e}return e}}class pt{}class gt{}function yt(t,e){t.forEach(t=>Array.isArray(t)?yt(t,e):e(t))}function mt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function vt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bt(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function _t(t,e,n){let r=Et(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function wt(t,e){const n=Et(t,e);if(n>=0)return t[1|n]}function Et(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const St=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),Ot=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),xt={},Tt=[];let It=0;function Ct(t){return m(()=>{const e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===St.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||Tt,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ot.Emulated,id:"c",styles:t.styles||Tt,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.directives,o=t.features,a=t.pipes;return i.id+=It++,i.inputs=Rt(t.inputs,r),i.outputs=Rt(t.outputs),o&&o.forEach(t=>t(i)),i.directiveDefs=s?()=>("function"==typeof s?s():s).map(kt):null,i.pipeDefs=a?()=>("function"==typeof a?a():a).map(At):null,i})}function kt(t){return Mt(t)||function(t){return t[Q]||null}(t)}function At(t){return function(t){return t[K]||null}(t)}const jt={};function Nt(t){const e={type:t.type,bootstrap:t.bootstrap||Tt,declarations:t.declarations||Tt,imports:t.imports||Tt,exports:t.exports||Tt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&m(()=>{jt[t.id]=t.type}),e}function Pt(t,e){return m(()=>{const n=Ut(t,!0);n.declarations=e.declarations||Tt,n.imports=e.imports||Tt,n.exports=e.exports||Tt})}function Rt(t,e){if(null==t)return xt;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const Dt=Ct;function Lt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Mt(t){return t[G]||null}function Ft(t,e){return t.hasOwnProperty(Z)?t[Z]:null}function Ut(t,e){const n=t[Y]||null;if(!n&&!0===e)throw new Error(`Type ${L(t)} does not have '\u0275mod' property.`);return n}function Vt(t){return Array.isArray(t)&&"object"==typeof t[1]}function qt(t){return Array.isArray(t)&&!0===t[1]}function Ht(t){return 0!=(8&t.flags)}function Bt(t){return 2==(2&t.flags)}function zt(t){return 1==(1&t.flags)}function $t(t){return null!==t.template}function Wt(t){return 0!=(512&t[2])}let Gt=void 0;function Qt(t){Gt=t}function Kt(){return void 0!==Gt?Gt:"undefined"!=typeof document?document:void 0}function Yt(t){return!!t.listen}const Xt={createRenderer:(t,e)=>Kt()};function Zt(t){for(;Array.isArray(t);)t=t[0];return t}function Jt(t,e){return Zt(e[t+19])}function te(t,e){return Zt(e[t.index])}function ee(t,e){return t.data[e+19]}function ne(t,e){return t[e+19]}function re(t,e){const n=e[t];return Vt(n)?n:n[0]}function ie(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function se(t){return 4==(4&t[2])}function oe(t){return 128==(128&t[2])}function ae(t,e){return null===t||null==e?null:t[e]}function ue(t){t[18]=0}const ce={lFrame:Ae(null),bindingsEnabled:!0,checkNoChangesMode:!1};function le(){return ce.bindingsEnabled}function he(){return ce.lFrame.lView}function fe(){return ce.lFrame.tView}function de(t){ce.lFrame.contextLView=t}function pe(){return ce.lFrame.previousOrParentTNode}function ge(t,e){ce.lFrame.previousOrParentTNode=t,ce.lFrame.isParent=e}function ye(){return ce.lFrame.isParent}function me(){ce.lFrame.isParent=!1}function ve(){return ce.checkNoChangesMode}function be(t){ce.checkNoChangesMode=t}function _e(){const t=ce.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function we(){return ce.lFrame.bindingIndex}function Ee(){return ce.lFrame.bindingIndex++}function Se(t){const e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Oe(t,e){const n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,n.currentDirectiveIndex=e}function xe(){return ce.lFrame.currentQueryIndex}function Te(t){ce.lFrame.currentQueryIndex=t}function Ie(t,e){const n=ke();ce.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function Ce(t,e){const n=ke(),r=t[1];ce.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function ke(){const t=ce.lFrame,e=null===t?null:t.child;return null===e?Ae(t):e}function Ae(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function je(){const t=ce.lFrame;return ce.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const Ne=je;function Pe(){const t=je();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Re(){return ce.lFrame.selectedIndex}function De(t){ce.lFrame.selectedIndex=t}function Le(){const t=ce.lFrame;return ee(t.tView,t.selectedIndex)}function Me(){ce.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function Fe(){ce.lFrame.currentNamespace=null}function Ue(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function Ve(t,e,n){Be(t,e,3,n)}function qe(t,e,n,r){(3&t[2])===n&&Be(t,e,n,r)}function He(t,e){let n=t[2];(3&n)===e&&(n&=1023,n+=1,t[2]=n)}function Be(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(ze(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function ze(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>10<t[18]>>16&&(3&t[2])===e&&(t[2]+=1024,s.call(o)):s.call(o)}class $e{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function We(t,e,n){const r=Yt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Qe(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ge(t){return 3===t||4===t||6===t}function Qe(t){return 64===t.charCodeAt(0)}function Ke(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ye(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ye(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Xe(t){return-1!==t}function Ze(t){return 32767&t}function Je(t){return t>>16}function tn(t,e){let n=Je(t),r=e;for(;n>0;)r=r[15],n--;return r}function en(t){return"string"==typeof t?t:null==t?"":""+t}function nn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():en(t)}const rn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(W))();function sn(t){return{name:"window",target:t.ownerDocument.defaultView}}function on(t){return t instanceof Function?t():t}let an=!0;function un(t){const e=an;return an=t,e}let cn=0;function ln(t,e){const n=fn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,hn(r.data,t),hn(e,null),hn(r.blueprint,null));const i=dn(t,e),s=t.injectorIndex;if(Xe(i)){const t=Ze(i),n=tn(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function hn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function fn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function dn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function pn(t,e,n){!function(t,e,n){let r="string"!=typeof n?n[J]:n.charCodeAt(0)||0;null==r&&(r=n[J]=cn++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function gn(t,e,n,r=S.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[J];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Ie(e,t);try{const t=i();if(null!=t||r&S.Optional)return t;throw new Error(`No provider for ${nn(n)}!`)}finally{Ne()}}else if("number"==typeof i){if(-1===i)return new En(t,e);let s=null,o=fn(t,e),a=-1,u=r&S.Host?e[16][6]:null;for((-1===o||r&S.SkipSelf)&&(a=-1===o?dn(t,e):e[o+8],wn(r,!1)?(s=e[1],o=Ze(a),e=tn(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(_n(i,o,t.data)){const t=mn(o,e,n,s,r,u);if(t!==yn)return t}wn(r,e[1].data[o+8]===u)&&_n(i,o,e)?(s=t,o=Ze(a),e=tn(a,e)):o=-1}}}if(r&S.Optional&&void 0===i&&(i=null),0==(r&(S.Self|S.Host))){const t=e[9],s=ut(void 0);try{return t?t.get(n,i,r&S.Optional):ht(n,i,r&S.Optional)}finally{ut(s)}}if(r&S.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${nn(n)}]`)}const yn={};function mn(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=vn(a,o,n,null==r?Bt(a)&&an:r!=o&&3===a.type,i&S.Host&&s===a);return null!==u?bn(e,o,u,a):yn}function vn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=65535&s,u=t.directiveStart,c=s>>16,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&$t(t)&&t.type===n)return u}return null}function bn(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof $e){const o=i;if(o.resolving)throw new Error(`Circular dep for ${nn(s[n])}`);const a=un(o.canSeeViewProviders);let u;o.resolving=!0,o.injectImpl&&(u=ut(o.injectImpl)),Ie(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{onChanges:r,onInit:i,doCheck:s}=e;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&ut(u),un(a),o.resolving=!1,Ne()}}return i}function _n(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function wn(t,e){return!(t&S.Self||t&S.Host&&e)}class En{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return gn(this._tNode,this._lView,t,void 0,e)}}function Sn(t){return m(()=>{const e=Object.getPrototypeOf(t.prototype).constructor,n=e[Z]||function t(e){const n=e;if(q(e))return()=>{const e=t(V(n));return e?e():null};let r=Ft(n);if(null===r){const t=A(n);r=t&&t.factory}return r||null}(e);return null!==n?n:t=>new t})}function On(t){return t.ngDebugContext}function xn(t){return t.ngOriginalError}function Tn(t,...e){t.error(...e)}class In{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Tn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?On(t)?On(t):this._findContext(xn(t)):null}_findOriginalError(t){let e=xn(t);for(;e&&xn(e);)e=xn(e);return e}}class Cn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class kn extends Cn{getTypeName(){return"HTML"}}class An extends Cn{getTypeName(){return"Style"}}class jn extends Cn{getTypeName(){return"Script"}}class Nn extends Cn{getTypeName(){return"URL"}}class Pn extends Cn{getTypeName(){return"ResourceURL"}}function Rn(t){return t instanceof Cn?t.changingThisBreaksApplicationSecurity:t}function Dn(t,e){const n=Ln(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Ln(t){return t instanceof Cn&&t.getTypeName()||null}function Mn(t){return new kn(t)}function Fn(t){return new An(t)}function Un(t){return new jn(t)}function Vn(t){return new Nn(t)}function qn(t){return new Pn(t)}let Hn=!1;function Bn(){return Hn=!0,!0}class zn{constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert");let e=this.inertDocument.body;if(null==e){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),e=this.inertDocument.createElement("body"),t.appendChild(e)}e.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!e.querySelector||e.querySelector("svg")?(e.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=e.querySelector&&e.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const $n=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Wn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gn(t){return(t=String(t)).match($n)||t.match(Wn)?t:(Bn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Qn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Kn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Yn=Qn("area,br,col,hr,img,wbr"),Xn=Qn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zn=Qn("rp,rt"),Jn=Kn(Zn,Xn),tr=Kn(Yn,Kn(Xn,Qn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Kn(Zn,Qn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Jn),er=Qn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),nr=Qn("srcset"),rr=Kn(er,nr,Qn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ir=Qn("script,style,template");class sr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!tr.hasOwnProperty(e))return this.sanitizedSomething=!0,!ir.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!rr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;er[s]&&(o=Gn(o)),nr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Gn(t.trim())).join(", ")),this.buf.push(" ",e,'="',ur(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();tr.hasOwnProperty(e)&&!Yn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(ur(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const or=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ar=/([^\#-~ |!])/g;function ur(t){return t.replace(/&/g,"&amp;").replace(or,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(ar,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let cr;function lr(t,e){let n=null;try{cr=cr||new zn(t);let r=e?String(e):"";n=cr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=cr.getInertBodyElement(r)}while(r!==s);const o=new sr,a=o.sanitizeChildren(hr(n)||n);return Bn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=hr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function hr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const fr=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}(),dr=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:attr|calc|var))\\([-0-9.%, #a-zA-Z]+\\))$","g"),pr=/^url\(([^)]+)\)$/;function gr(t){if(!(t=String(t).trim()))return"";const e=t.match(pr);return e&&Gn(e[1])===e[1]||t.match(dr)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(Bn()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}function yr(t){const e=wr();return e?e.sanitize(fr.HTML,t)||"":Dn(t,"HTML")?Rn(t):lr(Kt(),en(t))}function mr(t){const e=wr();return e?e.sanitize(fr.STYLE,t)||"":Dn(t,"Style")?Rn(t):gr(en(t))}function vr(t){const e=wr();return e?e.sanitize(fr.URL,t)||"":Dn(t,"URL")?Rn(t):Gn(en(t))}const br=function(t,e,n){if(void 0===e&&void 0===n)return mr(t);let r=!0;return 1&(n=n||3)&&(r=_r(t)),2&n?r?mr(e):Rn(e):r};function _r(t){return"background-image"===t||"backgroundImage"===t||"background"===t||"border-image"===t||"borderImage"===t||"border-image-source"===t||"borderImageSource"===t||"filter"===t||"list-style"===t||"listStyle"===t||"list-style-image"===t||"listStyleImage"===t||"clip-path"===t||"clipPath"===t}function wr(){const t=he();return t&&t[12]}function Er(t,e){t.__ngContext__=e}function Sr(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function Or(){throw new Error("Cannot mix multi providers and regular providers")}function xr(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function Tr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==xr(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Ir(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Cr(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ge(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!Ir(t,u,n)||""===u&&1===e.length){if(kr(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!Tr(t.attrs,c,n)){if(kr(r))return!1;o=!0}continue}const l=Ar(8&r?"class":u,i,0==t.type&&"ng-template"!==t.tagName,n);if(-1===l){if(kr(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==xr(e,c,0)||2&r&&c!==t){if(kr(r))return!1;o=!0}}}}else{if(!o&&!kr(r)&&!kr(u))return!1;if(o&&kr(u))continue;o=!1,r=u|1&r}}return kr(r)||o}function kr(t){return 0==(1&t)}function Ar(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){if(t[n]===e)return n;n++}return-1}(e,t)}function jr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Cr(t,e[r],n))return!0;return!1}function Nr(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function Pr(t,e){return t?":not("+e.trim()+")":e}function Rr(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||kr(o)||(e+=Pr(s,i),i=""),r=o,s=s||!kr(r);n++}return""!==i&&(e+=Pr(s,i)),e}const Dr={};function Lr(t){const e=t[3];return qt(e)?e[3]:e}function Mr(t){Fr(fe(),he(),Re()+t,ve())}function Fr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ve(e,r,n)}else{const r=t.preOrderHooks;null!==r&&qe(e,r,0,n)}De(n)}function Ur(t,e){return t<<17|e<<2}function Vr(t){return t>>17&32767}function qr(t){return 2|t}function Hr(t){return(131068&t)>>2}function Br(t,e){return-131069&t|e<<2}function zr(t){return 1|t}function $r(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];Te(i),n.contentQueries(2,e[s],s)}}}function Wr(t,e,n){return Yt(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Gr(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,ue(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Qr(t,e,n,r,i,s){const o=n+19,a=t.data[o]||function(t,e,n,r,i,s){const o=pe(),a=ye(),u=a?o:o&&o.parent,c=t.data[n]=ii(0,u&&u!==e?u:null,r,n,i,s);return null===t.firstChild&&(t.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(t,e,o,r,i,s);return ge(a,!0),a}function Kr(t,e,n){Ce(e,e[6]);try{const r=t.viewQuery;null!==r&&Ii(1,r,n);const i=t.template;null!==i&&Zr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&$r(t,e),t.staticViewQueries&&Ii(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Ei(t,e[n])}(e,s)}finally{e[2]&=-5,Pe()}}function Yr(t,e,n,r){const i=e[2];if(256==(256&i))return;Ce(e,e[6]);const s=ve();try{ue(e),ce.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Zr(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Ve(e,n,null)}else{const n=t.preOrderHooks;null!==n&&qe(e,n,0,null),He(e,0)}if(function(t){let e=t[13];for(;null!==e;){let n;if(qt(e)&&(n=e[2])>>1==-1){for(let t=9;t<e.length;t++){const n=e[t],r=n[1];oe(n)&&Yr(r,n,r.template,n[8])}0!=(1&n)&&_i(e,t[16])}e=e[4]}}(e),null!==t.contentQueries&&$r(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Ve(e,n)}else{const n=t.contentHooks;null!==n&&qe(e,n,1),He(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,De(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(Oe(r,i),o(2,e[i])),i++)}}}finally{De(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)wi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&Ii(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Ve(e,n)}else{const n=t.viewHooks;null!==n&&qe(e,n,2),He(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73)}finally{Pe()}}function Xr(t,e,n,r){const i=e[10],s=!ve(),o=se(e);try{s&&!o&&i.begin&&i.begin(),o&&Kr(t,e,r),Yr(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function Zr(t,e,n,r,i){const s=Re();try{De(-1),2&r&&e.length>19&&Fr(t,e,0,ve()),n(r,i)}finally{De(s)}}function Jr(t,e,n){if(Ht(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function ti(t,e,n){le()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||ln(n,e),Er(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=$t(r);s&&yi(e,n,r);const u=bn(e,t,a,n);Er(u,e),null!==o&&mi(0,a-i,u,r,0,o),s&&(re(n.index,e)[8]=u)}}(t,e,n,te(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-19;try{De(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?li(r,i):o&&s.push(null)}}finally{De(-1)}}(t,e,n))}function ei(t,e,n=te){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function ni(t){return t.tView||(t.tView=ri(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts))}function ri(t,e,n,r,i,s,o,a,u,c){const l=19+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Dr);return n}(l,h);return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:c}}function ii(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function si(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function oi(t,e,n,r,i,s,o,a){const u=te(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(Ni(t,n,c,r,i),Bt(e)&&function(t,e){const n=re(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.tagName||"",r):i,Yt(s)?s.setProperty(u,r,i):Qe(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function ai(t,e,n,r){let i=!1;if(le()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];jr(n,o.selectors,!1)&&(i||(i=[]),pn(ln(n,e),t,o.type),$t(o)?(2&n.flags&&Sr(n),fi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,pi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}hi(t,n,s.length);let a=!1,u=!1;for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Ke(n.mergedAttrs,c.hostAttrs),gi(t,e,c),di(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-19),a=!0),u||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-19),u=!0),ui(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],e=t.inputs;s.push(null!==i?vi(e,i):null),o=si(e,u,o),a=si(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),ci(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ke(n.mergedAttrs,n.attrs),i}function ui(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ci(t,e,n){for(let r=0;r<n;r++)e.push(Dr),t.blueprint.push(Dr),t.data.push(null)}function li(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function hi(t,e,n){const r=19-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function fi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function di(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;$t(e)&&(n[""]=t)}}function pi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function gi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Ft(n.type)),i=new $e(r,$t(n),null);t.blueprint.push(i),e.push(i)}function yi(t,e,n){const r=te(e,t),i=ni(n),s=t[10],o=Si(t,Gr(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n)));t[e.index]=o}function mi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function vi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function bi(t,e,n,r){return new Array(t,!0,-2,e,null,null,r,n,null)}function _i(t,e){const n=t[5];for(let r=0;r<n.length;r++){const t=n[r],i=t[3][3][16];if(i!==e&&0==(16&i[2])){const e=t[1];Yr(e,t,e.template,t[8])}}}function wi(t,e){const n=re(e,t);if(oe(n)&&80&n[2]){const t=n[1];Yr(t,n,t.template,n[8])}}function Ei(t,e){const n=re(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Kr(r,n,n[8])}function Si(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Oi(t){for(;t;){t[2]|=64;const e=Lr(t);if(Wt(t)&&!e)return t;t=e}return null}function xi(t,e,n){const r=e[10];r.begin&&r.begin();try{Yr(t,e,t.template,n)}catch(i){throw ji(e,i),i}finally{r.end&&r.end()}}function Ti(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=ie(n),i=r[1];Xr(i,r,i.template,n)}}(t[8])}function Ii(t,e,n){Te(0),e(t,n)}const Ci=(()=>Promise.resolve(null))();function ki(t){return t[7]||(t[7]=[])}function Ai(t){return t.cleanup||(t.cleanup=[])}function ji(t,e){const n=t[9],r=n?n.get(In,null):null;r&&r.handleError(e)}function Ni(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Pi(t,e,n){const r=Jt(e,t),i=t[11];Yt(i)?i.setValue(r,n):r.textContent=n}function Ri(t,e){const n=e[3];return-1===t.index?qt(n)?n:null:n}function Di(t,e){const n=Ri(t,e);return n?Gi(e[11],n[7]):null}function Li(t,e,n,r,i){if(null!=r){let s,o=!1;qt(r)?s=r:Vt(r)&&(o=!0,r=r[0]);const a=Zt(r);0===t&&null!==n?null==i?$i(e,n,a):zi(e,n,a,i||null):1===t&&null!==n?zi(e,n,a,i||null):2===t?function(t,e,n){const r=Gi(t,e);r&&function(t,e,n,r){Yt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Zt(n)&&Li(e,t,r,s,i);for(let o=9;o<n.length;o++){const i=n[o];Zi(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Mi(t,e,n,r){const i=Di(t.node,e);i&&Zi(t,e,e[11],n?1:2,i,r)}function Fi(t,e){const n=t[5],r=n.indexOf(e);n.splice(r,1)}function Ui(t,e){if(t.length<=9)return;const n=9+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Fi(i,r),e>0&&(t[n-1][4]=r[4]);const s=vt(t,9+e);Mi(r[1],r,!1,null);const o=s[5];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Vi(t,e){if(!(256&e[2])){const n=e[11];Yt(n)&&n.destroyNode&&Zi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Hi(t[1],t);for(;e;){let n=null;if(Vt(e))n=e[13];else{const t=e[9];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Vt(e)&&Hi(e[1],e),e=qi(e,t);null===e&&(e=t),Vt(e)&&Hi(e[1],e),n=e&&e[4]}e=n}}(e)}}function qi(t,e){let n;return Vt(t)&&(n=t[6])&&2===n.type?Ri(n,t):t[3]===e?null:t[3]}function Hi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof $e)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):Zt(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Yt(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&qt(e[3])){r!==e[3]&&Fi(r,e);const n=e[5];null!==n&&n.detachView(t)}}}function Bi(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?Di(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return te(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==Ot.ShadowDom&&n!==Ot.Native)return null}return te(r,n)}function zi(t,e,n,r){Yt(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function $i(t,e,n){Yt(t)?t.appendChild(e,n):e.appendChild(n)}function Wi(t,e,n,r){null!==r?zi(t,e,n,r):$i(t,e,n)}function Gi(t,e){return Yt(t)?t.parentNode(e):e.parentNode}function Qi(t,e){if(2===t.type){const n=Ri(t,e);return null===n?null:Yi(n.indexOf(e,9)-9,n)}return 4===t.type||5===t.type?te(t,e):null}function Ki(t,e,n,r){const i=Bi(t,r,e);if(null!=i){const t=e[11],s=Qi(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Wi(t,i,n[e],s);else Wi(t,i,n,s)}}function Yi(t,e){const n=9+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return te(n,e);if(0===r)return Yi(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return qt(t)?Yi(-1,t):Zt(t)}}{const r=e[16],i=r[6],s=Lr(r),o=i.projection[n.projection];return null!=o?t(s,o):t(e,n.next)}}return null}(t,r)}return e[7]}function Xi(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;o&&0===e&&(a&&Er(Zt(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Xi(t,e,n.child,r,i,s,!1),Li(e,t,i,a,s)):1===u?Ji(t,e,r,n,i,s):Li(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function Zi(t,e,n,r,i,s){Xi(n,r,t.node.child,e,i,s,!1)}function Ji(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Li(e,t,i,a[u],s);else Xi(t,e,a,o[3],i,s,!0)}function ts(t,e,n){Yt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function es(t,e,n){Yt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class ns{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(Zt(o)),qt(o))for(let e=9;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6],o=Lr(e);let a=s.projection[r.projection];null!==a&&null!==o&&t(o[1],o,a,i,!0)}r=s?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Vi(this._lView[1],this._lView)}onDestroy(t){var e,n,r;e=this._lView[1],r=t,ki(n=this._lView).push(r),e.firstCreatePass&&Ai(e).push(n[7].length-1,null)}markForCheck(){Oi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){xi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){be(!0);try{xi(t,e,n)}finally{be(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,Zi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class rs extends ns{constructor(t){super(t),this._view=t}detectChanges(){Ti(this._view)}checkNoChanges(){!function(t){be(!0);try{Ti(t)}finally{be(!1)}}(this._view)}get context(){return null}}let is,ss,os;function as(t,e,n){return is||(is=class extends t{}),new is(te(e,n))}function us(t,e,n,r){return ss||(ss=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Gr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[5];null!==r&&(n[5]=r.createEmbeddedView(e)),Kr(e,n,t);const i=new ns(n);return i._tViewNode=n[6],i}}),0===n.type?new ss(r,n,as(e,n,r)):null}function cs(t,e,n,r){let i;os||(os=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return as(e,this._hostTNode,this._hostView)}get injector(){return new En(this._hostTNode,this._hostView)}get parentInjector(){const t=dn(this._hostTNode,this._hostView),e=tn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=Je(t),i=e,s=e[6];for(;r>1;)i=i[15],s=i[6],r--;return s}(t,this._hostView,this._hostTNode);return Xe(t)&&null!=n?new En(n,e):new En(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-9}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(pt,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),qt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new os(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=9+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-9?(e[4]=n[i],mt(n,9+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[5],r=e[3][3][16];16!=(16&r[2])&&e[16]!==r&&(t[2]|=1),null===n?t[5]=[e]:n.push(e)}(o,e);const a=e[5];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),Mi(r,n,!0,Yi(i,this._lContainer)),t.attachToViewContainerRef(this),mt(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);(function(t,e){const n=Ui(t,e);n&&Vi(n[1],n)})(this._lContainer,e),vt(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ui(this._lContainer,e);return n&&null!=vt(this._lContainer[8],e)?new ns(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(qt(s))i=s,function(t,e){t[2]=-2}(i);else{let t;if(4===n.type)t=Zt(s);else if(t=r[11].createComment(""),Wt(r)){const e=r[11],i=te(n,r);zi(e,Gi(e,i),t,function(t,e){return Yt(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Ki(r[1],r,t,n);r[n.index]=i=bi(s,r,t,n),Si(r,i)}return new os(i,n,r)}function ls(t=!1){return function(t,e,n){if(!n&&Bt(t)){const n=re(t.index,e);return new ns(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new ns(e[16],e):null}(pe(),he(),t)}let hs=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>fs(),t})();const fs=ls,ds=new tt("Set Injector scope."),ps={},gs={},ys=[];let ms=void 0;function vs(){return void 0===ms&&(ms=new dt),ms}function bs(t,e=null,n=null,r){return new _s(t,n,e||vs(),r)}class _s{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&yt(e,n=>this.processProvider(n,t,e)),yt([t],t=>this.processInjectorType(t,[],i)),this.records.set(et,Ss(void 0,this));const s=this.records.get(ds);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:L(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=nt,n=S.Default){this.assertNotDestroyed();const r=at(this);try{if(!(n&S.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof tt)&&C(t);e=n&&this.injectableDefInScope(n)?Ss(ws(t),ps):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&S.Self?vs():this.parent).get(t,e=n&S.Optional&&e===nt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(L(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=L(e);if(Array.isArray(e))i=e.map(L).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):L(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(rt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{at(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(L(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=V(t)))return!1;let r=A(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=A(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{yt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];yt(r,t=>this.processProvider(t,n,r||ys))}}this.injectorDefTypes.add(s),this.records.set(s,Ss(r.factory,ps));const a=r.providers;if(null!=a&&!o){const e=t;yt(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=xs(t=V(t))?t:V(t&&t.provide);const i=function(t,e,n){return Os(t)?Ss(void 0,t.useValue):Ss(Es(t,e,n),ps)}(t,e,n);if(xs(t)||!0!==t.multi){const t=this.records.get(r);t&&void 0!==t.multi&&Or()}else{let e=this.records.get(r);e?void 0===e.multi&&Or():(e=Ss(void 0,ps,!0),e.factory=()=>ft(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===gs?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(L(t)):e.value===ps&&(e.value=gs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ws(t){const e=C(t),n=null!==e?e.factory:Ft(t);if(null!==n)return n;const r=A(t);if(null!==r)return r.factory;if(t instanceof tt)throw new Error(`Token ${L(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=bt(e,"?");throw new Error(`Can't resolve all parameters for ${L(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[j]||t[R]||t[P]&&t[P]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Es(t,e,n){let r=void 0;if(xs(t)){const e=V(t);return Ft(e)||ws(e)}if(Os(t))r=()=>V(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ft(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>lt(V(t.useExisting));else{const i=V(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${L(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return Ft(i)||ws(i);r=()=>new i(...ft(t.deps))}var i;return r}function Ss(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Os(t){return null!==t&&"object"==typeof t&&it in t}function xs(t){return"function"==typeof t}const Ts=function(t,e,n){return function(t,e=null,n=null,r){const i=bs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Is=(()=>{class t{static create(t,e){return Array.isArray(t)?Ts(t,e,""):Ts(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=nt,t.NULL=new dt,t.\u0275prov=T({token:t,providedIn:"any",factory:()=>lt(et)}),t.__NG_ELEMENT_ID__=-1,t})();const Cs=new tt("AnalyzeForEntryComponents");let ks=new Map;const As=new Set;function js(t){return"string"==typeof t?t:t.text()}function Ns(t,e){let n=t.styles,r=t.classes,i=0;for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?i=t:1==i?r=M(r,t):2==i&&(n=M(n,t+": "+e[++s]+";"))}null!==n&&(t.styles=n),null!==r&&(t.classes=r)}let Ps=null;function Rs(){if(!Ps){const t=W.Symbol;if(t&&t.iterator)Ps=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ps=n)}}}return Ps}function Ds(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}class Ls{constructor(t){this.wrapped=t}static wrap(t){return new Ls(t)}static unwrap(t){return Ls.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ls}}function Ms(t){return!!Fs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Rs()in t)}function Fs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Us(t,e,n){return t[e]=n}function Vs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function qs(t,e,n,r){const i=Vs(t,e,n);return Vs(t,e+1,r)||i}function Hs(t,e,n,r,i){const s=qs(t,e,n,r);return Vs(t,e+2,i)||s}function Bs(t,e,n,r){const i=he();return Vs(i,Ee(),e)&&(fe(),function(t,e,n,r,i,s){const o=te(t,e),a=e[11];if(null==r)Yt(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?en(r):i(r,t.tagName||"",n);Yt(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(Le(),i,t,e,n,r)),Bs}function zs(t,e,n,r){return Vs(t,Ee(),n)?e+en(n)+r:Dr}function $s(t,e,n,r,i,s){const o=qs(t,we(),n,i);return Se(2),o?e+en(n)+r+en(i)+s:Dr}function Ws(t,e,n,r,i,s,o,a){const u=he(),c=fe(),l=t+19,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Qr(e,n[6],t,0,o||null,ae(c,a));ai(e,n,l,ae(c,u)),Ue(e,l);const h=l.tViews=ri(2,-1,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=ii(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,s,o):c.data[l];ge(h,!1);const f=u[11].createComment("");Ki(c,u,f,h),Er(f,u),Si(u,u[l]=bi(f,u,f,h)),zt(h)&&ti(c,u,h),null!=o&&ei(u,h,a)}function Gs(t){return ne(ce.lFrame.contextLView,t)}function Qs(t,e=S.Default){const n=he();return null==n?lt(t,e):gn(pe(),n,V(t),e)}function Ks(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ge(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(pe(),t)}function Ys(){throw new Error("invalid")}function Xs(t,e,n){const r=he();return Vs(r,Ee(),e)&&oi(fe(),Le(),r,t,e,r[11],n,!1),Xs}function Zs(t,e,n,r,i){const s=i?"class":"style";Ni(t,n,e.inputs[s],s,r)}function Js(t,e,n,r){const i=he(),s=fe(),o=19+t,a=i[11],u=i[o]=Wr(e,a,ce.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=ae(a,s),c=Qr(e,n[6],t,3,i,u);return ai(e,n,c,ae(a,o)),null!==c.mergedAttrs&&Ns(c,c.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,i,0,e,n,r):s.data[o];ge(c,!0);const l=c.mergedAttrs;null!==l&&We(a,u,l);const h=c.classes;null!==h&&es(a,u,h);const f=c.styles;null!==f&&ts(a,u,f),Ki(s,i,u,c),0===ce.lFrame.elementDepthCount&&Er(u,i),ce.lFrame.elementDepthCount++,zt(c)&&(ti(s,i,c),Jr(s,c,i)),null!==r&&ei(i,c)}function to(){let t=pe();ye()?me():(t=t.parent,ge(t,!1));const e=t;ce.lFrame.elementDepthCount--;const n=fe();n.firstCreatePass&&(Ue(n,t),Ht(t)&&n.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&Zs(n,e,he(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&Zs(n,e,he(),e.styles,!1)}function eo(t,e,n,r){Js(t,e,n,r),to()}function no(t,e,n){const r=he(),i=fe(),s=t+19,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=ae(s,r),a=Qr(e,n[6],t,4,"ng-container",o);return null!==o&&Ns(a,o),ai(e,n,a,ae(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[s];ge(o,!0);const a=r[s]=r[11].createComment("");Ki(i,r,a,o),Er(a,r),zt(o)&&(ti(i,r,o),Jr(i,o,r)),null!=n&&ei(r,o)}function ro(){let t=pe();const e=fe();ye()?me():(t=t.parent,ge(t,!1)),e.firstCreatePass&&(Ue(e,t),Ht(t)&&e.queries.elementEnd(t))}function io(){return he()}function so(t){return!!t&&"function"==typeof t.then}function oo(t){return!!t&&"function"==typeof t.subscribe}function ao(t,e,n=!1,r){const i=he(),s=fe(),o=pe();return function(t,e,n,r,i,s,o=!1,a){const u=zt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=ki(e);let h=!0;if(3===r.type){const f=te(r,e),d=a?a(f):xt,p=d.target||f,g=l.length,y=a?t=>a(Zt(t[r.index])).target:r.index;if(Yt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=co(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,y,g,g+1)}}else s=co(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,y,g,o)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),ao}function uo(t,e,n){try{return!1!==e(n)}catch(r){return ji(t,r),!1}}function co(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?re(t.index,e):e;0==(32&e[2])&&Oi(o);let a=uo(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=uo(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function lo(t=1){return function(t){return(ce.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,ce.lFrame.contextLView))[8]}(t)}function ho(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?jr(t,s,!0):Nr(r,s))return i}else n=i}return n}function fo(t){const e=he()[16][6];if(!e.projection){const n=e.projection=bt(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?ho(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function po(t,e=0,n){const r=he(),i=fe(),s=Qr(i,r[6],t,1,null,n||null);null===s.projection&&(s.projection=e),me(),function(t,e,n){Ji(e[11],0,e,n,Bi(t,n,e),Qi(n.parent||e[6],e))}(i,r,s)}function go(t,e,n,r,i,s,o){const a=he(),u=$s(a,e,n,r,i,s);return u!==Dr&&oi(fe(),Le(),a,t,u,a[11],o,!1),go}const yo=[];function mo(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Vr(s):Hr(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];vo(t[a],e)&&(u=!0,t[a+1]=r?zr(n):qr(n)),a=r?Vr(n):Hr(n)}u&&(t[n+1]=r?qr(s):zr(s))}function vo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&Et(t,e)>=0}const bo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _o(t){return t.substring(bo.key,bo.keyEnd)}function wo(t){return t.substring(bo.value,bo.valueEnd)}function Eo(t,e){const n=bo.textEnd;return n===e?-1:(e=bo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,bo.key=e,n),xo(t,e,n))}function So(t,e){const n=bo.textEnd;let r=bo.key=xo(t,e,n);return n===r?-1:(r=bo.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90);)e++;return e}(t,r,n),r=To(t,r,n),r=bo.value=xo(t,r,n),r=bo.valueEnd=function(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){const u=t.charCodeAt(o++);if(59===u)return a;34===u||39===u?a=o=Io(t,u,o,n):e===o-4&&85===s&&82===i&&76===r&&40===u?a=o=Io(t,41,o,n):u>32&&(a=o),s=i,i=r,r=-33&u}return a}(t,r,n),To(t,r,n))}function Oo(t){bo.key=0,bo.keyEnd=0,bo.value=0,bo.valueEnd=0,bo.textEnd=t.length}function xo(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function To(t,e,n,r){return(e=xo(t,e,n))<n&&e++,e}function Io(t,e,n,r){let i=-1,s=n;for(;s<r;){const n=t.charCodeAt(s++);if(n==e&&92!==i)return s;i=92==n&&92===i?0:n}throw new Error}function Co(t,e,n){return Po(t,e,n,!1),Co}function ko(t,e){return Po(t,e,null,!0),ko}function Ao(t,e){for(let n=function(t){return Oo(t),So(t,xo(t,0,bo.textEnd))}(e);n>=0;n=So(e,n))Uo(t,_o(e),wo(e))}function jo(t){Ro(_t,No,t,!0)}function No(t,e){for(let n=function(t){return Oo(t),Eo(t,xo(t,0,bo.textEnd))}(e);n>=0;n=Eo(e,n))_t(t,_o(e),!0)}function Po(t,e,n,r){const i=he(),s=fe(),o=Se(2);if(s.firstUpdatePass&&Lo(s,t,o,r),e!==Dr&&Vs(i,o,e)){let a;null==n&&(a=function(){const t=ce.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),Vo(s,s.data[Re()+19],i,i[11],t,i[o+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=L(Rn(t)))),t}(e,n),r,o)}}function Ro(t,e,n,r){const i=fe(),s=Se(2);i.firstUpdatePass&&Lo(i,null,s,r);const o=he();if(n!==Dr&&Vs(o,s,n)){const a=i.data[Re()+19];if(Bo(a,r)&&!Do(i,s)){let t=r?a.classes:a.styles;null!==t&&(n=M(t,n||"")),Zs(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===Dr&&(i=yo);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<s.length?s[c+1]:void 0;let p=null,g=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,g=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,g=d),null!==p&&Vo(t,e,n,r,p,g,o,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return yo;const r=[],i=Rn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function Do(t,e){return e>=t.expandoStartIndex}function Lo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Re()+19],o=Do(t,n);Bo(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=ce.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Fo(n=Mo(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Mo(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Hr(r))return t[Vr(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=Mo(null,t,e,n[1],r),n=Fo(n,e.attrs,r),function(t,e,n,r){t[Vr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Fo(r,t[s].hostAttrs,n);return Fo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Vr(o),u=Hr(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||Et(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Vr(t[a+1]);t[r+1]=Ur(e,a),0!==e&&(t[e+1]=Br(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=Ur(a,0),0!==a&&(t[a+1]=Br(t[a+1],r)),a=r;else t[r+1]=Ur(u,0),0===a?a=r:t[u+1]=Br(t[u+1],r),u=r;l&&(t[r+1]=qr(t[r+1])),mo(t,c,r,!0),mo(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&Et(s,e)>=0&&(n[r+1]=zr(n[r+1]))}(e,c,t,r,s),o=Ur(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function Mo(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Fo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Fo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),_t(t,o,!!n||e[++s]))}return void 0===t?null:t}function Uo(t,e,n){_r(e)&&(n=mr(n)),_t(t,e,n)}function Vo(t,e,n,r,i,s,o,a){if(3!==e.type)return;const u=t.data,c=u[a+1];Ho(1==(1&c)?qo(u,e,n,i,Hr(c),o):void 0)||(Ho(s)||function(t){return 2==(2&t)}(c)&&(s=qo(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Yt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,Jt(Re(),n),i,s))}function qo(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===Dr&&(l=c?yo:void 0);let h=c?wt(l,r):u===r?l:void 0;if(s&&!Ho(h)&&(h=wt(e,r)),Ho(h)&&(a=h,o))return a;const f=t[i+1];i=o?Vr(f):Hr(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=wt(t,r))}return a}function Ho(t){return void 0!==t}function Bo(t,e){return 0!=(t.flags&(e?16:32))}function zo(t,e=""){const n=he(),r=fe(),i=t+19,s=r.firstCreatePass?Qr(r,n[6],t,3,null,null):r.data[i],o=n[i]=function(t,e){return Yt(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Ki(r,n,o,s),ge(s,!1)}function $o(t){return Wo("",t,""),$o}function Wo(t,e,n){const r=he(),i=zs(r,t,e,n);return i!==Dr&&Pi(r,Re(),i),Wo}function Go(t,e,n,r,i){const s=he(),o=$s(s,t,e,n,r,i);return o!==Dr&&Pi(s,Re(),o),Go}function Qo(t,e,n,r,i,s,o){const a=he(),u=function(t,e,n,r,i,s,o,a){const u=Hs(t,we(),n,i,o);return Se(3),u?e+en(n)+r+en(i)+s+en(o)+a:Dr}(a,t,e,n,r,i,s,o);return u!==Dr&&Pi(a,Re(),u),Qo}function Ko(t,e,n){Ro(_t,No,zs(he(),t,e,n),!0)}function Yo(t,e,n,r,i){Ro(_t,No,$s(he(),t,e,n,r,i),!0)}function Xo(t,e,n){Ro(Uo,Ao,zs(he(),t,e,n),!1)}function Zo(t,e,n){const r=he();return Vs(r,Ee(),e)&&oi(fe(),Le(),r,t,e,r[11],n,!0),Zo}function Jo(t,e){const n=ie(t)[1],r=n.data.length-1;Ue(n,{directiveStart:r,directiveEnd:r+1})}function ta(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if($t(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ea(t.inputs),e.declaredInputs=ea(t.declaredInputs),e.outputs=ea(t.outputs);const n=i.hostBindings;n&&ia(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&na(t,s),o&&ra(t,o),x(t.inputs,i.inputs),x(t.declaredInputs,i.declaredInputs),x(t.outputs,i.outputs),$t(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}e.afterContentChecked=e.afterContentChecked||i.afterContentChecked,e.afterContentInit=t.afterContentInit||i.afterContentInit,e.afterViewChecked=t.afterViewChecked||i.afterViewChecked,e.afterViewInit=t.afterViewInit||i.afterViewInit,e.doCheck=t.doCheck||i.doCheck,e.onDestroy=t.onDestroy||i.onDestroy,e.onInit=t.onInit||i.onInit}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===ta&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ke(i.hostAttrs,n=Ke(n,i.hostAttrs))}}(r)}function ea(t){return t===xt?{}:t===Tt?[]:t}function na(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function ra(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function ia(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}class sa{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function oa(t){t.type.prototype.ngOnChanges&&(t.setInput=aa,t.onChanges=function(){const t=ua(this),e=t&&t.current;if(e){const n=t.previous;if(n===xt)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function aa(t,e,n,r){const i=ua(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:xt,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new sa(u&&u.currentValue,e,o===xt),t[r]=e}function ua(t){return t.__ngSimpleChanges__||null}function ca(t,e,n,r,i){if(t=V(t),Array.isArray(t))for(let s=0;s<t.length;s++)ca(t[s],e,n,r,i);else{const s=fe(),o=he();let a=xs(t)?t:V(t.provide),u=Es(t);const c=pe(),l=65535&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>16;if(xs(t)||!t.multi){const r=new $e(u,i,Qs),d=fa(a,e,i?l:l+f,h);-1===d?(pn(ln(c,o),s,a),la(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=fa(a,e,l+f,h),p=fa(a,e,l,l+f),g=d>=0&&n[d],y=p>=0&&n[p];if(i&&!y||!i&&!g){pn(ln(c,o),s,a);const l=function(t,e,n,r,i){const s=new $e(t,n,Qs);return s.multi=[],s.index=e,s.componentProviders=0,ha(s,i,r&&!n),s}(i?pa:da,n.length,i,r,u);!i&&y&&(n[p].providerFactory=l),la(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=65536),n.push(l),o.push(l)}else la(s,t,d>-1?d:p,ha(n[i?p:d],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function la(t,e,n,r){const i=xs(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function ha(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function fa(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function da(t,e,n,r){return ga(this.multi,[])}function pa(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=bn(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),ga(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],ga(i,s);return s}function ga(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function ya(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=fe();if(r.firstCreatePass){const i=$t(t);ca(n,r.data,r.blueprint,i,!0),ca(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}oa.ngInherit=!0;class ma{}class va{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${L(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let ba=(()=>{class t{}return t.NULL=new va,t})(),_a=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>wa(t),t})();const wa=function(t){return as(t,pe(),he())};class Ea{}const Sa=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Oa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>xa(),t})();const xa=function(){const t=he(),e=re(pe().index,t);return function(t){const e=t[11];if(Yt(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Vt(e)?e:t)};let Ta=(()=>{class t{}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>null}),t})();class Ia{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ca=new Ia("9.1.2");class ka{constructor(){}supports(t){return Ms(t)}create(t){return new ja(t)}}const Aa=(t,e)=>e;class ja{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Aa}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<Da(n,r,i)?e:n,o=Da(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ms(t))throw new Error(`Error trying to diff '${L(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Ds(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Ds(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Rs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Ds(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Ds(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Ds(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ds(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Na(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ra),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ra),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Na{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Pa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Ds(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ra{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Pa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Da(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class La{constructor(){}supports(t){return t instanceof Map||Fs(t)}create(){return new Ma}}class Ma{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Fs(t)))throw new Error(`Error trying to diff '${L(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Fa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Ds(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Fa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ua=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new E,new _]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t([new ka])}),t})(),Va=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new E,new _]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=T({token:t,providedIn:"root",factory:()=>new t([new La])}),t})();const qa=[new La],Ha=new Ua([new ka]),Ba=new Va(qa);let za=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>$a(t,_a),t})();const $a=function(t,e){return us(t,e,pe(),he())};let Wa=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Ga(t,_a),t})();const Ga=function(t,e){return cs(t,e,pe(),he())},Qa={};class Ka extends ba{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Mt(t);return new Za(e,this.ngModule)}}function Ya(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Xa=new tt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>rn});class Za extends ma{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Rr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Ya(this.componentDef.inputs)}get outputs(){return Ya(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Qa,i);return s!==Qa||r===Qa?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Ea,Xt),o=i.get(Ta,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Yt(t))return t.selectRootElement(e,n===Ot.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Wr(u,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),f={components:[],scheduler:rn,clean:Ci,playerHandler:null,flags:0},d=ri(0,-1,null,1,0,null,null,null,null,null),p=Gr(null,d,f,l,null,null,s,a,o,i);let g,y;Ce(p,null);try{const t=function(t,e,n,r,i,s){const o=n[1];n[19]=t;const a=Qr(o,null,0,3,null,null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Ns(a,u),null!==t&&(We(i,t,u),null!==a.classes&&es(i,t,a.classes),null!==a.styles&&ts(i,t,a.styles)));const c=r.createRenderer(t,e),l=Gr(n,ni(e),null,e.onPush?64:16,n[19],a,r,c,void 0);return o.firstCreatePass&&(pn(ln(a,n),o,e.type),fi(o,a),pi(a,n.length,1)),Si(n,l),n[19]=l}(c,this.componentDef,p,s,a);if(c)if(n)We(a,c,["ng-version",Ca.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!kr(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&We(a,c,t),e&&e.length>0&&es(a,c,e.join(" "))}y=ee(p[1],0),e&&(y.projection=e.map(t=>Array.from(t))),g=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=pe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),hi(t,r,1),gi(t,e,n));const i=bn(e,t,e.length-1,r);Er(i,e);const s=te(r,e);return s&&Er(s,e),i}(s,n,e);r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=pe();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){De(a.index-19);const t=n[1];ui(t,e),ci(t,n,e.hostVars),li(e,o)}return o}(t,this.componentDef,p,f,[Jo]),Kr(d,p,null)}finally{Pe()}const m=new Ja(this.componentType,g,as(_a,y,p),p,y);return n&&!h||(m.hostView._tViewNode.child=y),m}}class Ja extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new rs(r),this.hostView._tViewNode=function(t,e,n,r){let i=t.node;return null==i&&(t.node=i=ii(0,null,2,-1,null,null)),r[6]=i}(r[1],0,0,r),this.componentType=t}get injector(){return new En(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const tu=void 0;var eu=["en",[["a","p"],["AM","PM"],tu],[["AM","PM"],tu,tu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],tu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],tu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",tu,"{1} 'at' {0}",tu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let nu={};function ru(t,e,n){"string"!=typeof e&&(n=e,e=t[uu.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),nu[e]=t,n&&(nu[e][uu.ExtraData]=n)}function iu(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=au(e);if(n)return n;const r=e.split("-")[0];if(n=au(r),n)return n;if("en"===r)return eu;throw new Error(`Missing locale data for the locale "${t}".`)}function su(t){return iu(t)[uu.CurrencyCode]||null}function ou(t){return iu(t)[uu.PluralCase]}function au(t){return t in nu||(nu[t]=W.ng&&W.ng.common&&W.ng.common.locales&&W.ng.common.locales[t]),nu[t]}const uu=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let cu="en-US";function lu(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(cu=t.toLowerCase().replace(/_/g,"-"))}const hu=new Map;class fu extends pt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ka(this);const n=Ut(t),r=t[X]||null;r&&lu(r),this._bootstrapComponents=on(n.bootstrap),this._r3Injector=bs(t,e,[{provide:pt,useValue:this},{provide:ba,useValue:this.componentFactoryResolver}],L(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Is.THROW_IF_NOT_FOUND,n=S.Default){return t===Is||t===pt||t===et?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class du extends gt{constructor(t){super(),this.moduleType=t,null!==Ut(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${L(e)} vs ${L(e.name)}`)})(t,hu.get(t),e),hu.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new fu(this.moduleType,t)}}function pu(t,e,n){const r=_e()+t,i=he();return i[r]===Dr?Us(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function gu(t,e,n,r){return bu(he(),_e(),t,e,n,r)}function yu(t,e,n,r,i){return _u(he(),_e(),t,e,n,r,i)}function mu(t,e,n,r,i,s){return function(t,e,n,r,i,s,o,a){const u=e+n;return Hs(t,u,i,s,o)?Us(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):vu(t,u+3)}(he(),_e(),t,e,n,r,i,s)}function vu(t,e){const n=t[e];return n===Dr?void 0:n}function bu(t,e,n,r,i,s){const o=e+n;return Vs(t,o,i)?Us(t,o+1,s?r.call(s,i):r(i)):vu(t,o+1)}function _u(t,e,n,r,i,s,o){const a=e+n;return qs(t,a,i,s)?Us(t,a+2,o?r.call(o,i,s):r(i,s)):vu(t,a+2)}function wu(t,e){const n=fe();let r;const i=t+19;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Ft(r.type)),o=ut(Qs),a=s();return ut(o),function(t,e,n,r){const i=n+19;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,he(),t,a),a}function Eu(t,e,n){const r=he(),i=ne(r,t);return xu(r,Ou(r,t)?bu(r,_e(),e,i.transform,n,i):i.transform(n))}function Su(t,e,n,r){const i=he(),s=ne(i,t);return xu(i,Ou(i,t)?_u(i,_e(),e,s.transform,n,r,s):s.transform(n,r))}function Ou(t,e){return t[1].data[e+19].pure}function xu(t,e){return Ls.isWrapped(e)&&(e=Ls.unwrap(e),t[we()]=Dr),e}class Tu extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}}function Iu(){return this._results[Rs()]()}class Cu{constructor(){this.dirty=!0,this._results=[],this.changes=new Tu,this.length=0;const t=Rs(),e=Cu.prototype;e[t]||(e[t]=Iu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class ku{constructor(t){this.queryList=t,this.matches=null}clone(){return new ku(this.queryList)}setDirty(){this.queryList.setDirty()}}class Au{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Au(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Bu(t,e).matches&&this.queries[e].setDirty()}}class ju{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Nu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Nu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Pu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Pu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,Ru(e,n[r]))}else{const n=this.metadata.predicate;n===za?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,vn(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===_a||r===Wa||r===za&&0===e.type)this.addMatch(e.index,-2);else{const n=vn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Ru(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Du(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?as(_a,t,e):0===t.type?us(za,_a,t,e):null}(e,t):-2===n?function(t,e,n){return n===_a?as(_a,e,t):n===za?us(za,_a,e,t):n===Wa?cs(Wa,_a,e,t):void 0}(t,e,r):bn(t,t[1],n,e)}function Lu(t,e,n,r){const i=e[5].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Du(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Mu(t){const e=he(),n=fe(),r=xe();Te(r+1);const i=Bu(n,r);if(t.dirty&&se(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?function t(e,n,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=Lu(e,n,s,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)i.push(a[e/2]);else{const s=o[e+1],a=n[-r];for(let e=9;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,i)}if(null!==a[5]){const e=a[5];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,s,i)}}}}}return i}(n,e,r,[]):Lu(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function Fu(t,e,n){!function(t,e,n,r,i,s){t.firstCreatePass&&Hu(t,new ju(n,r,!1,i),-1),qu(t,e)}(fe(),he(),t,e,n)}function Uu(t,e,n,r){!function(t,e,n,r,i,s,o,a){t.firstCreatePass&&(Hu(t,new ju(n,r,!1,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a)),qu(t,e)}(fe(),he(),e,n,r,0,pe(),t)}function Vu(){return t=he(),e=xe(),t[5].queries[e].queryList;var t,e}function qu(t,e){const n=new Cu;!function(t,e,n,r){const i=ki(e);i.push(n),t.firstCreatePass&&Ai(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[5]&&(e[5]=new Au),e[5].queries.push(new ku(n))}function Hu(t,e,n){null===t.queries&&(t.queries=new Nu),t.queries.track(new Pu(e,n))}function Bu(t,e){return t.queries.getByIndex(e)}function zu(t,e){return us(za,_a,t,e)}function $u(t=S.Default){const e=ls(!0);if(null!=e||t&S.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const Wu=new tt("Application Initializer");let Gu=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();so(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(lt(Wu,8))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const Qu=new tt("AppId"),Ku={provide:Qu,useFactory:function(){return`${Yu()}${Yu()}${Yu()}`},deps:[]};function Yu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Xu=new tt("Platform Initializer"),Zu=new tt("Platform ID"),Ju=new tt("appBootstrapListener");let tc=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const ec=new tt("LocaleId"),nc=new tt("DefaultCurrencyCode");class rc{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ic=function(t){return new du(t)},sc=ic,oc=function(t){return Promise.resolve(ic(t))},ac=function(t){const e=ic(t),n=on(Ut(t).declarations).reduce((t,e)=>{const n=Mt(e);return n&&t.push(new Za(n)),t},[]);return new rc(e,n)},uc=ac,cc=function(t){return Promise.resolve(ac(t))};let lc=(()=>{class t{constructor(){this.compileModuleSync=sc,this.compileModuleAsync=oc,this.compileModuleAndAllComponentsSync=uc,this.compileModuleAndAllComponentsAsync=cc}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();const hc=new tt("compilerOptions"),fc=(()=>Promise.resolve(0))();function dc(t){"undefined"==typeof Zone?fc.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class pc{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Tu(!1),this.onMicrotaskEmpty=new Tu(!1),this.onStable=new Tu(!1),this.onError=new Tu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=W.requestAnimationFrame,e=W.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(W,()=>{t.lastRequestAnimationFrameId=-1,vc(t),mc(t)}),vc(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,s,o,a)=>{try{return bc(t),n.invokeTask(i,s,o,a)}finally{e&&"eventTask"===s.type&&e(),_c(t)}},onInvoke:(e,n,r,i,s,o,a)=>{try{return bc(t),e.invoke(r,i,s,o,a)}finally{_c(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,vc(t),mc(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(pc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,yc,gc,gc);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function gc(){}const yc={};function mc(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function vc(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function bc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function _c(t){t._nesting--,mc(t)}class wc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Tu,this.onMicrotaskEmpty=new Tu,this.onStable=new Tu,this.onError=new Tu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Ec=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pc.assertNotInAngularZone(),dc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())dc(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(lt(pc))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})(),Sc=(()=>{class t{constructor(){this._applications=new Map,Ic.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ic.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();class Oc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function xc(t){Ic=t}let Tc,Ic=new Oc,Cc=function(t,e,n){const r=t.get(hc,[]).concat(e),i=new du(n);if(0===ks.size)return Promise.resolve(i);const s=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(r.map(t=>t.providers));if(0===s.length)return Promise.resolve(i);const o=function(){const t=W.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),a=Is.create({providers:s}).get(o.ResourceLoader);return function(t){const e=[],n=new Map;function r(t){let e=n.get(t);if(!e){const r=(t=>Promise.resolve(a.get(t)))(t);n.set(t,e=r.then(js))}return e}return ks.forEach((t,n)=>{const i=[];t.templateUrl&&i.push(r(t.templateUrl).then(e=>{t.template=e}));const s=t.styleUrls,o=t.styles||(t.styles=[]),a=t.styles.length;s&&s.forEach((e,n)=>{o.push(""),i.push(r(e).then(r=>{o[a+n]=r,s.splice(s.indexOf(e),1),0==s.length&&(t.styleUrls=void 0)}))});const u=Promise.all(i).then(()=>function(t){As.delete(t)}(n));e.push(u)}),ks=new Map,Promise.all(e).then(()=>{})}().then(()=>i)};const kc=new tt("AllowMultipleToken");class Ac{constructor(t,e){this.name=t,this.token=e}}function jc(t,e,n=[]){const r=`Platform: ${e}`,i=new tt(r);return(e=[])=>{let s=Nc();if(!s||s.injector.get(kc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ds,useValue:"platform"});!function(t){if(Tc&&!Tc.destroyed&&!Tc.injector.get(kc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Tc=t.get(Pc);const e=t.get(Xu,null);e&&e.forEach(t=>t())}(Is.create({providers:t,name:r}))}return function(t){const e=Nc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Nc(){return Tc&&!Tc.destroyed?Tc:null}let Pc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new wc:("zone.js"===t?void 0:t)||new pc({enableLongStackTrace:Bn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:pc,useValue:n}];return n.run(()=>{const e=Is.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(In,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>Lc(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const r=n();return so(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(Gu);return t.runInitializers(),t.donePromise.then(()=>(lu(i.injector.get(ec,"en-US")||"en-US"),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Rc({},e);return Cc(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Dc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${L(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(lt(Is))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function Rc(t,e){return Array.isArray(e)?e.reduce(Rc,t):Object.assign(Object.assign({},t),e)}let Dc=(()=>{class t{constructor(t,e,n,r,i,c){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Bn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),f=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{pc.assertNotInAngularZone(),dc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{pc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=function(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return Object(o.a)(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof s.a?t[0]:Object(a.a)(e)(Object(u.a)(t,n))}(h,f.pipe(t=>{return l()((e=y,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,p);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ma?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(pt),i=n.create(Is.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const s=i.injector.get(Ec,null);return s&&i.injector.get(Sc).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Bn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Lc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Ju,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),Lc(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(lt(pc),lt(tc),lt(Is),lt(In),lt(ba),lt(Gu))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function Lc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Mc{}class Fc{}const Uc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Vc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Uc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("crnd")(e).then(t=>t[r]).then(t=>qc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("crnd")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>qc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(lt(lc),lt(Fc,8))},t.\u0275prov=T({token:t,factory:t.\u0275fac}),t})();function qc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Hc=function(t){return null},Bc=jc(null,"core",[{provide:Zu,useValue:"unknown"},{provide:Pc,deps:[Is]},{provide:Sc,deps:[]},{provide:tc,deps:[]}]),zc=[{provide:Dc,useClass:Dc,deps:[pc,tc,Is,In,ba,Gu]},{provide:Xa,deps:[pc],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Gu,useClass:Gu,deps:[[new _,Wu]]},{provide:lc,useClass:lc,deps:[]},Ku,{provide:Ua,useFactory:function(){return Ha},deps:[]},{provide:Va,useFactory:function(){return Ba},deps:[]},{provide:ec,useFactory:function(t){return lu(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new b(ec),new _,new E]]},{provide:nc,useValue:"USD"}];let $c=(()=>{class t{constructor(t){}}return t.\u0275mod=Nt({type:t}),t.\u0275inj=I({factory:function(e){return new(e||t)(lt(Dc))},providers:zc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule((function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},jhN1:function(t,e,n){"use strict";n.d(e,"a",(function(){return M})),n.d(e,"b",(function(){return j})),n.d(e,"c",(function(){return U})),n.d(e,"d",(function(){return D})),n.d(e,"e",(function(){return w}));var r=n("ofXK"),i=n("fXoL");class s extends r.r{constructor(){super()}supportsDOMEvents(){return!0}}class o extends s{static makeCurrent(){Object(r.v)(new o)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=u||(u=document.querySelector("base"),u)?u.getAttribute("href"):null;return null==e?null:(n=e,a||(a=document.createElement("a")),a.setAttribute("href",n),"/"===a.pathname.charAt(0)?a.pathname:"/"+a.pathname);var n}resetBaseElement(){u=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return Object(r.u)(document.cookie,t)}}let a,u=null;const c=new i.q("TRANSITION_ID"),l=[{provide:i.d,useFactory:function(t,e,n){return()=>{n.get(i.e).donePromise.then(()=>{const n=Object(r.t)();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[c,r.d,i.r],multi:!0}];class h{static init(){Object(i.V)(new h)}addToWindow(t){i.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},i.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),i.nb.getAllAngularRootElements=()=>t.getAllRootElements(),i.nb.frameworkStabilizers||(i.nb.frameworkStabilizers=[]),i.nb.frameworkStabilizers.push(t=>{const e=i.nb.getAllAngularTestabilities();let n=e.length,r=!1;const s=function(e){r=r||e,n--,0==n&&t(r)};e.forEach((function(t){t.whenStable(s)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?Object(r.t)().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const f=new i.q("EventManagerPlugins");let d=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(f),i.Wb(i.z))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();class p{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=Object(r.t)().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let g=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),y=(()=>{class t extends g{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Object(r.t)().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(r.d))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();const m={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},v=/%COMP%/g;function b(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?b(t,i,n):(i=i.replace(v,t),n.push(i))}return n}function _(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let w=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new E(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case i.P.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new S(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case i.P.Native:case i.P.ShadowDom:return new O(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=b(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(d),i.Wb(y),i.Wb(i.c))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();class E{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(m[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=m[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=m[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&i.F.DashCase?t.style.setProperty(e,n,r&i.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&i.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,_(n)):this.eventManager.addEventListener(t,e,_(n))}}class S extends E{constructor(t,e,n,r){super(t),this.component=n;const i=b(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(v,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(v,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class O extends E{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===i.P.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const s=b(r.id,r.styles,[]);for(let i=0;i<s.length;i++){const t=document.createElement("style");t.textContent=s[i],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let x=(()=>{class t extends p{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(r.d))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();const T=["alt","control","meta","shift"],I={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},C={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},k={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let A=(()=>{class t extends p{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const s=t.parseEventName(n),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Object(r.t)().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(T.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&C.hasOwnProperty(e)&&(e=C[e]))}return I[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),T.forEach(r=>{r!=n&&(0,k[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(r.d))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),j=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(i.Jb)({factory:function(){return Object(i.Wb)(P)},token:t,providedIn:"root"}),t})();function N(t){return new P(t.get(r.d))}let P=(()=>{class t extends j{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case i.H.NONE:return e;case i.H.HTML:return Object(i.cb)(e,"HTML")?Object(i.vb)(e):Object(i.Z)(this._doc,String(e));case i.H.STYLE:return Object(i.cb)(e,"Style")?Object(i.vb)(e):Object(i.ab)(e);case i.H.SCRIPT:if(Object(i.cb)(e,"Script"))return Object(i.vb)(e);throw new Error("unsafe value used in a script context");case i.H.URL:return Object(i.mb)(e),Object(i.cb)(e,"URL")?Object(i.vb)(e):Object(i.bb)(String(e));case i.H.RESOURCE_URL:if(Object(i.cb)(e,"ResourceURL"))return Object(i.vb)(e);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return Object(i.db)(t)}bypassSecurityTrustStyle(t){return Object(i.gb)(t)}bypassSecurityTrustScript(t){return Object(i.fb)(t)}bypassSecurityTrustUrl(t){return Object(i.hb)(t)}bypassSecurityTrustResourceUrl(t){return Object(i.eb)(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(r.d))},t.\u0275prov=Object(i.Jb)({factory:function(){return N(Object(i.Wb)(i.o))},token:t,providedIn:"root"}),t})();const R=[{provide:i.B,useValue:r.s},{provide:i.C,useValue:function(){o.makeCurrent(),h.init()},multi:!0},{provide:r.d,useFactory:function(){return Object(i.tb)(document),document},deps:[]}],D=Object(i.R)(i.U,"browser",R),L=[[],{provide:i.X,useValue:"root"},{provide:i.m,useFactory:function(){return new i.m},deps:[]},{provide:f,useClass:x,multi:!0,deps:[r.d,i.z,i.B]},{provide:f,useClass:A,multi:!0,deps:[r.d]},[],{provide:w,useClass:w,deps:[d,y,i.c]},{provide:i.E,useExisting:w},{provide:g,useExisting:y},{provide:y,useClass:y,deps:[r.d]},{provide:i.L,useClass:i.L,deps:[i.z]},{provide:d,useClass:d,deps:[f,i.z]},[]];let M=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:i.c,useValue:e.appId},{provide:c,useExisting:i.c},l]}}}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)(i.Wb(t,12))},providers:L,imports:[r.c,i.f]}),t})();function F(){return new U(Object(i.Wb)(r.d))}let U=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(r.d))},t.\u0275prov=Object(i.Jb)({factory:F,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},l7GE:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");class i extends r.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n("SpAZ");function i(...t){return s(t)}function s(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return i})),n.d(e,"__assign",(function(){return s})),n.d(e,"__rest",(function(){return o})),n.d(e,"__decorate",(function(){return a})),n.d(e,"__param",(function(){return u})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return h})),n.d(e,"__exportStar",(function(){return f})),n.d(e,"__values",(function(){return d})),n.d(e,"__read",(function(){return p})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return y})),n.d(e,"__await",(function(){return m})),n.d(e,"__asyncGenerator",(function(){return v})),n.d(e,"__asyncDelegator",(function(){return b})),n.d(e,"__asyncValues",(function(){return _})),n.d(e,"__makeTemplateObject",(function(){return w})),n.d(e,"__importStar",(function(){return E})),n.d(e,"__importDefault",(function(){return S})),n.d(e,"__classPrivateFieldGet",(function(){return O})),n.d(e,"__classPrivateFieldSet",(function(){return x}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function u(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function y(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(t){i[t]&&(r[t]=function(e){return new Promise((function(n,r){s.push([t,e,n,r])>1||a(t,e)}))})}function a(t,e){try{(n=i[t](e)).value instanceof m?Promise.resolve(n.value.v).then(u,c):l(s[0][2],n)}catch(r){l(s[0][3],r)}var n}function u(t){a("next",t)}function c(t){a("throw",t)}function l(t,e){t(e),s.shift(),s.length&&a(s[0][0],s[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:m(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=d(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,i){!function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)}(r,i,(e=t[n](e)).done,e.value)}))}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function E(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}function O(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function x(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},ofXK:function(t,e,n){"use strict";n.d(e,"a",(function(){return _})),n.d(e,"b",(function(){return K})),n.d(e,"c",(function(){return X})),n.d(e,"d",(function(){return u})),n.d(e,"e",(function(){return Y})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return h})),n.d(e,"h",(function(){return S})),n.d(e,"i",(function(){return v})),n.d(e,"j",(function(){return M})),n.d(e,"k",(function(){return U})),n.d(e,"l",(function(){return H})),n.d(e,"m",(function(){return B})),n.d(e,"n",(function(){return w})),n.d(e,"o",(function(){return c})),n.d(e,"p",(function(){return tt})),n.d(e,"q",(function(){return J})),n.d(e,"r",(function(){return a})),n.d(e,"s",(function(){return Z})),n.d(e,"t",(function(){return s})),n.d(e,"u",(function(){return D})),n.d(e,"v",(function(){return o}));var r=n("fXoL");let i=null;function s(){return i}function o(t){i||(i=t)}class a{}const u=new r.q("DocumentToken");let c=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:l,token:t,providedIn:"platform"}),t})();function l(){return Object(r.Wb)(f)}const h=new r.q("Location Initialized");let f=(()=>{class t extends c{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){d()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){d()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(u))},t.\u0275prov=Object(r.Jb)({factory:p,token:t,providedIn:"platform"}),t})();function d(){return!!window.history.pushState}function p(){return new f(Object(r.Wb)(u))}function g(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function y(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:b,token:t,providedIn:"root"}),t})();function b(t){const e=Object(r.Wb)(u).location;return new w(Object(r.Wb)(c),e&&e.origin||"")}const _=new r.q("appBaseHref");let w=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return g(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(c),r.Wb(_,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),E=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=g(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(c),r.Wb(_,8))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),S=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=y(x(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,x(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(v),r.Wb(c))},t.normalizeQueryParams=m,t.joinWithSlash=g,t.stripTrailingSlash=y,t.\u0275prov=Object(r.Jb)({factory:O,token:t,providedIn:"root"}),t})();function O(){return new S(Object(r.Wb)(v),Object(r.Wb)(c))}function x(t){return t.replace(/\/index.html$/,"")}const T=function(){var t={Decimal:0,Percent:1,Currency:2,Scientific:3};return t[t.Decimal]="Decimal",t[t.Percent]="Percent",t[t.Currency]="Currency",t[t.Scientific]="Scientific",t}(),I=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),C=function(){var t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return t[t.Decimal]="Decimal",t[t.Group]="Group",t[t.List]="List",t[t.PercentSign]="PercentSign",t[t.PlusSign]="PlusSign",t[t.MinusSign]="MinusSign",t[t.Exponential]="Exponential",t[t.SuperscriptingExponent]="SuperscriptingExponent",t[t.PerMille]="PerMille",t[t.Infinity]="Infinity",t[t.NaN]="NaN",t[t.TimeSeparator]="TimeSeparator",t[t.CurrencyDecimal]="CurrencyDecimal",t[t.CurrencyGroup]="CurrencyGroup",t}();function k(t,e){const n=Object(r.ib)(t),i=n[r.Y.NumberSymbols][e];if(void 0===i){if(e===C.CurrencyDecimal)return n[r.Y.NumberSymbols][C.Decimal];if(e===C.CurrencyGroup)return n[r.Y.NumberSymbols][C.Group]}return i}const A=r.lb,j=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function N(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class P{}let R=(()=>{class t extends P{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(A(e||this.locale)(t)){case I.Zero:return"zero";case I.One:return"one";case I.Two:return"two";case I.Few:return"few";case I.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(r.u))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();function D(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class L{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let M=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.T)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new L(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new F(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new F(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.O),r.Nb(r.K),r.Nb(r.s))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class F{constructor(t,e){this.record=t,this.view=e}}let U=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new V,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){q("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){q("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.O),r.Nb(r.K))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class V{constructor(){this.$implicit=null,this.ngIf=null}}function q(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.ub)(e)}'.`)}let H=(()=>{class t{constructor(t,e,n){this._ngEl=t,this._differs=e,this._renderer=n,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,e){const[n,r]=t.split(".");null!=(e=null!=e&&r?`${e}${r}`:e)?this._renderer.setStyle(this._ngEl.nativeElement,n,e):this._renderer.removeStyle(this._ngEl.nativeElement,n)}_applyChanges(t){t.forEachRemovedItem(t=>this._setStyle(t.key,null)),t.forEachAddedItem(t=>this._setStyle(t.key,t.currentValue)),t.forEachChangedItem(t=>this._setStyle(t.key,t.currentValue))}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.t),r.Nb(r.D))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),t})(),B=(()=>{class t{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(this._shouldRecreateView(t)){const t=this._viewContainerRef;this._viewRef&&t.remove(t.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?t.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(t){const e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)}_hasContextShapeChanged(t){const e=Object.keys(t.previousValue||{}),n=Object.keys(t.currentValue||{});if(e.length===n.length){for(let t of n)if(-1===e.indexOf(t))return!0;return!1}return!0}_updateExistingContext(t){for(let e of Object.keys(t))this._viewRef.context[e]=this.ngTemplateOutletContext[e]}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.O))},t.\u0275dir=r.Ib({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[r.xb]}),t})();function z(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.ub)(t)}'`)}class ${createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class W{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const G=new W,Q=new $;let K=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Object(r.rb)(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,r.Q.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.qb)(e))return G;if(Object(r.pb)(e))return Q;throw z(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Yb())},t.\u0275pipe=r.Mb({name:"async",type:t,pure:!1}),t})(),Y=(()=>{class t{constructor(t){this._locale=t}transform(e,n,i){if(function(t){return null==t||""===t||t!=t}(e))return null;i=i||this._locale;try{return function(t,e,n){return function(t,e,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,s,o=Math.abs(t)+"",a=0;for((n=o.indexOf("."))>-1&&(o=o.replace(".","")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;"0"===o.charAt(r);r++);if(r===(s=o.length))e=[0],n=1;else{for(s--;"0"===o.charAt(s);)s--;for(n-=r,e=[],i=0;r<=s;r++,i++)e[i]=Number(o.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,f=e.maxFrac;if(s){const t=s.match(j);if(null===t)throw new Error(`${s} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(l=N(e)),null!=n&&(h=N(n)),null!=r?f=N(r):null!=n&&h>f&&(f=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let t=o;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let t=1;t<o;t++)r[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+t.integerLen,l=r.reduceRight((function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0}),0);l&&(r.unshift(l),t.integerLen++)}(c,h,f);let d=c.digits,p=c.integerLen;const g=c.exponent;let y=[];for(u=d.every(t=>!t);p<l;p++)d.unshift(0);for(;p<0;p++)d.unshift(0);p>0?y=d.splice(p,d.length):(y=d,d=[0]);const m=[];for(d.length>=e.lgSize&&m.unshift(d.splice(-e.lgSize,d.length).join(""));d.length>e.gSize;)m.unshift(d.splice(-e.gSize,d.length).join(""));d.length&&m.unshift(d.join("")),a=m.join(k(n,r)),y.length&&(a+=k(n,i)+y.join("")),g&&(a+=k(n,C.Exponential)+"+"+g)}else a=k(n,C.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],u=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);"0"===t?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const t=i.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return Object(r.ib)(t)[r.Y.NumberFormats][e]}(e,T.Decimal),k(e,C.MinusSign)),e,C.Group,C.Decimal,n)}(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),i,n)}catch(s){throw z(t,s.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.u))},t.\u0275pipe=r.Mb({name:"number",type:t,pure:!0}),t})(),X=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[{provide:P,useClass:R}]}),t})();const Z="browser";function J(t){return"server"===t}let tt=(()=>{class t{}return t.\u0275prov=Object(r.Jb)({token:t,providedIn:"root",factory:()=>new et(Object(r.Wb)(u),window,Object(r.Wb)(r.m))}),t})();class et{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const e=this.document.querySelector(`#${t}`);if(e)return void this.scrollToElement(e);const n=this.document.querySelector(`[name='${t}']`);if(n)return void this.scrollToElement(n)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}},pLZG:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){return n.lift(new s(t,e))}}class s{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.r(e),n.d(e,"LogLevel",(function(){return o})),n.d(e,"Logger",(function(){return h})),n.d(e,"setLogLevel",(function(){return f})),n.d(e,"setUserLogHandler",(function(){return d}));var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qgXg:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i)},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:a,_subscriptions:c}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(a))try{a.call(this)}catch(l){e=l instanceof o?u(l.errors):[l]}if(Object(r.a)(c)){let t=-1,n=c.length;for(;++t<n;){const n=c[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(l){e=e||[],l instanceof o?e=e.concat(u(l.errors)):e.push(l)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},sVev:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})()},spgP:function(t,e,n){"use strict";n.d(e,"a",(function(){return D})),n.d(e,"b",(function(){return j})),n.d(e,"c",(function(){return A})),n.d(e,"d",(function(){return T})),n.d(e,"e",(function(){return P})),n.d(e,"f",(function(){return I})),n.d(e,"g",(function(){return k}));var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("HDdC");let a=1;const u=(()=>Promise.resolve())(),c={};function l(t){return t in c&&(delete c[t],!0)}const h={setImmediate(t){const e=a++;return c[e]=!0,u.then(()=>l(e)&&t()),e},clearImmediate(t){l(t)}};var f=n("3N8a");class d extends f.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=h.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(h.clearImmediate(e),t.scheduled=void 0)}}var p=n("IjjT");class g extends p.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const y=new g(d);var m=n("DH7j");class v extends o.a{constructor(t,e=0,n=y){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(m.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=y)}static create(t,e=0,n=y){return new v(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(v.dispatch,this.delayTime,{source:this.source,subscriber:t})}}class b{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new v(e,this.delay,this.scheduler).subscribe(t)}}var _=n("pxpQ"),w=n("fXoL"),E=n("Wcq6");function S(){}class O{constructor(t,e=r.a){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class x{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",S,{},S,S)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class T{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new O(Zone.current)),this.insideAngular=t.run(()=>new O(Zone.current,i.a))}}function I(t){return function(e){return(e=e.lift(new x(t.ngZone))).pipe(function(t,e=0){return function(n){return n.lift(new b(t,e))}}(t.outsideAngular),Object(_.b)(t.insideAngular))}}const C=["ngOnDestroy"],k=(t,e,n)=>new Proxy(t,{get:(r,i)=>n.runOutsideAngular(()=>{if(t[i])return t[i];if(C.includes(i))return()=>{};const r=e.toPromise().then(t=>{const e=t&&t[i];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>r[e],apply:(t,e,n)=>r.then(t=>t&&t(...n))})})}),A=new w.q("angularfire2.app.options"),j=new w.q("angularfire2.app.nameOrConfig"),N=new w.N("6.0.2");function P(t,e,n){const r="object"==typeof n&&n||{};return r.name=r.name||"string"==typeof n&&n||"[DEFAULT]",E.apps.filter(t=>t&&t.name===r.name)[0]||e.runOutsideAngular(()=>Object(E.initializeApp)(t,r))}const R={provide:class{},useFactory:P,deps:[A,w.z,[new w.A,j]]};let D=(()=>{class t{constructor(t){Object(E.registerVersion)("angularfire",N.full,t.toString()),Object(E.registerVersion)("angular",w.M.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:A,useValue:e},{provide:j,useValue:n}]}}}return t.\u0275mod=w.Lb({type:t}),t.\u0275inj=w.Kb({factory:function(e){return new(e||t)(w.Wb(w.B))},providers:[R]}),t})()},"tk/3":function(t,e,n){"use strict";n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return q})),n.d(e,"c",(function(){return f}));var r=n("fXoL"),i=n("LRne"),s=n("HDdC"),o=n("bOdf"),a=n("pLZG"),u=n("lJxs"),c=n("ofXK");class l{}class h{}class f{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof f?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new f;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof f?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class d{encodeKey(t){return p(t)}encodeValue(t){return p(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function p(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class g{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new d,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.split("&").forEach(t=>{const r=t.indexOf("="),[i,s]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],o=n.get(i)||[];o.push(s),n.set(i,o)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new g({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat([t]),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(t.value),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(t.value);-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}function y(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function m(t){return"undefined"!=typeof Blob&&t instanceof Blob}function v(t){return"undefined"!=typeof FormData&&t instanceof FormData}class b{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new f),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new g,this.urlWithParams=e}serializeBody(){return null===this.body?null:y(this.body)||m(this.body)||v(this.body)||"string"==typeof this.body?this.body:this.body instanceof g?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||v(this.body)?null:m(this.body)?this.body.type||null:y(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof g?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(t={}){const e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,i=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,o=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let a=t.headers||this.headers,u=t.params||this.params;return void 0!==t.setHeaders&&(a=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),a)),t.setParams&&(u=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),u)),new b(e,n,i,{params:u,headers:a,reportProgress:o,responseType:r,withCredentials:s})}}const _=function(){var t={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return t[t.Sent]="Sent",t[t.UploadProgress]="UploadProgress",t[t.ResponseHeader]="ResponseHeader",t[t.DownloadProgress]="DownloadProgress",t[t.Response]="Response",t[t.User]="User",t}();class w{constructor(t,e=200,n="OK"){this.headers=t.headers||new f,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class E extends w{constructor(t={}){super(t),this.type=_.ResponseHeader}clone(t={}){return new E({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class S extends w{constructor(t={}){super(t),this.type=_.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new S({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class O extends w{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function x(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let T=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof b)r=t;else{let i=void 0;i=n.headers instanceof f?n.headers:new f(n.headers);let s=void 0;n.params&&(s=n.params instanceof g?n.params:new g({fromObject:n.params})),r=new b(t,e,void 0!==n.body?n.body:null,{headers:i,params:s,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const s=Object(i.a)(r).pipe(Object(o.a)(t=>this.handler.handle(t)));if(t instanceof b||"events"===n.observe)return s;const c=s.pipe(Object(a.a)(t=>t instanceof S));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return c.pipe(Object(u.a)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return c.pipe(Object(u.a)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return c.pipe(Object(u.a)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return c.pipe(Object(u.a)(t=>t.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new g).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,x(n,e))}post(t,e,n={}){return this.request("POST",t,x(n,e))}put(t,e,n={}){return this.request("PUT",t,x(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(l))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();class I{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const C=new r.q("HTTP_INTERCEPTORS");let k=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const A=/^\)\]\}',?\n/;class j{}let N=(()=>{class t{constructor(){}build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),P=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new s.a(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const s=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",s=new f(n.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new E({headers:s,status:e,statusText:r,url:o}),i},o=()=>{let{headers:r,status:i,statusText:o,url:a}=s(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(A,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new S({body:u,headers:r,status:i,statusText:o,url:a||void 0})),e.complete()):e.error(new O({error:u,headers:r,status:i,statusText:o,url:a||void 0}))},a=t=>{const{url:r}=s(),i=new O({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(s()),u=!0);let i={type:_.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:_.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:_.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(j))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})();const R=new r.q("XSRF_COOKIE_NAME"),D=new r.q("XSRF_HEADER_NAME");class L{}let M=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Object(c.u)(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(c.d),r.Wb(r.B),r.Wb(R))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),F=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(L),r.Wb(D))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),U=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(C,[]);this.chain=t.reduceRight((t,e)=>new I(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Wb(h),r.Wb(r.r))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t})(),V=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:F,useClass:k}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:R,useValue:e.cookieName}:[],e.headerName?{provide:D,useValue:e.headerName}:[]]}}}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[F,{provide:C,useExisting:F,multi:!0},{provide:L,useClass:M},{provide:R,useValue:"XSRF-TOKEN"},{provide:D,useValue:"X-XSRF-TOKEN"}]}),t})(),q=(()=>{class t{}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[T,{provide:l,useClass:U},P,{provide:h,useExisting:P},N,{provide:j,useExisting:N}],imports:[[V.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})()},tyNb:function(t,e,n){"use strict";n.d(e,"a",(function(){return oe})),n.d(e,"b",(function(){return et})),n.d(e,"c",(function(){return gn})),n.d(e,"d",(function(){return bn})),n.d(e,"e",(function(){return mn})),n.d(e,"f",(function(){return Nn})),n.d(e,"g",(function(){return En}));var r=n("ofXK"),i=n("fXoL"),s=n("LRne"),o=n("Cfvw"),a=n("XNiG"),u=n("9ppp");class c extends a.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new u.a;return this._value}next(t){super.next(this._value=t)}}var l=n("HDdC"),h=n("sVev"),f=n("z+Ro"),d=n("DH7j"),p=n("l7GE"),g=n("ZUHj"),y=n("yCtX");const m={};class v{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new b(t,this.resultSelector))}}class b extends p.a{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(m),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(Object(g.a)(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const s=this.values,o=this.toRespond?s[n]===m?--this.toRespond:this.toRespond:0;s[n]=e,0===o&&(this.resultSelector?this._tryResultSelector(s):this.destination.next(s.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}var _=n("EY2u");function w(t){return new l.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(o.a)(n):Object(_.b)()).subscribe(e)})}var E=n("lJxs"),S=n("bHdf");function O(){return Object(S.a)(1)}var x=n("pLZG"),T=n("7o/Q"),I=n("4I5i");function C(t){return function(e){return 0===t?Object(_.b)():e.lift(new k(t))}}class k{constructor(t){if(this.total=t,this.total<0)throw new I.a}call(t,e){return e.subscribe(new A(t,this.total))}}class A extends T.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var j=n("XDbj"),N=n("xbPD"),P=n("SpAZ");function R(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Object(x.a)((e,n)=>t(e,n,r)):P.a,C(1),n?Object(N.a)(e):Object(j.a)(()=>new h.a))}var D=n("51Dv");function L(t){return function(e){const n=new M(t),r=e.lift(n);return n.caught=r}}class M{constructor(t){this.selector=t}call(t,e){return e.subscribe(new F(t,this.selector,this.caught))}}class F extends p.a{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new D.a(this,void 0,void 0);this.add(r);const i=Object(g.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}}}var U=n("SxV6"),V=n("5+tZ");class q{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new H(t,this.predicate,this.thisArg,this.source))}}class H extends T.a{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}var B=n("eIep"),z=n("IzEk");function $(...t){return O()(Object(s.a)(...t))}var W=n("Kqap"),G=n("bOdf"),Q=n("mCNh"),K=n("vkgz"),Y=n("quSY");class X{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Z(t,this.callback))}}class Z extends T.a{constructor(t,e){super(t),this.add(new Y.a(e))}}class J{constructor(t,e){this.id=t,this.url=e}}class tt extends J{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class et extends J{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class nt extends J{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class rt extends J{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class it extends J{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class st extends J{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ot extends J{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class at extends J{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ut extends J{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ct{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lt{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ht{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ft{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dt{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pt{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gt{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let yt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Hb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&i.Ob(0,"router-outlet")},directives:function(){return[En]},encapsulation:2}),t})();class mt{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function vt(t){return new mt(t)}function bt(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function _t(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class wt{constructor(t,e){this.routes=t,this.module=e}}function Et(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];St(r,Ot(e,r))}}function St(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&Et(t.children,e)}function Ot(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function xt(t){const e=t.children&&t.children.map(xt),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=yt),n}function Tt(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!It(t[i],e[i]))return!1;return!0}function It(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every(t=>e.indexOf(t)>-1):t===e}function Ct(t){return Array.prototype.concat.apply([],t)}function kt(t){return t.length>0?t[t.length-1]:null}function At(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function jt(t){return Object(i.pb)(t)?t:Object(i.qb)(t)?Object(o.a)(Promise.resolve(t)):Object(s.a)(t)}function Nt(t,e,n){return n?function(t,e){return Tt(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Lt(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>It(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Lt(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Lt(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Lt(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,s)}}(e,n,n.segments)}(t.root,e.root)}class Pt{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vt(this.queryParams)),this._queryParamMap}toString(){return Vt.serialize(this)}}class Rt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,At(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qt(this)}}class Dt{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=vt(this.parameters)),this._parameterMap}toString(){return Gt(this)}}function Lt(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Mt(t,e){let n=[];return At(t.children,(t,r)=>{"primary"===r&&(n=n.concat(e(t,r)))}),At(t.children,(t,r)=>{"primary"!==r&&(n=n.concat(e(t,r)))}),n}class Ft{}class Ut{parse(t){const e=new Zt(t);return new Pt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return qt(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return At(e.children,(e,n)=>{"primary"!==n&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Mt(e,(n,r)=>"primary"===r?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return`${qt(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Bt(e)}=${Bt(t)}`).join("&"):`${Bt(e)}=${Bt(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Vt=new Ut;function qt(t){return t.segments.map(t=>Gt(t)).join("/")}function Ht(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Bt(t){return Ht(t).replace(/%3B/gi,";")}function zt(t){return Ht(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $t(t){return decodeURIComponent(t)}function Wt(t){return $t(t.replace(/\+/g,"%20"))}function Gt(t){return`${zt(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${zt(t)}=${zt(e[t])}`).join("")}`;var e}const Qt=/^[^\/()?;=#]+/;function Kt(t){const e=t.match(Qt);return e?e[0]:""}const Yt=/^[^=?&#]+/,Xt=/^[^?&#]+/;class Zt{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Rt([],{}):new Rt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Rt(t,e)),n}parseSegment(){const t=Kt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Dt($t(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Kt(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Kt(this.remaining);t&&(n=t,this.capture(n))}t[$t(e)]=$t(n)}parseQueryParam(t){const e=function(t){const e=t.match(Yt);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Xt);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Wt(e),i=Wt(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Kt(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new Rt([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Jt{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=te(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=te(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=ee(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return ee(t,this._root).map(t=>t.value)}}function te(t,e){if(t===e.value)return e;for(const n of e.children){const e=te(t,n);if(e)return e}return null}function ee(t,e){if(t===e.value)return[e];for(const n of e.children){const r=ee(t,n);if(r.length)return r.unshift(e),r}return[]}class ne{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function re(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class ie extends Jt{constructor(t,e){super(t),this.snapshot=e,le(this,t)}toString(){return this.snapshot.toString()}}function se(t,e){const n=function(t,e){const n=new ue([],{},{},"",{},"primary",e,null,t.root,-1,{});return new ce("",new ne(n,[]))}(t,e),r=new c([new Dt("",{})]),i=new c({}),s=new c({}),o=new c({}),a=new c(""),u=new oe(r,i,o,a,s,"primary",e,n.root);return u.snapshot=n.root,new ie(new ne(u,[]),n)}class oe{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(E.a)(t=>vt(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(E.a)(t=>vt(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ae(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class ue{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=vt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=vt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ce extends Jt{constructor(t,e){super(e),this.url=t,le(this,e)}toString(){return he(this._root)}}function le(t,e){e.value._routerState=t,e.children.forEach(e=>le(t,e))}function he(t){const e=t.children.length>0?` { ${t.children.map(he).join(", ")} } `:"";return`${t.value}${e}`}function fe(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Tt(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Tt(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Tt(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Tt(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function de(t,e){var n,r;return Tt(t.params,e.params)&&Lt(n=t.url,r=e.url)&&n.every((t,e)=>Tt(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||de(t.parent,e.parent))}function pe(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ge(t,e,n,r,i){let s={};return r&&At(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Pt(n.root===t?e:function t(e,n,r){const i={};return At(e.children,(e,s)=>{i[s]=e===n?r:t(e,n,r)}),new Rt(e.segments,i)}(n.root,t,e),s,i)}class ye{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&pe(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==kt(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class me{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function ve(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:`${t}`}function be(t,e,n){if(t||(t=new Rt([],{})),0===t.segments.length&&t.hasChildren())return _e(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=ve(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!Oe(o,a,e))return s;r+=2}else{if(!Oe(o,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Rt(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Rt(t.segments.slice(r.pathIndex),t.children),_e(e,0,i)}return r.match&&0===i.length?new Rt(t.segments,{}):r.match&&!t.hasChildren()?we(t,e,n):r.match?_e(t,0,i):we(t,e,n)}function _e(t,e,n){if(0===n.length)return new Rt(t.segments,{});{const r=function(t){return"object"!=typeof t[0]||void 0===t[0].outlets?{primary:t}:t[0].outlets}(n),i={};return At(r,(n,r)=>{null!==n&&(i[r]=be(t.children[r],e,n))}),At(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Rt(t.segments,i)}}function we(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=Ee(n[i].outlets);return new Rt(r,t)}if(0===i&&pe(n[0])){r.push(new Dt(t.segments[e].path,n[0])),i++;continue}const s=ve(n[i]),o=i<n.length-1?n[i+1]:null;s&&o&&pe(o)?(r.push(new Dt(s,Se(o))),i+=2):(r.push(new Dt(s,{})),i++)}return new Rt(r,{})}function Ee(t){const e={};return At(t,(t,n)=>{null!==t&&(e[n]=we(new Rt([],{}),0,t))}),e}function Se(t){const e={};return At(t,(t,n)=>e[n]=`${t}`),e}function Oe(t,e,n){return t==n.path&&Tt(e,n.parameters)}class xe{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),fe(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=re(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),At(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=re(t),i=t.value.component?n.children:e;At(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=re(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new pt(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ft(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(fe(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Te(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Te(t){fe(t.value),t.children.forEach(Te)}function Ie(t){return"function"==typeof t}function Ce(t){return t instanceof Pt}class ke{constructor(t){this.segmentGroup=t||null}}class Ae{constructor(t){this.urlTree=t}}function je(t){return new l.a(e=>e.error(new ke(t)))}function Ne(t){return new l.a(e=>e.error(new Ae(t)))}function Pe(t){return new l.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Re{constructor(t,e,n,r,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(i.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(Object(E.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(L(t=>{if(t instanceof Ae)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof ke)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(Object(E.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(L(t=>{if(t instanceof ke)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Rt([],{primary:t}):t;return new Pt(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(E.a)(t=>new Rt([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(s.a)({});const n=[],r=[],i={};return At(t,(t,s)=>{const o=e(s,t).pipe(Object(E.a)(t=>i[s]=t));"primary"===s?n.push(o):r.push(o)}),s.a.apply(null,n.concat(r)).pipe(O(),R(),Object(E.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(s.a)(...n).pipe(Object(E.a)(a=>this.expandSegmentAgainstRoute(t,e,n,a,r,i,o).pipe(L(t=>{if(t instanceof ke)return Object(s.a)(null);throw t}))),O(),Object(U.a)(t=>!!t),L((t,n)=>{if(t instanceof h.a||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(s.a)(new Rt([],{}));throw new ke(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return Fe(r)!==s?je(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):je(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ne(i):this.lineralizeSegments(n,i).pipe(Object(V.a)(n=>{const i=new Rt(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=De(e,r,i);if(!o)return je(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Ne(l):this.lineralizeSegments(r,l).pipe(Object(V.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(E.a)(t=>(n._loadedConfig=t,new Rt(r,{})))):Object(s.a)(new Rt(r,{}));const{matched:i,consumedSegments:o,lastChild:a}=De(e,n,r);if(!i)return je(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(V.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:a}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>Me(t,e,n)&&"primary"!==Fe(n))}(t,n,r)?{segmentGroup:Le(new Rt(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&"primary"!==Fe(r)&&(n[Fe(r)]=new Rt([],{}));return n}(r,new Rt(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>Me(t,e,n))}(t,n,r)?{segmentGroup:Le(new Rt(t.segments,function(t,e,n,r){const i={};for(const s of n)Me(t,e,s)&&!r[Fe(s)]&&(i[Fe(s)]=new Rt([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,u,r);return 0===a.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(E.a)(t=>new Rt(o,t))):0===r.length&&0===a.length?Object(s.a)(new Rt(o,{})):this.expandSegment(n,i,r,a,"primary",!0).pipe(Object(E.a)(t=>new Rt(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(s.a)(new wt(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(s.a)(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?Object(o.a)(r).pipe(Object(E.a)(r=>{const i=t.get(r);let s;if(function(t){return t&&Ie(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!Ie(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return jt(s)})).pipe(O(),(i=t=>!0===t,t=>t.lift(new q(i,void 0,t)))):Object(s.a)(!0);var i}(t.injector,e,n).pipe(Object(V.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(E.a)(t=>(e._loadedConfig=t,t))):function(t){return new l.a(e=>e.error(bt(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(s.a)(new wt([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(s.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Pe(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Pt(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return At(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return At(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Rt(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function De(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||_t)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Le(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Rt(t.segments.concat(e.segments),e.children)}return t}function Me(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Fe(t){return t.outlet||"primary"}class Ue{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ve{constructor(t,e){this.component=t,this.route=e}}function qe(t,e,n){const r=t._root;return function t(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=re(n);return e.children.forEach(e=>{!function(e,n,r,i,s={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,a=n?n.value:null,u=r?r.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Lt(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Lt(t.url,e.url)||!Tt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!de(t,e)||!Tt(t.queryParams,e.queryParams);case"paramsChange":default:return!de(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);c?s.canActivateChecks.push(new Ue(i)):(o.data=a.data,o._resolvedData=a._resolvedData),t(e,n,o.component?u?u.children:null:r,i,s),c&&s.canDeactivateChecks.push(new Ve(u&&u.outlet&&u.outlet.component||null,a))}else a&&Be(n,u,r,s),s.canActivateChecks.push(new Ue(i)),t(e,null,o.component?u?u.children:null:r,i,s)}(e,o[e.value.outlet],r,i.concat([e.value]),s),delete o[e.value.outlet]}),At(o,(t,e)=>Be(t,r.getContext(e),r,s)),s}(r,e?e._root:null,n,[r.value])}function He(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Be(t,e,n,r){const i=re(t),s=t.value;At(i,(t,i)=>{Be(t,s.component?e?e.children.getContext(i):null:n?n.getContext(i):e,n,r)}),r.canDeactivateChecks.push(new Ve(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}const ze=Symbol("INITIAL_VALUE");function $e(){return Object(B.a)(t=>function(...t){let e=null,n=null;return Object(f.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(d.a)(t[0])&&(t=t[0]),Object(y.a)(t,n).lift(new v(e))}(...t.map(t=>t.pipe(Object(z.a)(1),function(...t){const e=t[t.length-1];return Object(f.a)(e)?(t.pop(),n=>$(t,n,e)):e=>$(t,e)}(ze)))).pipe(Object(W.a)((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ze)return t;if(r===ze&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Ce(r))return r}return t},t)},ze),Object(x.a)(t=>t!==ze),Object(E.a)(t=>Ce(t)?t:!0===t),Object(z.a)(1)))}function We(t,e){return null!==t&&e&&e(new dt(t)),Object(s.a)(!0)}function Ge(t,e){return null!==t&&e&&e(new ht(t)),Object(s.a)(!0)}function Qe(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(s.a)(!0);const i=r.map(r=>w(()=>{const i=He(r,e,n);let s;if(function(t){return t&&Ie(t.canActivate)}(i))s=jt(i.canActivate(e,t));else{if(!Ie(i))throw new Error("Invalid CanActivate guard");s=jt(i(e,t))}return s.pipe(Object(U.a)())}));return Object(s.a)(i).pipe($e())}function Ke(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>w(()=>{const i=e.guards.map(i=>{const s=He(i,e.node,n);let o;if(function(t){return t&&Ie(t.canActivateChild)}(s))o=jt(s.canActivateChild(r,t));else{if(!Ie(s))throw new Error("Invalid CanActivateChild guard");o=jt(s(r,t))}return o.pipe(Object(U.a)())});return Object(s.a)(i).pipe($e())}));return Object(s.a)(i).pipe($e())}class Ye{}class Xe{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){try{const t=tn(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new ue([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ne(n,e),i=new ce(this.url,r);return this.inheritParamsAndData(i._root),Object(s.a)(i)}catch(t){return new l.a(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=ae(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Mt(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const s of t)try{return this.processSegmentAgainstRoute(s,e,n,r)}catch(i){if(!(i instanceof Ye))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Ye}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Ye;if((t.outlet||"primary")!==r)throw new Ye;let i,s=[],o=[];if("**"===t.path){const s=n.length>0?kt(n).parameters:{};i=new ue(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rn(t),r,t.component,t,Ze(e),Je(e)+n.length,sn(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Ye;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||_t)(n,t,e);if(!r)throw new Ye;const i={};At(r.posParams,(t,e)=>{i[e]=t.path});const s=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=a.consumedSegments,o=n.slice(a.lastChild),i=new ue(s,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rn(t),r,t.component,t,Ze(e),Je(e)+s.length,sn(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=tn(e,s,o,a,this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return[new ne(i,t)]}if(0===a.length&&0===c.length)return[new ne(i,[])];const l=this.processSegment(a,u,c,"primary");return[new ne(i,l)]}}function Ze(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Je(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function tn(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>en(t,e,n)&&"primary"!==nn(n))}(t,n,r)){const i=new Rt(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&"primary"!==nn(s)){const n=new Rt([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[nn(s)]=n}return i}(t,e,r,new Rt(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>en(t,e,n))}(t,n,r)){const s=new Rt(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(en(t,n,a)&&!i[nn(a)]){const n=new Rt([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[nn(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Rt(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function en(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function nn(t){return t.outlet||"primary"}function rn(t){return t.data||{}}function sn(t){return t.resolve||{}}function on(t,e,n,r){const i=He(t,e,r);return jt(i.resolve?i.resolve(e,n):i(e,n))}function an(t){return function(e){return e.pipe(Object(B.a)(e=>{const n=t(e);return n?Object(o.a)(n).pipe(Object(E.a)(()=>e)):Object(o.a)([e])}))}}class un{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const cn=new i.q("ROUTES");class ln{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(E.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new wt(Ct(r.injector.get(cn)).map(xt),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(o.a)(this.loader.load(t)):jt(t()).pipe(Object(V.a)(t=>t instanceof i.v?Object(s.a)(t):Object(o.a)(this.compiler.compileModuleAsync(t))))}}class hn{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function fn(t){throw t}function dn(t,e,n){return e.parse("/")}function pn(t,e){return Object(s.a)(null)}let gn=(()=>{class t{constructor(t,e,n,r,s,o,u,l){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new a.a,this.errorHandler=fn,this.malformedUriErrorHandler=dn,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:pn,afterPreactivation:pn},this.urlHandlingStrategy=new hn,this.routeReuseStrategy=new un,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=s.get(i.x),this.console=s.get(i.W);const h=s.get(i.z);this.isNgZoneEnabled=h instanceof i.z,this.resetConfig(l),this.currentUrlTree=new Pt(new Rt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ln(o,u,t=>this.triggerEvent(new ct(t)),t=>this.triggerEvent(new lt(t))),this.routerState=se(this.currentUrlTree,this.rootComponentType),this.transitions=new c({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Object(x.a)(t=>0!==t.id),Object(E.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Object(B.a)(t=>{let n=!1,r=!1;return Object(s.a)(t).pipe(Object(K.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Object(B.a)(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(s.a)(t).pipe(Object(B.a)(t=>{const n=this.transitions.getValue();return e.next(new tt(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?_.a:[t]}),Object(B.a)(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,a=this.config,function(t){return t.pipe(Object(B.a)(t=>function(t,e,n,r,i){return new Re(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,a).pipe(Object(E.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(K.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(s){return s.pipe(Object(V.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){return new Xe(t,e,n,r,i,s).recognize()}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(E.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(K.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(K.a)(t=>{const n=new it(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,a;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:a}=t,u=new tt(n,this.serializeUrl(r),i,o);e.next(u);const c=se(r,this.rootComponentType).snapshot;return Object(s.a)(Object.assign(Object.assign({},t),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},a),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),_.a}),an(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(K.a)(t=>{const e=new st(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(E.a)(t=>Object.assign(Object.assign({},t),{guards:qe(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(V.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=n;return 0===u.length&&0===a.length?Object(s.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(o.a)(t).pipe(Object(V.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(s.a)(!0);const a=o.map(s=>{const o=He(s,e,i);let a;if(function(t){return t&&Ie(t.canDeactivate)}(o))a=jt(o.canDeactivate(t,e,n,r));else{if(!Ie(o))throw new Error("Invalid CanDeactivate guard");a=jt(o(t,e,n,r))}return a.pipe(Object(U.a)())});return Object(s.a)(a).pipe($e())}(t.component,t.route,n,e,r)),Object(U.a)(t=>!0!==t,!0))}(u,r,i,t).pipe(Object(V.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(o.a)(e).pipe(Object(G.a)(e=>Object(o.a)([Ge(e.route.parent,r),We(e.route,r),Ke(t,e.path,n),Qe(t,e.route,n)]).pipe(O(),Object(U.a)(t=>!0!==t,!0))),Object(U.a)(t=>!0!==t,!0))}(r,a,t,e):Object(s.a)(n)),Object(E.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(K.a)(t=>{if(Ce(t.guardsResult)){const e=bt(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(K.a)(t=>{const e=new ot(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Object(x.a)(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new nt(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),an(t=>{if(t.guards.canActivateChecks.length)return Object(s.a)(t).pipe(Object(K.a)(t=>{const e=new at(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(e=this.paramsInheritanceStrategy,n=this.ngModule.injector,function(t){return t.pipe(Object(V.a)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;return i.length?Object(o.a)(i).pipe(Object(G.a)(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(s.a)({});if(1===i.length){const s=i[0];return on(t[s],e,n,r).pipe(Object(E.a)(t=>({[s]:t})))}const a={};return Object(o.a)(i).pipe(Object(V.a)(i=>on(t[i],e,n,r).pipe(Object(E.a)(t=>(a[i]=t,t))))).pipe(R(),Object(E.a)(()=>a))}(t._resolve,t,e,r).pipe(Object(E.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),ae(t,n).resolve),null)))}(t.route,r,e,n)),function(t,e){return arguments.length>=2?function(n){return Object(Q.a)(Object(W.a)(t,e),C(1),Object(N.a)(e))(n)}:function(e){return Object(Q.a)(Object(W.a)((e,n,r)=>t(e,n,r+1)),C(1))(e)}}((t,e)=>t),Object(E.a)(e=>t)):Object(s.a)(t)}))}),Object(K.a)(t=>{const e=new ut(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}));var e,n}),an(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(E.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const s=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new ne(i,s)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new oe(new c((i=n.value).url),new c(i.params),new c(i.queryParams),new c(i.fragment),new c(i.data),i.outlet,i.component,i),s=n.children.map(n=>t(e,n));return new ne(r,s)}}var i}(t,e._root,n?n._root:void 0);return new ie(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(K.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(a=this.rootContexts,u=this.routeReuseStrategy,l=t=>this.triggerEvent(t),Object(E.a)(t=>(new xe(u,t.targetRouterState,t.currentRouterState,l).activate(a),t))),Object(K.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new nt(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new X(i))),L(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Ce(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new nt(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new rt(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(s){t.reject(s)}}var i;return _.a}));var i,a,u,l}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Et(t),this.config=t.map(xt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:s,preserveQueryParams:o,queryParamsHandling:a,preserveFragment:u}=e;Object(i.T)()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=u?this.currentUrlTree.fragment:s;let h=null;if(a)switch(a){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}else h=o?this.currentUrlTree.queryParams:r||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return ge(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new ye(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return At(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new ye(n,e,r)}(n);if(s.toRoot())return ge(e.root,new Rt([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new me(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new me(n.snapshot._urlSegment,!0,0);const r=pe(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new me(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?_e(o.segmentGroup,o.index,s.commands):be(o.segmentGroup,o.index,s.commands);return ge(o.segmentGroup,a,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(i.T)()&&this.isNgZoneEnabled&&!i.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Ce(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Ce(t))return Nt(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Nt(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new et(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition();if(s&&"imperative"!==e&&"imperative"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"hashchange"==e&&"popstate"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(s&&"popstate"==e&&"hashchange"===s.source&&s.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o,a,u;i?(o=i.resolve,a=i.reject,u=i.promise):u=new Promise((t,e)=>{o=t,a=e});const c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(t){i.Zb()},t.\u0275dir=i.Ib({type:t}),t})(),yn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:vn(this.skipLocationChange),replaceUrl:vn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:vn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:vn(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(gn),i.Nb(oe),i.Xb("tabindex"),i.Nb(i.D),i.Nb(i.l))},t.\u0275dir=i.Ib({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&i.ac("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t})(),mn=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof et&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){Object(i.T)()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:vn(this.skipLocationChange),replaceUrl:vn(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:vn(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:vn(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(gn),i.Nb(oe),i.Nb(r.i))},t.\u0275dir=i.Ib({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&i.ac("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(i.Vb("href",e.href,i.vc),i.Ab("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[i.xb]}),t})();function vn(t){return""===t||!!t}let bn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.element=e,this.renderer=n,this.link=r,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe(t=>{t instanceof et&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(t=>this.update()),this.linksWithHrefs.changes.subscribe(t=>this.update()),this.update()}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(gn),i.Nb(i.l),i.Nb(i.D),i.Nb(yn,8),i.Nb(mn,8))},t.\u0275dir=i.Ib({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(i.Fb(n,yn,!0),i.Fb(n,mn,!0)),2&t&&(i.qc(r=i.bc())&&(e.links=r),i.qc(r=i.bc())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[i.xb]}),t})();class _n{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new wn,this.attachRef=null}}class wn{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new _n,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let En=(()=>{class t{constructor(t,e,n,r,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.n,this.deactivateEvents=new i.n,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Sn(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(i.Nb(wn),i.Nb(i.O),i.Nb(i.j),i.Xb("name"),i.Nb(i.h))},t.\u0275dir=i.Ib({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Sn{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===oe?this.route:t===wn?this.childContexts:this.parent.get(t,e)}}class On{}class xn{preload(t,e){return Object(s.a)(null)}}let Tn=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ln(e,n,e=>t.triggerEvent(new ct(e)),e=>t.triggerEvent(new lt(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Object(x.a)(t=>t instanceof et),Object(G.a)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(o.a)(n).pipe(Object(S.a)(),Object(E.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(V.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(gn),i.Wb(i.w),i.Wb(i.i),i.Wb(i.r),i.Wb(On))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})(),In=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof tt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof et&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof gt&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new gt(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(t){i.Zb()},t.\u0275dir=i.Ib({type:t}),t})();const Cn=new i.q("ROUTER_CONFIGURATION"),kn=new i.q("ROUTER_FORROOT_GUARD"),An=[r.h,{provide:Ft,useClass:Ut},{provide:gn,useFactory:function(t,e,n,i,s,o,a,u={},c,l){const h=new gn(null,t,e,n,i,s,o,Ct(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){const t=Object(r.t)();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h},deps:[Ft,wn,r.h,i.r,i.w,i.i,cn,Cn,[class{},new i.A],[class{},new i.A]]},wn,{provide:oe,useFactory:function(t){return t.routerState.root},deps:[gn]},{provide:i.w,useClass:i.J},Tn,xn,class{preload(t,e){return e().pipe(L(()=>Object(s.a)(null)))}},{provide:Cn,useValue:{enableTracing:!1}}];function jn(){return new i.y("Router",gn)}let Nn=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[An,Ln(e),{provide:kn,useFactory:Dn,deps:[[gn,new i.A,new i.I]]},{provide:Cn,useValue:n||{}},{provide:r.i,useFactory:Rn,deps:[r.o,[new i.p(r.a),new i.A],Cn]},{provide:In,useFactory:Pn,deps:[gn,r.p,Cn]},{provide:On,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:xn},{provide:i.y,multi:!0,useFactory:jn},[Mn,{provide:i.d,multi:!0,useFactory:Fn,deps:[Mn]},{provide:Vn,useFactory:Un,deps:[Mn]},{provide:i.b,multi:!0,useExisting:Vn}]]}}static forChild(e){return{ngModule:t,providers:[Ln(e)]}}}return t.\u0275mod=i.Lb({type:t}),t.\u0275inj=i.Kb({factory:function(e){return new(e||t)(i.Wb(kn,8),i.Wb(gn,8))}}),t})();function Pn(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new In(t,e,n)}function Rn(t,e,n={}){return n.useHash?new r.f(t,e):new r.n(t,e)}function Dn(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Ln(t){return[{provide:i.a,multi:!0,useValue:t},{provide:cn,multi:!0,useValue:t}]}let Mn=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new a.a}appInitializer(){return this.injector.get(r.g,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(gn),r=this.injector.get(Cn);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(s.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Cn),n=this.injector.get(Tn),r=this.injector.get(In),s=this.injector.get(gn),o=this.injector.get(i.g);t===o.components[0]&&(this.isLegacyEnabled(e)?s.initialNavigation():this.isLegacyDisabled(e)&&s.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(i.Wb(i.r))},t.\u0275prov=i.Jb({token:t,factory:t.\u0275fac}),t})();function Fn(t){return t.appInitializer.bind(t)}function Un(t){return t.bootstrapListener.bind(t)}const Vn=new i.q("Router Initializer")},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i,s=n("mrSG"),o=n("zVF4"),a=n("S+S0"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.ErrorFactory("app","Firebase",c),h=((i={})["@firebase/app"]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),f=new u.Logger("@firebase/app"),d=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t),this.container=new a.ComponentContainer(e.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=s.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){f.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();d.prototype.name&&d.prototype.options||d.prototype.delete||console.log("dc");var p=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name="[DEFAULT]");var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(o.contains(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=h[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void f.warn(u.join(" "))}c(new a.Component(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(t,e)},apps:null,SDK_VERSION:"7.18.0",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!o.contains(e,t=t||"[DEFAULT]"))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return f.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var d=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&o.deepExtend(d,a.serviceProps),r[h]=d,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,h);return n.apply(this,a.multipleInstances?t:[])}}try{for(var p=s.__values(Object.keys(e)),g=p.next();!g.done;g=p.next())e[g.value]._addComponent(a)}catch(y){u={error:y}}finally{try{g&&!g.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(d);return e.INTERNAL=s.__assign(s.__assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(o.isBrowser()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var m=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.isNode()&&f.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),m.apply(void 0,t)};var v=p;!function(t,e){t.INTERNAL.registerComponent(new a.Component("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.10",void 0),t.registerVersion("fire-js","")}(v),e.default=v,e.firebase=v},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",(function(){return Jn})),n.d(e,"EventType",(function(){return tr})),n.d(e,"WebChannel",(function(){return er})),n.d(e,"XhrIo",(function(){return nr})),n.d(e,"createWebChannelTransport",(function(){return Zn}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var s,o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},a=a||{},u=o||self;function c(){}function l(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function m(t,e,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:y).apply(null,arguments)}function v(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var b=Date.now;function _(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function w(){this.j=this.j,this.i=this.i}w.prototype.j=!1,w.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++p)}(this)},w.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},S=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function O(t){return Array.prototype.concat.apply([],arguments)}function x(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function T(t){return/^[\s\xa0]*$/.test(t)}var I,C=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function k(t,e){return-1!=t.indexOf(e)}function A(t,e){return t<e?-1:t>e?1:0}t:{var j=u.navigator;if(j){var N=j.userAgent;if(N){I=N;break t}}I=""}function P(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function R(t){var e={};for(var n in t)e[n]=t[n];return e}var D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<D.length;s++)n=D[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function M(t){return M[" "](t),t}M[" "]=c;var F,U,V=k(I,"Opera"),q=k(I,"Trident")||k(I,"MSIE"),H=k(I,"Edge"),B=H||q,z=k(I,"Gecko")&&!(k(I.toLowerCase(),"webkit")&&!k(I,"Edge"))&&!(k(I,"Trident")||k(I,"MSIE"))&&!k(I,"Edge"),$=k(I.toLowerCase(),"webkit")&&!k(I,"Edge");function W(){var t=u.document;return t?t.documentMode:void 0}t:{var G="",Q=(U=I,z?/rv:([^\);]+)(\)|;)/.exec(U):H?/Edge\/([\d\.]+)/.exec(U):q?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(U):$?/WebKit\/(\S+)/.exec(U):V?/(?:Version)[ \/]?(\S+)/.exec(U):void 0);if(Q&&(G=Q?Q[1]:""),q){var K=W();if(null!=K&&K>parseFloat(G)){F=String(K);break t}}F=G}var Y={};function X(t){return function(t,e){var n=Y;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=C(String(F)).split("."),r=C(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=A(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||A(0==o[2].length,0==a[2].length)||A(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}var Z=u.document&&q&&(W()||parseInt(F,10))||void 0,J=!q||9<=Number(Z),tt=q&&!X("9"),et=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",c,e),u.removeEventListener("test",c,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function rt(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(z){t:{try{M(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:it[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nt.prototype.b=function(){this.defaultPrevented=!0},_(rt,nt);var it={2:"touch",3:"pen",4:"mouse"};rt.prototype.b=function(){rt.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var st="closure_listenable_"+(1e6*Math.random()|0),ot=0;function at(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++ot,this.Y=this.Z=!1}function ut(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ct(t){this.src=t,this.a={},this.b=0}function lt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=E(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ut(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ht(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}ct.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=ht(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new at(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var ft="closure_lm_"+(1e6*Math.random()|0),dt={};function pt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,s){if(Array.isArray(n)){for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);return null}return r=Et(r),e&&e[st]?e.wa(n,r,f(i)?!!i.capture:!!i,s):gt(e,n,r,!0,i,s)}(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)pt(t,e[s],n,r,i);return null}return n=Et(n),t&&t[st]?t.va(e,n,f(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=f(i)?!!i.capture:!!i;if(o&&!J)return null;var a=_t(t);if(a||(t[ft]=a=new ct(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=bt,e=J?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)et||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(mt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function yt(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[st])lt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=_t(e))?(lt(n,t),0==n.b&&(n.src=null,e[ft]=null)):ut(t)}}}function mt(t){return t in dt?dt[t]:dt[t]="on"+t}function vt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&yt(t),n.call(r,e)}function bt(t,e){if(t.Y)return!0;if(!J){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return vt(t,e=new rt(e,this))}return vt(t,new rt(e,this))}function _t(t){return(t=t[ft])instanceof ct?t:null}var wt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(t){return"function"==l(t)?t:(t[wt]||(t[wt]=function(e){return t.handleEvent(e)}),t[wt])}function St(){w.call(this),this.c=new ct(this),this.J=this,this.C=null}function Ot(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&lt(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}_(St,w),St.prototype[st]=!0,(s=St.prototype).addEventListener=function(t,e,n,r){pt(this,t,e,n,r)},s.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,s){if(Array.isArray(n))for(var o=0;o<n.length;o++)t(e,n[o],r,i,s);else i=f(i)?!!i.capture:!!i,r=Et(r),e&&e[st]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ht(o=e.a[n],r,i,s))&&(ut(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete e.a[n],e.b--))):e&&(e=_t(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ht(n,r,i,s)),(r=-1<e?n[e]:null)&&yt(r))}(this,t,e,n,r)},s.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new nt(t,n);else if(t instanceof nt)t.target=t.target||n;else{var i=t;L(t=new nt(r,n),i)}if(i=!0,e)for(var s=e.length-1;0<=s;s--){var o=t.a=e[s];i=Ot(o,r,!0,t)&&i}if(i=Ot(o=t.a=n,r,!0,t)&&i,i=Ot(o,r,!1,t)&&i,e)for(s=0;s<e.length;s++)i=Ot(o=t.a=e[s],r,!1,t)&&i;return i},s.G=function(){if(St.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ut(n[r]);delete e.a[t],e.b--}}this.C=null},s.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},s.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var xt=u.JSON.stringify;function Tt(){this.b=this.a=null}var It,Ct=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new At}),(function(t){t.reset()}),100);function kt(){var t=Rt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function At(){this.next=this.b=this.a=null}function jt(t){u.setTimeout((function(){throw t}),0)}function Nt(t,e){It||function(){var t=u.Promise.resolve(void 0);It=function(){t.then(Dt)}}(),Pt||(It(),Pt=!0),Rt.add(t,e)}Tt.prototype.add=function(t,e){var n=Ct.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},At.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},At.prototype.reset=function(){this.next=this.b=this.a=null};var Pt=!1,Rt=new Tt;function Dt(){for(var t;t=kt();){try{t.a.call(t.b)}catch(n){jt(n)}var e=Ct;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}Pt=!1}function Lt(t,e){St.call(this),this.b=t||1,this.a=e||u,this.f=m(this.Ya,this),this.g=b()}function Mt(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ft(t,e,n){if("function"==l(t))n&&(t=m(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=m(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Ut(t){t.a=Ft((function(){t.a=null,t.c&&(t.c=!1,Ut(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}_(Lt,St),(s=Lt.prototype).aa=!1,s.M=null,s.Ya=function(){if(this.aa){var t=b()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Mt(this),this.start()))}},s.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=b())},s.G=function(){Lt.S.G.call(this),Mt(this),delete this.a};var Vt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ut(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(w);function qt(t){w.call(this),this.b=t,this.a={}}_(qt,w);var Ht=[];function Bt(t,e,n,r){Array.isArray(n)||(n&&(Ht[0]=n.toString()),n=Ht);for(var i=0;i<n.length;i++){var s=pt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function zt(t){P(t.a,(function(t,e){this.a.hasOwnProperty(e)&&yt(t)}),t),t.a={}}function $t(){this.a=!0}function Wt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return xt(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}qt.prototype.G=function(){qt.S.G.call(this),zt(this)},qt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$t.prototype.info=function(){};var Gt=null;function Qt(){return Gt=Gt||new St}function Kt(t){nt.call(this,"serverreachability",t)}function Yt(t){var e=Qt();e.dispatchEvent(new Kt(e,t))}function Xt(t){nt.call(this,"statevent",t)}function Zt(t){var e=Qt();e.dispatchEvent(new Xt(e,t))}function Jt(t){nt.call(this,"timingevent",t)}function te(t,e){if("function"!=l(t))throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){t()}),e)}_(Kt,nt),_(Xt,nt),_(Jt,nt);var ee={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},ne={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function re(){}function ie(){}re.prototype.a=null;var se,oe={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function ae(){nt.call(this,"d")}function ue(){nt.call(this,"c")}function ce(){}function le(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new qt(this),this.P=he,this.R=new Lt(t=B?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}_(ae,nt),_(ue,nt),_(ce,re),se=new ce;var he=45e3,fe={},de={};function pe(t,e,n){t.H=1,t.i=Le(Ae(e)),t.j=n,t.I=!0,ge(t,null)}function ge(t,e){t.u=b(),ve(t),t.l=Ae(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Ke(n.b,"t",r),t.D=0,t.a=zn(t.g,t.g.C?e:null),0<t.O&&(t.F=new Vt(m(t.Ca,t,t.a),t.O)),Bt(t.J,t.a,"readystatechange",t.Wa),e=t.B?R(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Yt(1),function(t,e,n,r,i,s){t.info((function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function ye(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=me(t,n);if(i==de){4==e&&(t.h=4,Zt(14),r=!1),Wt(t.c,t.f,null,"[Incomplete Response]");break}if(i==fe){t.h=4,Zt(15),Wt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Wt(t.c,t.f,i,null),Se(t,i)}4==e&&0==n.length&&(t.h=1,Zt(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ln(e),e.F=!0)):(Wt(t.c,t.f,n,"[Invalid Chunked Response]"),Ee(t),we(t))}function me(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?de:(n=Number(e.substring(n,r)),isNaN(n)?fe:(r+=1)+n>e.length?de:(e=e.substr(r,n),t.D=r+n,e))}function ve(t){t.U=b()+t.P,be(t,t.P)}function be(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=te(m(t.Ua,t),e)}function _e(t){t.o&&(u.clearTimeout(t.o),t.o=null)}function we(t){0==t.g.v||t.A||Un(t.g,t)}function Ee(t){_e(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Mt(t.R),zt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Se(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||nn(n.b,t)))if(n.I=t.N,!t.C&&nn(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(y){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Fn(n),In(n)}Dn(n),Zt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=te(m(n.Ra,n),6e3));if(1>=en(n.b)&&n.ea){try{n.ea()}catch(y){}n.ea=void 0}}else qn(n,11)}else if((t.C||n.a==t)&&Fn(n),!T(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(k(l,"spdy")||k(l,"quic")||k(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(rn(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,De(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=b()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Bn(u,u.C?u.ga:null,u.fa),d.C){sn(u.b,d);var p=d,g=u.D;g&&p.setTimeout(g),p.o&&(_e(p),ve(p)),u.a=d}else Rn(u);0<n.g.length&&An(n)}else"stop"!=i[0]&&"close"!=i[0]||qn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?qn(n,7):Tn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Yt(4)}catch(y){}}function Oe(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)S(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(h(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function xe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof xe)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Te(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ie(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ie(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ie(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(s=le.prototype).setTimeout=function(t){this.P=t},s.Wa=function(t){t=t.target;var e=this.F;e&&3==En(t)?e.f():this.Ca(t)},s.Ca=function(t){try{if(t==this.a)t:{var e=En(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!B&&!this.a.$())){this.A||4!=e||7==n||Yt(8==n||0>=r?3:2),_e(this);var i=this.a.X();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,Zt(12),Ee(this),we(this);break t}Wt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Se(this,u)}this.I?(ye(this,e,s),B&&this.b&&3==e&&(Bt(this.J,this.R,"tick",this.Va),this.R.start())):(Wt(this.c,this.f,s,null),Se(this,s)),4==e&&Ee(this),this.b&&!this.A&&(4==e?Un(this.g,this):(this.b=!1,ve(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,Zt(12)):(this.h=0,Zt(13)),Ee(this),we(this)}}}catch(c){}},s.Va=function(){if(this.a){var t=En(this.a),e=this.a.$();this.D<e.length&&(_e(this),ye(this,t,e),this.b&&4!=t&&ve(this))}},s.cancel=function(){this.A=!0,Ee(this)},s.Ua=function(){this.o=null;var t=b();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Yt(3),Zt(17)),Ee(this),this.h=2,we(this)):be(this,this.U-t)},(s=xe.prototype).K=function(){Te(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},s.L=function(){return Te(this),this.a.concat()},s.get=function(t,e){return Ie(this.b,t)?this.b[t]:e},s.set=function(t,e){Ie(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},s.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Ce=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ke(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ke){this.a=void 0!==e?e:t.a,je(this,t.f),this.j=t.j,Ne(this,t.c),Pe(this,t.h),this.g=t.g,e=t.b;var n=new $e;n.c=e.c,e.a&&(n.a=new xe(e.a),n.b=e.b),Re(this,n),this.i=t.i}else t&&(n=String(t).match(Ce))?(this.a=!!e,je(this,n[1]||"",!0),this.j=Me(n[2]||""),Ne(this,n[3]||"",!0),Pe(this,n[4]),this.g=Me(n[5]||"",!0),Re(this,n[6]||"",!0),this.i=Me(n[7]||"")):(this.a=!!e,this.b=new $e(null,this.a))}function Ae(t){return new ke(t)}function je(t,e,n){t.f=n?Me(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Ne(t,e,n){t.c=n?Me(e,!0):e}function Pe(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Re(t,e,n){e instanceof $e?(t.b=e,function(t,e){e&&!t.f&&(We(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Ge(this,e),Ke(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Fe(e,Be)),t.b=new $e(e,t.a))}function De(t,e,n){t.b.set(e,n)}function Le(t){return De(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^b()).toString(36)),t}function Me(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fe(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Ue),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ue(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ke.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Fe(e,Ve,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Fe(e,Ve,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Fe(n,"/"==n.charAt(0)?He:qe,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Fe(n,ze)),t.join("")};var Ve=/[#\/\?@]/g,qe=/[#\?:]/g,He=/[#\?]/g,Be=/[#\?@]/g,ze=/#/g;function $e(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function We(t){t.a||(t.a=new xe,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Ge(t,e){We(t),e=Ye(t,e),Ie(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Ie((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Te(t)))}function Qe(t,e){return We(t),e=Ye(t,e),Ie(t.a.b,e)}function Ke(t,e,n){Ge(t,e),0<n.length&&(t.c=null,t.a.set(Ye(t,e),x(n)),t.b+=n.length)}function Ye(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Xe(t,e){this.b=t,this.a=e}function Ze(t){this.g=t||Je,t=u.PerformanceNavigationTiming?0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(s=$e.prototype).add=function(t,e){We(this),this.c=null,t=Ye(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},s.forEach=function(t,e){We(this),this.a.forEach((function(n,r){S(n,(function(n){t.call(e,n,r,this)}),this)}),this)},s.L=function(){We(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},s.K=function(t){We(this);var e=[];if("string"==typeof t)Qe(this,t)&&(e=O(e,this.a.get(Ye(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=O(e,t[n])}return e},s.set=function(t,e){return We(this),this.c=null,Qe(this,t=Ye(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},s.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},s.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var Je=10;function tn(t){return!!t.b||!!t.a&&t.a.size>=t.f}function en(t){return t.b?1:t.a?t.a.size:0}function nn(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function rn(t,e){t.a?t.a.add(e):t.b=e}function sn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function on(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var s=i(t.a.values()),o=s.next();!o.done;o=s.next())r=r.concat(o.value.s)}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r}return x(t.c)}function an(){}function un(){this.a=new an}function cn(t,e,n){var r=n||"";try{Oe(t,(function(t,n){var i=t;f(t)&&(i=xt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ln(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}Ze.prototype.cancel=function(){var t,e;if(this.c=on(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(s){t={error:s}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},an.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},an.prototype.parse=function(t){return u.JSON.parse(t,void 0)};var hn=u.JSON.parse;function fn(t){St.call(this),this.headers=new xe,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=dn,this.D=this.F=!1}_(fn,St);var dn="",pn=/^https?$/i,gn=["POST","PUT"];function yn(t){return"content-type"==t.toLowerCase()}function mn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,vn(t),_n(t)}function vn(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function bn(t){if(t.b&&void 0!==a&&(!t.s[1]||4!=En(t)||2!=t.X()))if(t.l&&4==En(t))Ft(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==En(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Ce)[1]||null;if(!s&&u.self&&u.self.location){var o=u.self.location.protocol;s=o.substr(0,o.length-1)}i=!pn.test(s?s.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var c=2<En(t)?t.a.statusText:""}catch(l){c=""}t.f=c+" ["+t.X()+"]",vn(t)}}finally{_n(t)}}}function _n(t,e){if(t.a){wn(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function wn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(u.clearTimeout(t.m),t.m=null)}function En(t){return t.a?t.a.readyState:0}function Sn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return P(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):De(t,e,n))}function On(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function xn(t){this.pa=0,this.g=[],this.c=new $t,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=On("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=On("baseRetryDelayMs",5e3,t),this.Ma=On("retryDelaySeedMs",1e4,t),this.Ja=On("forwardChannelMaxRetries",2,t),this.ma=On("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ze(t&&t.concurrentRequestLimit),this.ka=new un,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Tn(t){if(Cn(t),3==t.v){var e=t.R++,n=Ae(t.B);De(n,"SID",t.J),De(n,"RID",e),De(n,"TYPE","terminate"),Nn(t,n),(e=new le(t,t.c,e,void 0)).H=2,e.i=Le(Ae(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.i.toString(),"")),!n&&u.Image&&((new Image).src=e.i,n=!0),n||(e.a=zn(e.g,null),e.a.ba(e.i)),e.u=b(),ve(e)}Hn(t)}function In(t){t.a&&(Ln(t),t.a.cancel(),t.a=null)}function Cn(t){In(t),t.j&&(u.clearTimeout(t.j),t.j=null),Fn(t),t.b.cancel(),t.h&&("number"==typeof t.h&&u.clearTimeout(t.h),t.h=null)}function kn(t,e){t.g.push(new Xe(t.La++,e)),3==t.v&&An(t)}function An(t){tn(t.b)||t.h||(t.h=!0,Nt(t.Ba,t),t.u=0)}function jn(t,e){var n;n=e?e.f:t.R++;var r=Ae(t.B);De(r,"SID",t.J),De(r,"RID",n),De(r,"AID",t.P),Nn(t,r),t.i&&t.l&&Sn(r,t.i,t.l),n=new le(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Pn(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),rn(t.b,n),pe(n,r,e)}function Nn(t,e){t.f&&Oe({},(function(t,n){De(e,n,t)}))}function Pn(t,e,n){n=Math.min(t.g.length,n);var r=t.f?m(t.f.Ha,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{cn(l,o,"req"+c+"_")}catch(h){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Rn(t){t.a||t.j||(t.U=1,Nt(t.Aa,t),t.o=0)}function Dn(t){return!(t.a||t.j||3<=t.o||(t.U++,t.j=te(m(t.Aa,t),Vn(t,t.o)),t.o++,0))}function Ln(t){null!=t.s&&(u.clearTimeout(t.s),t.s=null)}function Mn(t){t.a=new le(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Ae(t.la);De(e,"RID","rpc"),De(e,"SID",t.J),De(e,"CI",t.H?"0":"1"),De(e,"AID",t.P),Nn(t,e),De(e,"TYPE","xmlhttp"),t.i&&t.l&&Sn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Le(Ae(e)),n.j=null,n.I=!0,ge(n,t)}function Fn(t){null!=t.m&&(u.clearTimeout(t.m),t.m=null)}function Un(t,e){var n=null;if(t.a==e){Fn(t),Ln(t),t.a=null;var r=2}else{if(!nn(t.b,e))return;n=e.s,sn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=b()-e.u;var i=t.u;(r=Qt()).dispatchEvent(new Jt(r,n,e,i)),An(t)}else Rn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(en(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja)||(t.h=te(m(t.Ba,t,e),Vn(t,t.u)),t.u++,0)))}(t,e)||2==r&&Dn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:qn(t,5);break;case 4:qn(t,10);break;case 3:qn(t,6);break;default:qn(t,2)}}function Vn(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function qn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=m(t.Xa,t);n||(n=new ke("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||je(n,"https"),Le(n)),function(t,e){var n=new $t;if(u.Image){var r=new Image;r.onload=v(ln,n,r,"TestLoadImage: loaded",!0,e),r.onerror=v(ln,n,r,"TestLoadImage: error",!1,e),r.onabort=v(ln,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=v(ln,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zt(2);t.v=0,t.f&&t.f.ra(e),Hn(t),Cn(t)}function Hn(t){t.v=0,t.I=-1,t.f&&(0==on(t.b).length&&0==t.g.length||(t.b.c.length=0,x(t.g),t.g.length=0),t.f.qa())}function Bn(t,e,n){var r=function(t){return t instanceof ke?Ae(t):new ke(t,void 0)}(n);if(""!=r.c)e&&Ne(r,e+"."+r.c),Pe(r,r.h);else{var i=u.location;r=function(t,e,n,r){var i=new ke(null,void 0);return t&&je(i,t),e&&Ne(i,e),n&&Pe(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&P(t.W,(function(t,e){De(r,e,t)})),n=t.na,(e=t.A)&&n&&De(r,e,n),De(r,"VER",t.ha),Nn(t,r),r}function zn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fn(t.Ka)).F=t.C,e}function $n(){}function Wn(){if(q&&!(10<=Number(Z)))throw Error("Environmental error: no available transport.")}function Gn(t,e){St.call(this),this.a=new xn(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!T(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!T(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Yn(this)}function Qn(t){ae.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Kn(){ue.call(this),this.status=1}function Yn(t){this.a=t}(s=fn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:se),this.a.onreadystatechange=m(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void mn(this,s)}t=n||"";var i=new xe(this.headers);r&&Oe(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=yn,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=u.FormData&&t instanceof u.FormData,!(0<=E(gn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{wn(this),0<this.o&&((this.D=function(t){return q&&X(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=m(this.xa,this)):this.m=Ft(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){mn(this,s)}},s.xa=function(){void 0!==a&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},s.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),_n(this))},s.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),_n(this,!0)),fn.S.G.call(this)},s.za=function(){this.j||(this.A||this.l||this.g?bn(this):this.Ta())},s.Ta=function(){bn(this)},s.X=function(){try{return 2<En(this)?this.a.status:-1}catch(U){return-1}},s.$=function(){try{return this.a?this.a.responseText:""}catch(U){return""}},s.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),hn(e)}},s.ua=function(){return this.h},s.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(s=xn.prototype).ha=8,s.v=1,s.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new le(this,this.c,t,void 0),r=this.l;if(this.O&&(r?L(r=R(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Pn(this,n,e),De(i=Ae(this.B),"RID",t),De(i,"CVER",22),this.A&&De(i,"X-HTTP-Session-Id",this.A),Nn(this,i),this.i&&r&&Sn(i,this.i,r),rn(this.b,n),this.Ga&&De(i,"TYPE","init"),this.da?(De(i,"$req",e),De(i,"SID","null"),n.V=!0,pe(n,i,null)):pe(n,i,e),this.v=2}}else 3==this.v&&(t?jn(this,t):0==this.g.length||tn(this.b)||jn(this))},s.Aa=function(){if(this.j=null,Mn(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=te(m(this.Sa,this),t)}},s.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,In(this),Mn(this))},s.Ra=function(){null!=this.m&&(this.m=null,In(this),Dn(this),Zt(19))},s.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Zt(2)):(this.c.info("Failed to ping google.com"),Zt(1))},(s=$n.prototype).ta=function(){},s.sa=function(){},s.ra=function(){},s.qa=function(){},s.Ha=function(){},Wn.prototype.a=function(t,e){return new Gn(t,e)},_(Gn,St),(s=Gn.prototype).addEventListener=function(t,e,n,r){Gn.S.addEventListener.call(this,t,e,n,r)},s.removeEventListener=function(t,e,n,r){Gn.S.removeEventListener.call(this,t,e,n,r)},s.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Zt(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=Bn(t,null,t.fa),An(t)},s.close=function(){Tn(this.a)},s.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,kn(this.a,e)}else this.g?((e={}).__data__=xt(t),kn(this.a,e)):kn(this.a,t)},s.G=function(){this.a.f=null,delete this.f,Tn(this.a),delete this.a,Gn.S.G.call(this)},_(Qn,ae),_(Kn,ue),_(Yn,$n),Yn.prototype.ta=function(){this.a.dispatchEvent("a")},Yn.prototype.sa=function(t){this.a.dispatchEvent(new Qn(t))},Yn.prototype.ra=function(t){this.a.dispatchEvent(new Kn(t))},Yn.prototype.qa=function(){this.a.dispatchEvent("b")},Wn.prototype.createWebChannel=Wn.prototype.a,Gn.prototype.send=Gn.prototype.Pa,Gn.prototype.open=Gn.prototype.Oa,Gn.prototype.close=Gn.prototype.close,ee.NO_ERROR=0,ee.TIMEOUT=8,ee.HTTP_ERROR=6,ne.COMPLETE="complete",ie.EventType=oe,oe.OPEN="a",oe.CLOSE="b",oe.ERROR="c",oe.MESSAGE="d",St.prototype.listen=St.prototype.va,fn.prototype.listenOnce=fn.prototype.wa,fn.prototype.getLastError=fn.prototype.Qa,fn.prototype.getLastErrorCode=fn.prototype.ua,fn.prototype.getStatus=fn.prototype.X,fn.prototype.getResponseJson=fn.prototype.Na,fn.prototype.getResponseText=fn.prototype.$,fn.prototype.send=fn.prototype.ba;var Xn={createWebChannelTransport:function(){return new Wn},ErrorCode:ee,EventType:ne,WebChannel:ie,XhrIo:fn},Zn=Xn.createWebChannelTransport,Jn=Xn.ErrorCode,tr=Xn.EventType,er=Xn.WebChannel,nr=Xn.XhrIo;e.default=Xn},xbPD:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t=null){return e=>e.lift(new s(t))}class s{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new o(t,this.defaultValue))}}class o extends r.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zUnb:function(t,e,n){"use strict";n.r(e);var r={};n.r(r),n.d(r,"FunctionToString",(function(){return qe})),n.d(r,"InboundFilters",(function(){return cn}));var i={};n.r(i),n.d(i,"Express",(function(){return Kg}));var s=n("jhN1"),o=n("fXoL"),a=n("R0Ic");function u(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function c(t){switch(t.length){case 0:return new a.d;case 1:return t[0];default:return new a.j(t)}}function l(t,e,n,r,i={},s={}){const o=[],u=[];let c=-1,l=null;if(r.forEach(t=>{const n=t.offset,r=n==c,h=r&&l||{};Object.keys(t).forEach(n=>{let r=n,u=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),u){case a.k:u=i[n];break;case a.a:u=s[n];break;default:u=e.normalizeStyleValue(n,r,u,o)}h[r]=u}),r||u.push(h),l=h,c=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return u}function h(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&f(n,"start",t)));break;case"done":t.onDone(()=>r(n&&f(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&f(n,"destroy",t)))}}function f(t,e,n){const r=n.totalTime,i=d(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function d(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function p(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function g(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let y=(t,e)=>!1,m=(t,e)=>!1,v=(t,e,n)=>[];const b=u();(b||"undefined"!=typeof Element)&&(y=(t,e)=>t.contains(e),m=(()=>{if(b||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):m}})(),v=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let _=null,w=!1;function E(t){_||(_=("undefined"!=typeof document?document.body:null)||{},w=!!_.style&&"WebkitAppearance"in _.style);let e=!0;return _.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in _.style,!e&&w)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in _.style),e}const S=m,O=y,x=v;function T(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let I=(()=>{class t{validateStyleProperty(t){return E(t)}matchesElement(t,e){return S(t,e)}containsElement(t,e){return O(t,e)}query(t,e,n){return x(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new a.d(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac}),t})(),C=(()=>{class t{}return t.NOOP=new I,t})();function k(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:A(parseFloat(e[1]),e[2])}function A(t,e){switch(e){case"s":return 1e3*t;default:return t}}function j(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=A(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=A(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function N(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function P(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else N(t,n);return n}function R(t,e,n){return n?e+":"+n+";":""}function D(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=R(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=R(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function L(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=z(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),u()&&D(t))}function M(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=z(e);t.style[n]=""}),u()&&D(t))}function F(t){return Array.isArray(t)?1==t.length?t[0]:Object(a.f)(t):t}const U=new RegExp("{{\\s*(.+?)\\s*}}","g");function V(t){let e=[];if("string"==typeof t){let n;for(;n=U.exec(t);)e.push(n[1]);U.lastIndex=0}return e}function q(t,e,n){const r=t.toString(),i=r.replace(U,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function H(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const B=/-+([a-z0-9])/g;function z(t){return t.replace(B,(...t)=>t[1].toUpperCase())}function W(t,e){return 0===t||0===e}function G(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach((function(e){n[e]=K(t,e)}))}}return e}function Q(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function K(t,e){return window.getComputedStyle(t)[e]}function Y(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(J(i,o)),"<"!=s[0]||"*"==i&&"*"==o||e.push(J(o,i))}(t,n,e)):n.push(t),n}const X=new Set(["true","1"]),Z=new Set(["false","0"]);function J(t,e){const n=X.has(t)||Z.has(t),r=X.has(e)||Z.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?X.has(t):Z.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?X.has(e):Z.has(e)),o&&a}}const tt=new RegExp("s*:selfs*,?","g");function et(t,e,n){return new nt(t).build(e,n)}class nt{constructor(t){this._driver=t}build(t,e){const n=new rt(e);return this._resetContextStyleTimingState(n),Q(this,F(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(it(t)){const e=t;Object.keys(e).forEach(t=>{V(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=H(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Q(this,F(t.animation),e);return{type:1,matchers:Y(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:st(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Q(this,t,e)),options:st(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Q(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:st(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return ot(j(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=ot(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||j(r,e),ot(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Object(a.g)({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Object(a.g)(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==a.a?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(it(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=V(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(it(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(it(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Q(this,F(t.animation),e),options:st(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:st(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:st(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(tt,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,p(e.collectedStyles,e.currentQuerySelector,{});const o=Q(this,F(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:st(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:j(t.timings,e.errors,!0);return{type:12,animation:Q(this,F(t.animation),e),timings:n,options:null}}}class rt{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function it(t){return!Array.isArray(t)&&"object"==typeof t}function st(t){var e;return t?(t=N(t)).params&&(t.params=(e=t.params)?N(e):null):t={},t}function ot(t,e,n){return{duration:t,delay:e,easing:n}}function at(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class ut{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const ct=new RegExp(":enter","g"),lt=new RegExp(":leave","g");function ht(t,e,n,r,i,s={},o={},a,u,c=[]){return(new ft).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class ft{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new ut;const l=new pt(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),Q(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[at(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?k(n.duration):null,s=null!=n.delay?k(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Q(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=dt);const t=k(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Q(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?k(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),Q(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return j(e.params?q(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?k(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=dt);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),Q(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;Q(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const dt={};class pt{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=dt,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new gt(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=k(n.duration)),null!=n.delay&&(r.delay=k(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=q(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new pt(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=dt,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new yt(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(ct,"."+this._enterClassName)).replace(lt,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class gt{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new gt(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||a.a,this._currentKeyframe[t]=a.a}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=a.a})):P(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=q(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:a.a),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=P(i,!0);Object.keys(o).forEach(n=>{const r=o[n];r==a.k?t.add(n):r==a.a&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?H(t.values()):[],s=e.size?H(e.values()):[];if(n){const t=r[0],e=N(t);t.offset=0,e.offset=1,r=[t,e]}return at(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class yt extends gt{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=P(t[0],!1);a.offset=0,i.push(a);const u=P(t[0],!1);u.offset=mt(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=P(t[r],!1);o.offset=mt((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return at(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function mt(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class vt{}class bt extends vt{normalizePropertyName(t,e){return z(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(_t[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const _t=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function wt(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const Et={};class St{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||Et,f=this.buildStyles(n,o&&o.params||Et,l),d=a&&a.params||Et,g=this.buildStyles(r,d,l),y=new Set,m=new Map,v=new Map,b="void"===r,_={params:Object.assign(Object.assign({},h),d)},w=c?[]:ht(t,e,this.ast.animation,i,s,f,g,_,u,l);let E=0;if(w.forEach(t=>{E=Math.max(t.duration+t.delay,E)}),l.length)return wt(e,this._triggerName,n,r,b,f,g,[],[],m,v,E,l);w.forEach(t=>{const n=t.element,r=p(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=p(v,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&y.add(n)});const S=H(y.values());return wt(e,this._triggerName,n,r,b,f,g,w,S,m,v,E)}}class Ot{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=N(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=q(s,r,e)),n[t]=s})}}),n}}class xt{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Ot(t.style,t.options&&t.options.params||{})}),Tt(this.states,"true","1"),Tt(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new St(t,e,this.states))}),this.fallbackTransition=new St(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Tt(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const It=new ut;class Ct{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=et(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=l(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=ht(this._driver,e,i,"ng-enter","ng-leave",{},{},n,It,r),s.forEach(t=>{const e=p(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,a.a)})});const u=c(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=u,u.onDestroy(()=>this.destroy(t)),this.players.push(u),u}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=d(e,"","","");return h(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const kt=[],At={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jt={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Nt{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=N(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Pt=new Nt("void");class Rt{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,qt(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=p(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=p(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(qt(t,"ng-trigger"),qt(t,"ng-trigger-"+e),a[e]=Pt),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new Lt(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(qt(t,"ng-trigger"),qt(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new Nt(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=Pt),"void"!==u.value&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{M(t,n),L(t,r)})}return}const c=p(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(qt(t,"ng-animate-queued"),s.onStart(()=>{Ht(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&c(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||Pt,o=new Nt("void"),a=new Lt(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==At||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){qt(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=d(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,h(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Dt{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Rt(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Mt(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Mt(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),qt(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ht(t,"ng-animate-disabled"))}removeNode(t,e,n,r){if(Mt(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Mt(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return c(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=At,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)qt(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?c(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new ut,r=[],i=new Map,s=[],o=new Map,u=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(t=>{h.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)h.add(e[n])});const f=this.bodyNode,d=Array.from(this.statesByElement.keys()),g=Vt(d,this.collectedEnterElements),y=new Map;let m=0;g.forEach((t,e)=>{const n="ng-enter"+m++;y.set(e,n),t.forEach(t=>qt(t,n))});const v=[],b=new Set,_=new Set;for(let a=0;a<this.collectedLeaveElements.length;a++){const t=this.collectedLeaveElements[a],e=t.__ng_removed;e&&e.setForRemoval&&(v.push(t),b.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>b.add(t)):_.add(t))}const w=new Map,E=Vt(d,Array.from(b));E.forEach((t,e)=>{const n="ng-leave"+m++;w.set(e,n),t.forEach(t=>qt(t,n))}),t.push(()=>{g.forEach((t,e)=>{const n=y.get(e);t.forEach(t=>Ht(t,n))}),E.forEach((t,e)=>{const n=w.get(e);t.forEach(t=>Ht(t,n))}),v.forEach(t=>{this.processLeaveNode(t)})});const S=[],O=[];for(let a=this._namespaceList.length-1;a>=0;a--)this._namespaceList[a].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(S.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const a=!f||!this.driver.containsElement(f,i),c=w.get(i),h=y.get(i),d=this._buildInstruction(t,n,h,c,a);if(!d.errors||!d.errors.length)return a||t.isFallbackTransition?(e.onStart(()=>M(i,d.fromStyles)),e.onDestroy(()=>L(i,d.toStyles)),void r.push(e)):(d.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,d.timelines),s.push({instruction:d,player:e,element:i}),d.queriedElements.forEach(t=>p(o,t,[]).push(e)),d.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=u.get(e);t||u.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void d.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=l.get(e);r||l.set(e,r=new Set),n.forEach(t=>r.add(t))}));O.push(d)});if(O.length){const t=[];O.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),S.forEach(t=>t.destroy()),this.reportError(t)}const x=new Map,T=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(T.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,x))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{p(x,e,[]).push(t),t.destroy()})});const I=v.filter(t=>zt(t,u,l)),C=new Map;Ut(C,this.driver,_,l,a.a).forEach(t=>{zt(t,u,l)&&I.push(t)});const k=new Map;g.forEach((t,e)=>{Ut(k,this.driver,new Set(t),u,a.k)}),I.forEach(t=>{const e=C.get(t),n=k.get(t);C.set(t,Object.assign(Object.assign({},e),n))});const A=[],j=[],N={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(h.has(e))return s.onDestroy(()=>L(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=N;if(T.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=T.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>T.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,x,i,k,C);if(s.setRealPlayer(n),t===N)A.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=c(e)),r.push(s)}}else M(e,o.fromStyles),s.onDestroy(()=>L(e,o.toStyles)),j.push(s),h.has(e)&&r.push(s)}),j.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=c(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let a=0;a<v.length;a++){const t=v[a],e=t.__ng_removed;if(Ht(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,".ng-animating",!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?Bt(this,t,r):this.processLeaveNode(t)}return v.length=0,A.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),A}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||"void"==i;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=p(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}M(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,u=e.element,h=[],f=new Set,d=new Set,g=e.timelines.map(e=>{const c=e.element;f.add(c);const p=c.__ng_removed;if(p&&p.removedBeforeQueried)return new a.d(e.duration,e.delay);const g=c!==u,y=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof a.j?t(i.players,n):n.push(i)}}(t,e),e}((n.get(c)||kt).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===c),m=i.get(c),v=s.get(c),b=l(0,this._normalizer,0,e.keyframes,m,v),_=this._buildPlayer(e,b,y);if(e.subTimeline&&r&&d.add(c),g){const e=new Lt(t,o,c);e.setRealPlayer(_),h.push(e)}return _});h.forEach(t=>{p(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),f.forEach(t=>qt(t,"ng-animating"));const y=c(g);return y.onDestroy(()=>{f.forEach(t=>Ht(t,"ng-animating")),L(u,e.toStyles)}),d.forEach(t=>{p(r,t,[]).push(y)}),y}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new a.d(t.duration,t.delay)}}class Lt{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new a.d,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>h(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){p(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Mt(t){return t&&1===t.nodeType}function Ft(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function Ut(t,e,n,r,i){const s=[];n.forEach(t=>s.push(Ft(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=jt,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>Ft(t,s[a++])),o}function Vt(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=i.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:r.has(o)?1:t(o),i.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function qt(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Ht(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Bt(t,e,n){c(n).onDone(()=>t.processLeaveNode(e))}function zt(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class $t{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Dt(t,e,n),this._timelineEngine=new Ct(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=et(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new xt(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=g(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=g(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Wt(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=Qt(e[0]),e.length>1&&(r=Qt(e[e.length-1]))):e&&(n=Qt(e)),n||r?new Gt(t,n,r):null}let Gt=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&L(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(L(this._element,this._initialStyles),this._endStyles&&(L(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(M(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(M(this._element,this._endStyles),this._endStyles=null),L(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Qt(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];Kt(i)&&(e=e||{},e[i]=t[i])}return e}function Kt(t){return"display"===t||"position"===t}class Yt{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=ne(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),ee(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),te(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Xt(this._element,this._name,"paused")}resume(){Xt(this._element,this._name,"running")}setPosition(t){const e=Zt(this._element,this._name);this._position=t*this._duration,ee(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),te(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=ne(t,"").split(","),r=Jt(n,e);r>=0&&(n.splice(r,1),ee(t,"",n.join(",")))}(this._element,this._name))}}function Xt(t,e,n){ee(t,"PlayState",n,Zt(t,e))}function Zt(t,e){const n=ne(t,"");return n.indexOf(",")>0?Jt(n.split(","),e):Jt([n],e)}function Jt(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function te(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function ee(t,e,n,r){const i="animation"+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function ne(t,e){return t.style["animation"+e]}class re{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Yt(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:K(this.element,n))})}this.currentSnapshot=t}}class ie extends a.d{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=T(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class se{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return E(t)}matchesElement(t,e){return S(t,e)}containsElement(t,e){return O(t,e)}query(t,e,n){return x(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>T(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.innerHTML=r,s}animate(t,e,n,r,i,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof re),u={};W(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=G(t,e,u));if(0==n)return new ie(t,c);const l=`gen_css_kf_${this._count++}`,h=this.buildKeyframeElement(t,l,e);document.querySelector("head").appendChild(h);const f=Wt(t,e),d=new re(t,e,l,n,r,i,c,f);return d.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class oe{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:K(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ae{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ue().toString()),this._cssKeyframesDriver=new se}validateStyleProperty(t){return E(t)}matchesElement(t,e){return S(t,e)}containsElement(t,e){return O(t,e)}query(t,e,n){return x(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof oe);W(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=Wt(t,e=G(t,e=e.map(t=>P(t,!1)),u));return new oe(t,e,a,l)}}function ue(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var ce=n("ofXK");let le=(()=>{class t extends a.b{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:o.P.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Object(a.f)(t):t;return de(this._renderer,null,e,"register",[n]),new he(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(o.E),o.Wb(ce.d))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac}),t})();class he extends a.c{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new fe(this._id,t,e||{},this._renderer)}}class fe{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return de(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function de(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}let pe=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new ge("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new ye(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(o.E),o.Wb($t),o.Wb(o.z))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac}),t})();class ge{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ye extends ge{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let me=(()=>{class t extends $t{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(o.Wb(ce.d),o.Wb(C),o.Wb(vt))},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac}),t})();const ve=[{provide:C,useFactory:function(){return"function"==typeof ue()?new ae:new se}},{provide:new o.q("AnimationModuleType"),useValue:"BrowserAnimations"},{provide:a.b,useClass:le},{provide:vt,useFactory:function(){return new bt}},{provide:$t,useClass:me},{provide:o.E,useFactory:function(t,e,n){return new pe(t,e,n)},deps:[s.e,$t,o.z]}];let be=(()=>{class t{}return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(e){return new(e||t)},providers:ve,imports:[s.a]}),t})();var _e=n("tyNb");const we=[{path:"dd-builder",loadChildren:()=>Promise.all([n.e(0),n.e(11)]).then(n.bind(null,"EKgk")).then(t=>t.DdBuilderModule)},{path:"dd-rules",loadChildren:()=>n.e(12).then(n.bind(null,"mkAe")).then(t=>t.DdRulesModule)},{path:"dd-spells",loadChildren:()=>Promise.all([n.e(0),n.e(13)]).then(n.bind(null,"ySM7")).then(t=>t.DdSpellsModule)},{path:"init",loadChildren:()=>Promise.all([n.e(0),n.e(16)]).then(n.bind(null,"xxn3")).then(t=>t.InitModule)},{path:"resumes",loadChildren:()=>Promise.all([n.e(0),n.e(20)]).then(n.bind(null,"0wnX")).then(t=>t.ResumesModule)},{path:"backgrounds",loadChildren:()=>Promise.all([n.e(0),n.e(8)]).then(n.bind(null,"Uy97")).then(t=>t.BackgroundsModule)},{path:"proba",loadChildren:()=>Promise.all([n.e(0),n.e(19)]).then(n.bind(null,"JHeh")).then(t=>t.ProbaModule)},{path:"escape",loadChildren:()=>Promise.all([n.e(0),n.e(14)]).then(n.bind(null,"JstS")).then(t=>t.EscapeModule)},{path:"nwod",loadChildren:()=>Promise.all([n.e(0),n.e(17)]).then(n.bind(null,"g4K6")).then(t=>t.NwodModule)},{path:"paranoia",loadChildren:()=>Promise.all([n.e(0),n.e(18)]).then(n.bind(null,"Ejp8")).then(t=>t.ParanoiaModule)},{path:"auctions",loadChildren:()=>Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"CS5a")).then(t=>t.AuctionsModule)},{path:"auctions",loadChildren:()=>Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"CS5a")).then(t=>t.AuctionsModule)},{path:"l-homme-a-la-jambe-de-bois",loadChildren:()=>Promise.all([n.e(0),n.e(10)]).then(n.bind(null,"fQxk")).then(t=>t.CampaignWirtModule)},{path:"dd-gardiens-du-temps",loadChildren:()=>Promise.all([n.e(0),n.e(9)]).then(n.bind(null,"Lis3")).then(t=>t.CampaignGardiensDuTempsModule)},{path:"",loadChildren:()=>Promise.all([n.e(0),n.e(15)]).then(n.bind(null,"ct+p")).then(t=>t.HomeModule)}];let Ee=(()=>{class t{}return t.\u0275mod=o.Lb({type:t}),t.\u0275inj=o.Kb({factory:function(e){return new(e||t)},imports:[[_e.f.forRoot(we,{useHash:!1})],_e.f]}),t})();var Se=n("Wcq6"),Oe=n("lJxs"),xe=n("UbJi"),Te=n("I/3d");function Ie(t,e){1&t&&o.Ob(0,"li",7)}const Ce=function(){return{exact:!0}};function ke(t,e){if(1&t){const t=o.Tb();o.Sb(0,"li",8),o.ac("click",(function(){return o.tc(t),o.ec(2).hideMenu()})),o.Sb(1,"a",9),o.Bc(2),o.Rb(),o.Rb()}if(2&t){const t=o.ec().$implicit;o.kc("routerLinkActiveOptions",o.mc(3,Ce)),o.zb(1),o.kc("routerLink",t.url),o.zb(1),o.Cc(t.title)}}function Ae(t,e){if(1&t&&(o.zc(0,Ie,1,0,"li",5),o.zc(1,ke,3,4,"li",6)),2&t){const t=e.$implicit;o.kc("ngIf",t.separator),o.zb(1),o.kc("ngIf",!t.separator)}}let je=(()=>{class t{constructor(){this.toggleSideMenu=!1,this.menus=[{title:"Accueil",url:""},{separator:!0},{title:"D&D 5 - Builder",url:"/dd-builder"},{title:"D&D 5 - R\xe8gles custom",url:"/dd-rules"},{title:"D&D 5 - Init",url:"/init"},{title:"D&D 5 - Probas",url:"/proba"},{title:"D&D 5 - Spells",url:"/dd-spells"},{separator:!0},{title:"D&D 5 - Campagne - Wirt",url:"/l-homme-a-la-jambe-de-bois"},{title:"D&D 5 - Campagne - Gardiens du Temps",url:"/dd-gardiens-du-temps"},{separator:!0},{title:"Chronicles of Darkness",url:"/nwod"},{separator:!0},{title:"R\xe9sum\xe9s des parties",url:"/resumes"},{separator:!0},{title:"Escape games",url:"/escape"},{separator:!0},{title:"WOW Auctions",url:"/auctions"},{separator:!0},{title:"Paranoia",url:"/paranoia"}]}hideMenu(){this.toggleSideMenu=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Hb({type:t,selectors:[["app-side-nav"]],decls:6,vars:7,consts:[[1,"side-nav"],["ngFor","",3,"ngForOf"],[1,"menu-icon",3,"click"],["x","0","y","0","width","54px","height","54px","viewBox","0 0 54 54"],["d","M16.500,27.000 C16.500,27.000 24.939,27.000 38.500,27.000 C52.061,27.000 49.945,15.648 46.510,11.367 C41.928,5.656 34.891,2.000 27.000,2.000 C13.193,2.000 2.000,13.193 2.000,27.000 C2.000,40.807 13.193,52.000 27.000,52.000 C40.807,52.000 52.000,40.807 52.000,27.000 C52.000,13.000 40.837,2.000 27.000,2.000 "],["class","separator",4,"ngIf"],["routerLinkActive","active",3,"routerLinkActiveOptions","click",4,"ngIf"],[1,"separator"],["routerLinkActive","active",3,"routerLinkActiveOptions","click"],[3,"routerLink"]],template:function(t,e){1&t&&(o.Sb(0,"ul",0),o.zc(1,Ae,2,2,"ng-template",1),o.Rb(),o.Sb(2,"div",2),o.ac("click",(function(){return e.toggleSideMenu=!e.toggleSideMenu})),o.Ob(3,"span"),o.dc(),o.Sb(4,"svg",3),o.Ob(5,"path",4),o.Rb(),o.Rb()),2&t&&(o.Eb("fixed",e.toggleSideMenu),o.zb(1),o.kc("ngForOf",e.menus),o.zb(1),o.Eb("is-closed",!e.toggleSideMenu)("is-opened",e.toggleSideMenu))},directives:[ce.j,ce.k,_e.d,_e.e],styles:['@-webkit-keyframes pathanimation{40%{stroke-dasharray:22 230}60%{stroke-dashoffset:-65}to{stroke-dashoffset:-65;stroke-dasharray:160}}@keyframes pathanimation{40%{stroke-dasharray:22 230}60%{stroke-dashoffset:-65}to{stroke-dashoffset:-65;stroke-dasharray:160}}@-webkit-keyframes pathanimation-out{to{stroke-dashoffset:0}60%{stroke-dasharray:22 230}40%{stroke-dashoffset:-65}0%{stroke-dashoffset:-65;stroke-dasharray:160}}@keyframes pathanimation-out{to{stroke-dashoffset:0}60%{stroke-dasharray:22 230}40%{stroke-dashoffset:-65}0%{stroke-dashoffset:-65;stroke-dasharray:160}}.side-nav[_ngcontent-%COMP%]{transition:transform .5s}.menu-icon[_ngcontent-%COMP%]{transition:left .5s}.menu-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transition:background 1s steps(1);transform:translateX(-50%) translateY(-50%)}.menu-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after, .menu-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{transform:translateY(-6px);transition:transform 1s;transform-origin:100% 50%}.menu-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{transform:translateY(6px)}.menu-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:opacity 1s steps(1)}.menu-icon.is-opened[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{transition:background 1s step-start}.menu-icon.is-opened[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{transition:background 1s,transform 1s;transform:translateX(-3px) translateY(-8px) rotate(-45deg)}.menu-icon.is-opened[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after{transition:background 1s,transform 1s;transform:translateX(-3px) translateY(8px) rotate(45deg)}.menu-icon.is-opened[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:opacity 1s step-start;-webkit-animation:pathanimation 1s linear;animation:pathanimation 1s linear;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.menu-icon.is-closed[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after, .menu-icon.is-closed[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{transition:background 1s,transform 1s}.menu-icon.is-closed[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{-webkit-animation:pathanimation-out 1s linear;animation:pathanimation-out 1s linear}.menu-icon.is-closed[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]:before{transition:transform .5s;transform:translateY(-10px)}.menu-icon.is-closed[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]:after{transition:transform .5s;transform:translateY(10px)}.side-nav[_ngcontent-%COMP%]{width:250px;position:fixed;left:0;top:0;margin:0;height:calc(100% + 60px);height:100%;padding-bottom:60px;background-color:#fff;z-index:999;overflow-y:auto;will-change:transform;-webkit-backface-visibility:hidden;backface-visibility:hidden;transform:translateX(-105%)}.side-nav.fixed[_ngcontent-%COMP%]{left:0;transform:translateX(0);position:fixed}.side-nav[_ngcontent-%COMP%]   .router-link-active[_ngcontent-%COMP%]{background-color:#bbdefb}.menu-icon[_ngcontent-%COMP%]{position:absolute;left:0;z-index:99;cursor:pointer;font-size:42px}.menu-icon.is-opened[_ngcontent-%COMP%]{left:250px}.menu-icon.is-opened[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after, .menu-icon.is-opened[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{background-color:red}.menu-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{margin:7px;width:40px;height:40px;vertical-align:inherit}.menu-icon[_ngcontent-%COMP%]{width:54px;height:54px;border-radius:50%}.menu-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .menu-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after, .menu-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{position:absolute;display:block;width:22px;height:2px;background-color:#000}.menu-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{top:50%;left:50%}.menu-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:after, .menu-icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:before{content:"";top:0;left:0}.menu-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:0;fill:transparent;stroke-width:2px;stroke:#000;stroke-dasharray:22 230}.menu-icon.is-opened[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:transparent}.menu-icon.is-opened[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{opacity:1}ul[_ngcontent-%COMP%]{padding-left:0}ul[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;float:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{line-height:48px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:rgba(0,0,0,.87);display:block;font-size:14px;font-weight:500;height:48px;padding:0 32px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.05)}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:active, ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{outline:0}ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.2)}.separator[_ngcontent-%COMP%]{height:30px;cursor:default}']}),t})();function Ne(t,e){if(1&t){const t=o.Tb();o.Sb(0,"div"),o.Bc(1),o.Sb(2,"button",7),o.ac("click",(function(){return o.tc(t),o.ec().logout()})),o.Bc(3,"Logout"),o.Rb(),o.Rb()}if(2&t){const t=e.ngIf;o.zb(1),o.Dc(" ",t.displayName," ")}}function Pe(t,e){if(1&t){const t=o.Tb();o.Sb(0,"button",8),o.ac("click",(function(){return o.tc(t),o.ec().login()})),o.Bc(1,"Login with Google"),o.Rb()}}function Re(t,e){if(1&t&&(o.Sb(0,"p"),o.Bc(1),o.Ob(2,"br"),o.Bc(3),o.Ob(4,"br"),o.Bc(5),o.Ob(6,"br"),o.Bc(7),o.Ob(8,"br"),o.Bc(9),o.Ob(10,"br"),o.Rb()),2&t){const t=e.$implicit;o.zb(1),o.Dc(" doc id: ",t.id,""),o.zb(2),o.Dc(" uid: ",t.uid,""),o.zb(2),o.Dc(" displayName: ",t.displayName,""),o.zb(2),o.Dc(" timestamp: ",t.timestampStr,""),o.zb(2),o.Dc(" url: ",t.url,"")}}function De(t,e){if(1&t&&(o.Sb(0,"div"),o.Ob(1,"hr",9),o.zc(2,Re,11,5,"p",10),o.fc(3,"async"),o.Rb()),2&t){const t=o.ec();o.zb(2),o.kc("ngForOf",o.gc(3,1,t.logs))}}let Le=(()=>{class t{constructor(t,e,n){this.angularFireAuth=t,this.afs=e,this.router=n,this.trackInit=!1}ngOnInit(){$('[data-toggle="tooltip"]').tooltip(),this.angularFireAuth.authState.subscribe(t=>{t&&(this.user=t,this.logsCollection=this.afs.collection("logs",t=>t.orderBy("timestamp","desc")),this.logs=this.logsCollection.snapshotChanges().pipe(Object(Oe.a)(t=>t.map(t=>{const e=t.payload.doc.data(),n=t.payload.doc.id,r=new Date(e.timestamp),i=r.getDate()+"/"+(1+r.getMonth())+" "+r.getHours()+":"+r.getMinutes();return Object.assign({id:n,timestampStr:i},e)}))),this.logUserAction(),this.trackRouteChange())})}login(){this.angularFireAuth.signInWithPopup(new Se.auth.GoogleAuthProvider)}logout(){this.angularFireAuth.signOut()}isAdmin(){return this.user&&"maferyt@gmail.com"===this.user.email}trackRouteChange(){this.trackInit||(this.trackInit=!0,this.router.events.subscribe(t=>{t instanceof _e.b&&setTimeout(()=>{this.logUserAction()},1e3)}))}logUserAction(){this.user&&!this.isAdmin()&&this.logsCollection.add({uid:this.user.uid,email:this.user.email,displayName:this.user.displayName,photoURL:this.user.photoURL,timestamp:Date.now(),url:location.pathname})}}return t.\u0275fac=function(e){return new(e||t)(o.Nb(xe.a),o.Nb(Te.a),o.Nb(_e.c))},t.\u0275cmp=o.Hb({type:t,selectors:[["app-root"]],decls:12,vars:5,consts:[[1,"login"],[4,"ngIf","ngIfElse"],["showLogin",""],["target","_blank","href","https://github.com/RaphaelYan/rpg-digital-tools","data-placement","left","data-toggle","tooltip","title","Check me on Github !",1,"link-github","tooltipped"],["src","assets/Octocat.png"],[1,"container"],[4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[2,"clear","both"],[4,"ngFor","ngForOf"]],template:function(t,e){if(1&t&&(o.Sb(0,"div",0),o.zc(1,Ne,4,1,"div",1),o.fc(2,"async"),o.zc(3,Pe,2,0,"ng-template",null,2,o.Ac),o.Rb(),o.Sb(5,"a",3),o.Ob(6,"img",4),o.Rb(),o.Sb(7,"header"),o.Ob(8,"app-side-nav"),o.Rb(),o.Sb(9,"main",5),o.Ob(10,"router-outlet"),o.Rb(),o.zc(11,De,4,3,"div",6)),2&t){const t=o.rc(4);o.zb(1),o.kc("ngIf",o.gc(2,3,e.angularFireAuth.user))("ngIfElse",t),o.zb(10),o.kc("ngIf",e.isAdmin())}},directives:[ce.k,je,_e.g,ce.j],pipes:[ce.b],styles:[".link-github[_ngcontent-%COMP%]{position:absolute;top:8px;right:15px}.link-github[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px}.container[_ngcontent-%COMP%]{padding-top:50px}.login[_ngcontent-%COMP%]{position:absolute;right:100px;top:9px}"]}),t})();var Me,Fe,Ue=n("spgP"),Ve=n("tk/3"),qe=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Me=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry_original__||this;return Me.apply(n,t)}},t.id="FunctionToString",t}(),He=n("mrSG"),Be=n("9AQC"),ze=n("9/Zf");!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(Fe||(Fe={}));var $e=function(){function t(t){var e=this;this._state=Fe.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(Fe.RESOLVED,t)},this._reject=function(t){e._setResult(Fe.REJECTED,t)},this._setResult=function(t,n){e._state===Fe.PENDING&&(Object(Be.m)(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){if(e._state!==Fe.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t.done||(e._state===Fe.RESOLVED&&t.onfulfilled&&t.onfulfilled(e._value),e._state===Fe.REJECTED&&t.onrejected&&t.onrejected(e._value),t.done=!0)}))}};try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}return t.resolve=function(e){return new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.all=function(e){return new t((function(n,r){if(Array.isArray(e))if(0!==e.length){var i=e.length,s=[];e.forEach((function(e,o){t.resolve(e).then((function(t){s[o]=t,0==(i-=1)&&n(s)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},t.prototype.then=function(e,n){var r=this;return new t((function(t,i){r._attachHandler({done:!1,onfulfilled:function(n){if(e)try{return void t(e(n))}catch(r){return void i(r)}else t(n)},onrejected:function(e){if(n)try{return void t(n(e))}catch(r){return void i(r)}else i(e)}})}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var n=this;return new t((function(t,r){var i,s;return n.then((function(t){s=!1,i=t,e&&e()}),(function(t){s=!0,i=t,e&&e()})).then((function(){s?r(i):t(i)}))}))},t.prototype.toString=function(){return"[object SyncPromise]"},t}(),We=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=Object(He.__spread)(e._breadcrumbs),n._tags=Object(He.__assign)({},e._tags),n._extra=Object(He.__assign)({},e._extra),n._contexts=Object(He.__assign)({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=Object(He.__spread)(e._eventProcessors)),n},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._notifyScopeListeners(),this},t.prototype.setTags=function(t){return this._tags=Object(He.__assign)(Object(He.__assign)({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=Object(He.__assign)(Object(He.__assign)({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=Object(He.__assign)(Object(He.__assign)({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=Object(He.__assign)(Object(He.__assign)({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return this._contexts=Object(He.__assign)(Object(He.__assign)({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t=this.getSpan();if(t&&t.spanRecorder&&t.spanRecorder.spans[0])return t.spanRecorder.spans[0]},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=Object(He.__assign)(Object(He.__assign)({},this._tags),e._tags),this._extra=Object(He.__assign)(Object(He.__assign)({},this._extra),e._extra),this._contexts=Object(He.__assign)(Object(He.__assign)({},this._contexts),e._contexts),e._user&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint)):Object(Be.h)(e)&&(e=e,this._tags=Object(He.__assign)(Object(He.__assign)({},this._tags),e.tags),this._extra=Object(He.__assign)(Object(He.__assign)({},this._extra),e.extra),this._contexts=Object(He.__assign)(Object(He.__assign)({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n=Object(He.__assign)({timestamp:Object(ze.l)()},t);return this._breadcrumbs=void 0!==e&&e>=0?Object(He.__spread)(this._breadcrumbs,[n]).slice(-e):Object(He.__spread)(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){return this._extra&&Object.keys(this._extra).length&&(t.extra=Object(He.__assign)(Object(He.__assign)({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=Object(He.__assign)(Object(He.__assign)({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=Object(He.__assign)(Object(He.__assign)({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=Object(He.__assign)(Object(He.__assign)({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span&&(t.contexts=Object(He.__assign)({trace:this._span.getTraceContext()},t.contexts)),this._applyFingerprint(t),t.breadcrumbs=Object(He.__spread)(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(Object(He.__spread)(Ge(),this._eventProcessors),t,e)},t.prototype._notifyEventProcessors=function(t,e,n,r){var i=this;return void 0===r&&(r=0),new $e((function(s,o){var a=t[r];if(null===e||"function"!=typeof a)s(e);else{var u=a(Object(He.__assign)({},e),n);Object(Be.m)(u)?u.then((function(e){return i._notifyEventProcessors(t,e,n,r+1).then(s)})).then(null,o):i._notifyEventProcessors(t,u,n,r+1).then(s).then(null,o)}}))},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,setTimeout((function(){t._scopeListeners.forEach((function(e){e(t)})),t._notifyingListeners=!1})))},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();function Ge(){var t=Object(ze.f)();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function Qe(t){Ge().push(t)}var Ke=Object(ze.f)(),Ye="Sentry Logger ",Xe=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(ze.c)((function(){Ke.console.log(Ye+"[Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(ze.c)((function(){Ke.console.warn(Ye+"[Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Object(ze.c)((function(){Ke.console.error(Ye+"[Error]: "+t.join(" "))}))},t}();Ke.__SENTRY__=Ke.__SENTRY__||{};var Ze=Ke.__SENTRY__.logger||(Ke.__SENTRY__.logger=new Xe),Je=function(){function t(t,e,n){void 0===e&&(e=new We),void 0===n&&(n=3),this._version=n,this._stack=[],this._stack.push({client:t,scope:e}),this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=this.getStack(),e=We.clone(t.length>0?t[t.length-1].scope:void 0);return this.getStack().push({client:this.getClient(),scope:e}),e},t.prototype.popScope=function(){return void 0!==this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=Object(ze.m)(),r=e;if(!e){var i=void 0;try{throw new Error("Sentry syntheticException")}catch(t){i=t}r={originalException:t,syntheticException:i}}return this._invokeClient("captureException",t,Object(He.__assign)(Object(He.__assign)({},r),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var r=this._lastEventId=Object(ze.m)(),i=n;if(!n){var s=void 0;try{throw new Error(t)}catch(o){s=o}i={originalException:t,syntheticException:s}}return this._invokeClient("captureMessage",t,e,Object(He.__assign)(Object(He.__assign)({},i),{event_id:r})),r},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=Object(ze.m)();return this._invokeClient("captureEvent",t,Object(He.__assign)(Object(He.__assign)({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop();if(n.scope&&n.client){var r=n.client.getOptions&&n.client.getOptions()||{},i=r.beforeBreadcrumb,s=void 0===i?null:i,o=r.maxBreadcrumbs,a=void 0===o?100:o;if(!(a<=0)){var u=Object(ze.l)(),c=Object(He.__assign)({timestamp:u},t),l=s?Object(ze.c)((function(){return s(c,e)})):c;null!==l&&n.scope.addBreadcrumb(l,Math.min(a,100))}}},t.prototype.setUser=function(t){var e=this.getStackTop();e.scope&&e.scope.setUser(t)},t.prototype.setTags=function(t){var e=this.getStackTop();e.scope&&e.scope.setTags(t)},t.prototype.setExtras=function(t){var e=this.getStackTop();e.scope&&e.scope.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getStackTop();n.scope&&n.scope.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop();e.scope&&e.client&&t(e.scope)},t.prototype.run=function(t){var e=en(this);try{t(this)}finally{en(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(n){return Ze.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t){return this._callExtensionMethod("startTransaction",t)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype._invokeClient=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=this.getStackTop();i&&i.client&&i.client[t]&&(e=i.client)[t].apply(e,Object(He.__spread)(n,[i.scope]))},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=tn(),i=r.__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[t])return i.extensions[t].apply(this,e);Ze.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function tn(){var t=Object(ze.f)();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function en(t){var e=tn(),n=sn(e);return on(e,t),n}function nn(){var t=tn();return rn(t)&&!sn(t).isOlderThan(3)||on(t,new Je),Object(ze.i)()?function(t){try{var e=tn().__SENTRY__;if(!e||!e.extensions||!e.extensions.domain)return sn(t);var n=e.extensions.domain.active;if(!n)return sn(t);if(!rn(n)||sn(n).isOlderThan(3)){var r=sn(t).getStackTop();on(n,new Je(r.client,We.clone(r.scope)))}return sn(n)}catch(i){return sn(t)}}(t):sn(t)}function rn(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function sn(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new Je),t.__SENTRY__.hub}function on(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}var an=n("+924"),un=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],cn=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){Qe((function(e){var n=nn();if(!n)return e;var r=n.getIntegration(t);if(r){var i=n.getClient(),s=i?i.getOptions():{},o=r._mergeOptions(s);if(r._shouldDropEvent(e,o))return null}return e}))},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(Ze.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Object(ze.d)(t)),!0):this._isIgnoredError(t,e)?(Ze.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Object(ze.d)(t)),!0):this._isDeniedUrl(t,e)?(Ze.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Object(ze.d)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isAllowedUrl(t,e)&&(Ze.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Object(ze.d)(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(n){return!1}},t.prototype._isIgnoredError=function(t,e){return!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some((function(t){return e.ignoreErrors.some((function(e){return Object(an.a)(t,e)}))}))},t.prototype._isDeniedUrl=function(t,e){if(!e.denyUrls||!e.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.denyUrls.some((function(t){return Object(an.a)(n,t)}))},t.prototype._isAllowedUrl=function(t,e){if(!e.allowUrls||!e.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.allowUrls.some((function(t){return Object(an.a)(n,t)}))},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{allowUrls:Object(He.__spread)(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:Object(He.__spread)(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:Object(He.__spread)(this._options.ignoreErrors||[],t.ignoreErrors||[],un),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,r=e.value,i=void 0===r?"":r;return[""+i,(void 0===n?"":n)+": "+i]}catch(s){return Ze.error("Cannot extract message for event "+Object(ze.d)(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(r){return Ze.error("Cannot extract url for event "+Object(ze.d)(t)),null}},t.id="InboundFilters",t}(),ln=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t}),hn=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,ln(r,n.prototype),r}return Object(He.__extends)(e,t),e}(Error),fn=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,dn=function(){function t(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.path,r=e.pass,i=e.port;return e.protocol+"://"+e.user+(t&&r?":"+r:"")+"@"+e.host+(i?":"+i:"")+"/"+(n?n+"/":n)+e.projectId},t.prototype._fromString=function(t){var e=fn.exec(t);if(!e)throw new hn("Invalid Dsn");var n=Object(He.__read)(e.slice(1),6),r=n[0],i=n[1],s=n[2],o=void 0===s?"":s,a=n[3],u=n[4],c=void 0===u?"":u,l="",h=n[5],f=h.split("/");if(f.length>1&&(l=f.slice(0,-1).join("/"),h=f.pop()),h){var d=h.match(/^\d+/);d&&(h=d[0])}this._fromComponents({host:a,pass:o,path:l,projectId:h,port:c,protocol:r,user:i})},t.prototype._fromComponents=function(t){this.protocol=t.protocol,this.user=t.user,this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","user","host","projectId"].forEach((function(e){if(!t[e])throw new hn("Invalid Dsn: "+e+" missing")})),!this.projectId.match(/^\d+$/))throw new hn("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new hn("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new hn("Invalid Dsn: Invalid port "+this.port)},t}(),pn=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t)return!0;return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}();function gn(t,e,n){if(e in t){var r=t[e],i=n(r);if("function"==typeof i)try{i.prototype=i.prototype||{},Object.defineProperties(i,{__sentry_original__:{enumerable:!1,value:r}})}catch(s){}t[e]=i}}function yn(t){if(Object(Be.d)(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}if(Object(Be.f)(t)){var i=t,s={};s.type=i.type;try{s.target=Object(Be.c)(i.target)?Object(ze.h)(i.target):Object.prototype.toString.call(i.target)}catch(o){s.target="<unknown>"}try{s.currentTarget=Object(Be.c)(i.currentTarget)?Object(ze.h)(i.currentTarget):Object.prototype.toString.call(i.currentTarget)}catch(o){s.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&Object(Be.g)(t,CustomEvent)&&(s.detail=i.detail),i)Object.prototype.hasOwnProperty.call(i,r)&&(s[r]=i);return s}return t}function mn(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var r=bn(t,e);return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(r))>n?mn(t,e-1,n):r}function vn(t,e){return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":Object(Be.l)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+Object(ze.e)(t)+"]":t}function bn(t,e){try{return JSON.parse(JSON.stringify(t,(function(t,n){return function t(e,n,r,i){if(void 0===r&&(r=1/0),void 0===i&&(i=new pn),0===r)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=vn(t);return Object(Be.i)(n)?n:e}(n);if(null!=n&&"function"==typeof n.toJSON)return n.toJSON();var s=vn(n,e);if(Object(Be.i)(s))return s;var o=yn(n),a=Array.isArray(n)?[]:{};if(i.memoize(n))return"[Circular ~]";for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(a[u]=t(u,o[u],r-1,i));return i.unmemoize(n),a}(t,n,e)})))}catch(n){return"**non-serializable**"}}function _n(t,e){void 0===e&&(e=40);var n=Object.keys(yn(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return Object(an.d)(n[0],e);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>e))return r===n.length?i:Object(an.d)(i,e)}return""}function wn(t){var e,n;if(Object(Be.h)(t)){var r=t,i={};try{for(var s=Object(He.__values)(Object.keys(r)),o=s.next();!o.done;o=s.next()){var a=o.value;void 0!==r[a]&&(i[a]=wn(r[a]))}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return i}return Array.isArray(t)?t.map(wn):t}var En,Sn=[],On=function(){function t(t,e){this._integrations={},this._processing=!1,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new dn(e.dsn))}return t.prototype.captureException=function(t,e,n){var r=this,i=e&&e.event_id;return this._processing=!0,this._getBackend().eventFromException(t,e).then((function(t){i=r.captureEvent(t,e,n)})),i},t.prototype.captureMessage=function(t,e,n,r){var i=this,s=n&&n.event_id;return this._processing=!0,(Object(Be.i)(t)?this._getBackend().eventFromMessage(""+t,e,n):this._getBackend().eventFromException(t,n)).then((function(t){s=i.captureEvent(t,n,r)})),s},t.prototype.captureEvent=function(t,e,n){var r=this,i=e&&e.event_id;return this._processing=!0,this._processEvent(t,e,n).then((function(t){i=t&&t.event_id,r._processing=!1})).then(null,(function(t){Ze.error(t),r._processing=!1})),i},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then((function(n){return clearInterval(n.interval),e._getBackend().getTransport().close(t).then((function(t){return n.ready&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.setupIntegrations=function(){var t;this._isEnabled()&&(this._integrations=(t={},function(t){var e=t.defaultIntegrations&&Object(He.__spread)(t.defaultIntegrations)||[],n=t.integrations,r=[];if(Array.isArray(n)){var i=n.map((function(t){return t.name})),s=[];e.forEach((function(t){-1===i.indexOf(t.name)&&-1===s.indexOf(t.name)&&(r.push(t),s.push(t.name))})),n.forEach((function(t){-1===s.indexOf(t.name)&&(r.push(t),s.push(t.name))}))}else"function"==typeof n?(r=n(e),r=Array.isArray(r)?r:[r]):r=Object(He.__spread)(e);var o=r.map((function(t){return t.name}));return-1!==o.indexOf("Debug")&&r.push.apply(r,Object(He.__spread)(r.splice(o.indexOf("Debug"),1))),r}(this._options).forEach((function(e){t[e.name]=e,function(t){-1===Sn.indexOf(t.name)&&(t.setupOnce(Qe,nn),Sn.push(t.name),Ze.log("Integration installed: "+t.name))}(e)})),t))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return Ze.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._isClientProcessing=function(t){var e=this;return new $e((function(n){var r=0,i=0;clearInterval(i),i=setInterval((function(){e._processing?(r+=1,t&&r>=t&&n({interval:i,ready:!1})):n({interval:i,ready:!0})}),1)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var r=this,i=this.getOptions().normalizeDepth,s=void 0===i?3:i,o=Object(He.__assign)(Object(He.__assign)({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:Object(ze.m)()),timestamp:t.timestamp||Object(ze.l)()});this._applyClientOptions(o),this._applyIntegrationsMetadata(o);var a=e;n&&n.captureContext&&(a=We.clone(a).update(n.captureContext));var u=$e.resolve(o);return a&&(u=a.applyToEvent(o,n)),u.then((function(t){return"number"==typeof s&&s>0?r._normalizeEvent(t,s):t}))},t.prototype._normalizeEvent=function(t,e){if(!t)return null;var n=Object(He.__assign)(Object(He.__assign)(Object(He.__assign)(Object(He.__assign)(Object(He.__assign)({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((function(t){return Object(He.__assign)(Object(He.__assign)({},t),t.data&&{data:bn(t.data,e)})}))}),t.user&&{user:bn(t.user,e)}),t.contexts&&{contexts:bn(t.contexts,e)}),t.extra&&{extra:bn(t.extra,e)});return t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace),n},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),n=e.environment,r=e.release,i=e.dist,s=e.maxValueLength,o=void 0===s?250:s;void 0===t.environment&&void 0!==n&&(t.environment=n),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==i&&(t.dist=i),t.message&&(t.message=Object(an.d)(t.message,o));var a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=Object(an.d)(a.value,o));var u=t.request;u&&u.url&&(u.url=Object(an.d)(u.url,o))},t.prototype._applyIntegrationsMetadata=function(t){var e=t.sdk,n=Object.keys(this._integrations);e&&n.length>0&&(e.integrations=n)},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._processEvent=function(t,e,n){var r=this,i=this.getOptions(),s=i.beforeSend,o=i.sampleRate;if(!this._isEnabled())return $e.reject("SDK not enabled, will not send event.");var a="transaction"===t.type;return!a&&"number"==typeof o&&Math.random()>o?$e.reject("This event has been sampled, will not send event."):new $e((function(i,o){r._prepareEvent(t,n,e).then((function(t){if(null!==t){var n=t;if(e&&e.data&&!0===e.data.__sentry__||!s||a)return r._sendEvent(n),void i(n);var u=s(t,e);if(void 0===u)Ze.error("`beforeSend` method has to return `null` or a valid event.");else if(Object(Be.m)(u))r._handleAsyncBeforeSend(u,i,o);else{if(null===(n=u))return Ze.log("`beforeSend` returned `null`, will not send event."),void i(null);r._sendEvent(n),i(n)}}else o("An event processor returned null, will not send event.")})).then(null,(function(t){r.captureException(t,{data:{__sentry__:!0},originalException:t}),o("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)}))}))},t.prototype._handleAsyncBeforeSend=function(t,e,n){var r=this;t.then((function(t){null!==t?(r._sendEvent(t),e(t)):n("`beforeSend` returned `null`, will not send event.")})).then(null,(function(t){n("beforeSend rejected with "+t)}))},t}();!function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(En||(En={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(En||(En={}));var xn,Tn=function(){function t(){}return t.prototype.sendEvent=function(t){return $e.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:En.Skipped})},t.prototype.close=function(t){return $e.resolve(!0)},t}(),In=function(){function t(t){this._options=t,this._options.dsn||Ze.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(t,e){throw new hn("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new hn("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,(function(t){Ze.error("Error while sending event: "+t)}))},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new Tn},t}();function Cn(){if(!("fetch"in Object(ze.f)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function kn(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function An(){if(!Cn())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}!function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(xn||(xn={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(xn||(xn={}));var jn=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Nn=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js))(?::(\d+))?(?::(\d+))?\s*$/i,Pn=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Rn=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Dn=/\((\S*)(?::(\d+))(?::(\d+))\)/,Ln=/Minified React error #\d+;/i;function Mn(t){var e=null,n=0;t&&("number"==typeof t.framesToPop?n=t.framesToPop:Ln.test(t.message)&&(n=1));try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,r=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=t.stacktrace.split("\n"),s=[],o=0;o<i.length;o+=2){var a=null;(e=n.exec(i[o]))?a={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=r.exec(i[o]))&&(a={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),a&&(!a.func&&a.line&&(a.func="?"),s.push(a))}return s.length?{message:Un(t),name:t.name,stack:s}:null}(t))return Fn(e,n)}catch(r){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,r,i=[],s=t.stack.split("\n"),o=0;o<s.length;++o){if(n=jn.exec(s[o])){var a=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=Dn.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||"?",args:a?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=Pn.exec(s[o]))r={url:n[2],func:n[1]||"?",args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=Nn.exec(s[o])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=Rn.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==o||n[5]||void 0===t.columnNumber||(i[0].column=t.columnNumber+1),r={url:n[3],func:n[1]||"?",args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func="?"),i.push(r)}return i.length?{message:Un(t),name:t.name,stack:i}:null}(t))return Fn(e,n)}catch(r){}return{message:Un(t),name:t&&t.name,stack:[],failed:!0}}function Fn(t,e){try{return Object(He.__assign)(Object(He.__assign)({},t),{stack:t.stack.slice(e)})}catch(n){return t}}function Un(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function Vn(t){var e=Hn(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function qn(t){return{exception:{values:[Vn(t)]}}}function Hn(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",r=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==r.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,50).map((function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}})).reverse()}function Bn(t,e,n){var r;if(void 0===n&&(n={}),Object(Be.e)(t)&&t.error)return qn(Mn(t=t.error));if(Object(Be.a)(t)||Object(Be.b)(t)){var i=t,s=i.name||(Object(Be.a)(i)?"DOMError":"DOMException"),o=i.message?s+": "+i.message:s;return r=zn(o,e,n),Object(ze.b)(r,o),r}return Object(Be.d)(t)?r=qn(Mn(t)):Object(Be.h)(t)||Object(Be.f)(t)?(r=function(t,e,n){var r={exception:{values:[{type:Object(Be.f)(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+_n(t)}]},extra:{__serialized__:mn(t)}};if(e){var i=Hn(Mn(e).stack);r.stacktrace={frames:i}}return r}(t,e,n.rejection),Object(ze.a)(r,{synthetic:!0}),r):(r=zn(t,e,n),Object(ze.b)(r,""+t,void 0),Object(ze.a)(r,{synthetic:!0}),r)}function zn(t,e,n){void 0===n&&(n={});var r={message:t};if(n.attachStacktrace&&e){var i=Hn(Mn(e).stack);r.stacktrace={frames:i}}return r}function $n(t,e){var n="transaction"===t.type,r={body:JSON.stringify(t),url:n?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(n){var i=JSON.stringify({event_id:t.event_id,sent_at:new Date(1e3*Object(ze.l)()).toISOString()}),s=JSON.stringify({type:t.type});r.body=i+"\n"+s+"\n"+r.body}return r}var Wn=function(){function t(t){this.dsn=t,this._dsnObject=new dn(t)}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getBaseApiEndpoint=function(){var t=this._dsnObject;return(t.protocol?t.protocol+":":"")+"//"+t.host+(t.port?":"+t.port:"")+(t.path?"/"+t.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+t+"/"+e),r.push("sentry_key="+n.user),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var i in r.push("dsn="+e.toString()),t)if("user"===i){if(!t.user)continue;t.user.name&&r.push("name="+encodeURIComponent(t.user.name)),t.user.email&&r.push("email="+encodeURIComponent(t.user.email))}else r.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return r.length?n+"?"+r.join("&"):n},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(t){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+t+"/"},t.prototype._encodedAuth=function(){var t;return t={sentry_key:this._dsnObject.user,sentry_version:"7"},Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},t}(),Gn=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then((function(){return e.remove(t)})).then(null,(function(){return e.remove(t).then(null,(function(){}))})),t):$e.reject(new hn("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new $e((function(n){var r=setTimeout((function(){t&&t>0&&n(!1)}),t);$e.all(e._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},t}(),Qn=function(){function t(t){this.options=t,this._buffer=new Gn(30),this._api=new Wn(this.options.dsn),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new hn("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this._buffer.drain(t)},t}(),Kn=Object(ze.f)(),Yn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disabledUntil=new Date(Date.now()),e}return Object(He.__extends)(e,t),e.prototype.sendEvent=function(t){var e=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:t,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var n=$n(t,this._api),r={body:n.body,method:"POST",referrerPolicy:An()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add(new $e((function(t,i){Kn.fetch(n.url,r).then((function(n){var r=En.fromHttpCode(n.status);if(r!==En.Success){if(r===En.RateLimit){var s=Date.now(),o=n.headers.get("Retry-After");e._disabledUntil=new Date(s+Object(ze.j)(s,o)),Ze.warn("Too many requests, backing off till: "+e._disabledUntil)}i(n)}else t({status:r})})).catch(i)})))},e}(Qn),Xn=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._disabledUntil=new Date(Date.now()),e}return Object(He.__extends)(e,t),e.prototype.sendEvent=function(t){var e=this;if(new Date(Date.now())<this._disabledUntil)return Promise.reject({event:t,reason:"Transport locked till "+this._disabledUntil+" due to too many requests.",status:429});var n=$n(t,this._api);return this._buffer.add(new $e((function(t,r){var i=new XMLHttpRequest;for(var s in i.onreadystatechange=function(){if(4===i.readyState){var n=En.fromHttpCode(i.status);if(n!==En.Success){if(n===En.RateLimit){var s=Date.now(),o=i.getResponseHeader("Retry-After");e._disabledUntil=new Date(s+Object(ze.j)(s,o)),Ze.warn("Too many requests, backing off till: "+e._disabledUntil)}r(i)}else t({status:n})}},i.open("POST",n.url),e.options.headers)e.options.headers.hasOwnProperty(s)&&i.setRequestHeader(s,e.options.headers[s]);i.send(n.body)})))},e}(Qn),Zn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(He.__extends)(e,t),e.prototype.eventFromException=function(t,e){return function(t,e,n){var r=Bn(e,n&&n.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return Object(ze.a)(r,{handled:!0,type:"generic"}),r.level=xn.Error,n&&n.event_id&&(r.event_id=n.event_id),$e.resolve(r)}(this._options,t,e)},e.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=xn.Info),function(t,e,n,r){void 0===n&&(n=xn.Info);var i=zn(e,r&&r.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return i.level=n,r&&r.event_id&&(i.event_id=r.event_id),$e.resolve(i)}(this._options,t,e,n)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=Object(He.__assign)(Object(He.__assign)({},this._options.transportOptions),{dsn:this._options.dsn});return this._options.transport?new this._options.transport(e):Cn()?new Yn(e):new Xn(e)},e}(In);function Jn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=nn();if(r&&r[t])return r[t].apply(r,Object(He.__spread)(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function tr(t,e){var n;try{throw new Error("Sentry syntheticException")}catch(t){n=t}return Jn("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}function er(t){Jn("withScope",t)}var nr=0;function rr(){return nr>0}function ir(){nr+=1,setTimeout((function(){nr-=1}))}function sr(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(s){return t}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var i=r.map((function(t){return sr(t,e)}));return t.handleEvent?t.handleEvent.apply(this,i):t.apply(this,i)}catch(s){throw ir(),er((function(t){t.addEventProcessor((function(t){var n=Object(He.__assign)({},t);return e.mechanism&&(Object(ze.b)(n,void 0,void 0),Object(ze.a)(n,e.mechanism)),n.extra=Object(He.__assign)(Object(He.__assign)({},n.extra),{arguments:r}),n})),tr(s)})),s}};try{for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}catch(o){}t.prototype=t.prototype||{},r.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return t.name}})}catch(o){}return r}var or,ar=Object(ze.f)(),ur={},cr={};function lr(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(ur[t.type]=ur[t.type]||[],ur[t.type].push(t.callback),function(t){if(!cr[t])switch(cr[t]=!0,t){case"console":"console"in ar&&["debug","info","warn","error","log","assert"].forEach((function(t){t in ar.console&&gn(ar.console,t,(function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];hr("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,ar.console,n)}}))}));break;case"dom":"document"in ar&&(ar.document.addEventListener("click",mr("click",hr.bind(null,"dom")),!1),ar.document.addEventListener("keypress",vr(hr.bind(null,"dom")),!1),["EventTarget","Node"].forEach((function(t){var e=ar[t]&&ar[t].prototype;e&&e.hasOwnProperty&&e.hasOwnProperty("addEventListener")&&(gn(e,"addEventListener",(function(t){return function(e,n,r){return n&&n.handleEvent?("click"===e&&gn(n,"handleEvent",(function(t){return function(e){return mr("click",hr.bind(null,"dom"))(e),t.call(this,e)}})),"keypress"===e&&gn(n,"handleEvent",(function(t){return function(e){return vr(hr.bind(null,"dom"))(e),t.call(this,e)}}))):("click"===e&&mr("click",hr.bind(null,"dom"),!0)(this),"keypress"===e&&vr(hr.bind(null,"dom"))(this)),t.call(this,e,n,r)}})),gn(e,"removeEventListener",(function(t){return function(e,n,r){try{t.call(this,e,n.__sentry_wrapped__,r)}catch(i){}return t.call(this,e,n,r)}})))})));break;case"xhr":!function(){if("XMLHttpRequest"in ar){var t=XMLHttpRequest.prototype;gn(t,"open",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,i=e[1];r.__sentry_xhr__={method:Object(Be.k)(e[0])?e[0].toUpperCase():e[0],url:e[1]},Object(Be.k)(i)&&"POST"===r.__sentry_xhr__.method&&i.match(/sentry_key/)&&(r.__sentry_own_request__=!0);var s=function(){if(4===r.readyState){try{r.__sentry_xhr__&&(r.__sentry_xhr__.status_code=r.status)}catch(t){}hr("xhr",{args:e,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:r})}};return"onreadystatechange"in r&&"function"==typeof r.onreadystatechange?gn(r,"onreadystatechange",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return s(),t.apply(r,e)}})):r.addEventListener("readystatechange",s),t.apply(r,e)}})),gn(t,"send",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return hr("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}}))}}();break;case"fetch":(function(){if(!Cn())return!1;var t=Object(ze.f)();if(kn(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"==typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=kn(r.contentWindow.fetch)),n.head.removeChild(r)}catch(i){Ze.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return e})()&&gn(ar,"fetch",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:fr(e),url:dr(e)},startTimestamp:Date.now()};return hr("fetch",Object(He.__assign)({},r)),t.apply(ar,e).then((function(t){return hr("fetch",Object(He.__assign)(Object(He.__assign)({},r),{endTimestamp:Date.now(),response:t})),t}),(function(t){throw hr("fetch",Object(He.__assign)(Object(He.__assign)({},r),{endTimestamp:Date.now(),error:t})),t}))}}));break;case"history":!function(){if(function(){var t=Object(ze.f)(),e=t.chrome;return!(e&&e.app&&e.app.runtime||!("history"in t)||!t.history.pushState||!t.history.replaceState)}()){var t=ar.onpopstate;ar.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=ar.location.href,i=or;if(or=r,hr("history",{from:i,to:r}),t)return t.apply(this,e)},gn(ar.history,"pushState",e),gn(ar.history,"replaceState",e)}function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length>2?e[2]:void 0;if(r){var i=or,s=String(r);or=s,hr("history",{from:i,to:s})}return t.apply(this,e)}}}();break;case"error":br=ar.onerror,ar.onerror=function(t,e,n,r,i){return hr("error",{column:r,error:i,line:n,msg:t,url:e}),!!br&&br.apply(this,arguments)};break;case"unhandledrejection":_r=ar.onunhandledrejection,ar.onunhandledrejection=function(t){return hr("unhandledrejection",t),!_r||_r.apply(this,arguments)};break;default:Ze.warn("unknown instrumentation type:",t)}}(t.type))}function hr(t,e){var n,r;if(t&&ur[t])try{for(var i=Object(He.__values)(ur[t]||[]),s=i.next();!s.done;s=i.next()){var o=s.value;try{o(e)}catch(a){Ze.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+Object(ze.e)(o)+"\nError: "+a)}}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function fr(t){return void 0===t&&(t=[]),"Request"in ar&&Object(Be.g)(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function dr(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in ar&&Object(Be.g)(t[0],Request)?t[0].url:String(t[0])}var pr,gr,yr=0;function mr(t,e,n){return void 0===n&&(n=!1),function(r){pr=void 0,r&&gr!==r&&(gr=r,yr&&clearTimeout(yr),n?yr=setTimeout((function(){e({event:r,name:t})})):e({event:r,name:t}))}}function vr(t){return function(e){var n;try{n=e.target}catch(i){return}var r=n&&n.tagName;r&&("INPUT"===r||"TEXTAREA"===r||n.isContentEditable)&&(pr||mr("input",t)(e),clearTimeout(pr),pr=setTimeout((function(){pr=void 0}),1e3))}}var br=null,_r=null,wr=function(){function t(e){this.name=t.id,this._options=Object(He.__assign)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&nn().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Object(ze.d)(t)},{event:t})},t.prototype.setupOnce=function(){var t=this;this._options.console&&lr({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._consoleBreadcrumb.apply(t,Object(He.__spread)(e))},type:"console"}),this._options.dom&&lr({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._domBreadcrumb.apply(t,Object(He.__spread)(e))},type:"dom"}),this._options.xhr&&lr({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._xhrBreadcrumb.apply(t,Object(He.__spread)(e))},type:"xhr"}),this._options.fetch&&lr({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._fetchBreadcrumb.apply(t,Object(He.__spread)(e))},type:"fetch"}),this._options.history&&lr({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._historyBreadcrumb.apply(t,Object(He.__spread)(e))},type:"history"})},t.prototype._consoleBreadcrumb=function(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:xn.fromString(t.level),message:Object(an.b)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+(Object(an.b)(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}nn().addBreadcrumb(e,{input:t.args,level:t.level})},t.prototype._domBreadcrumb=function(t){var e;try{e=t.event.target?Object(ze.h)(t.event.target):Object(ze.h)(t.event)}catch(n){e="<unknown>"}0!==e.length&&nn().addBreadcrumb({category:"ui."+t.name,message:e},{event:t.event,name:t.name})},t.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;nn().addBreadcrumb({category:"xhr",data:t.xhr.__sentry_xhr__,type:"http"},{xhr:t.xhr})}},t.prototype._fetchBreadcrumb=function(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?nn().addBreadcrumb({category:"fetch",data:t.fetchData,level:xn.Error,type:"http"},{data:t.error,input:t.args}):nn().addBreadcrumb({category:"fetch",data:Object(He.__assign)(Object(He.__assign)({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))},t.prototype._historyBreadcrumb=function(t){var e=Object(ze.f)(),n=t.from,r=t.to,i=Object(ze.k)(e.location.href),s=Object(ze.k)(n),o=Object(ze.k)(r);s.path||(s=i),i.protocol===o.protocol&&i.host===o.host&&(r=o.relative),i.protocol===s.protocol&&i.host===s.host&&(n=s.relative),nn().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},t.id="Breadcrumbs",t}(),Er=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Zn,e)||this}return Object(He.__extends)(e,t),e.prototype.showReportDialog=function(t){void 0===t&&(t={}),Object(ze.f)().document&&(this._isEnabled()?function(t){if(void 0===t&&(t={}),t.eventId)if(t.dsn){var e=document.createElement("script");e.async=!0,e.src=new Wn(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(e.onload=t.onLoad),(document.head||document.body).appendChild(e)}else Ze.error("Missing dsn option in showReportDialog call");else Ze.error("Missing eventId option in showReportDialog call")}(Object(He.__assign)(Object(He.__assign)({},t),{dsn:t.dsn||this.getDsn()})):Ze.error("Trying to call showReportDialog with Sentry Client disabled"))},e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"javascript",e.sdk=Object(He.__assign)(Object(He.__assign)({},e.sdk),{name:"sentry.javascript.browser",packages:Object(He.__spread)(e.sdk&&e.sdk.packages||[],[{name:"npm:@sentry/browser",version:"5.22.3"}]),version:"5.22.3"}),t.prototype._prepareEvent.call(this,e,n,r)},e.prototype._sendEvent=function(e){var n=this.getIntegration(wr);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e}(On),Sr=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Or=function(){function t(e){this.name=t.id,this._options=Object(He.__assign)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var t=Object(ze.f)();this._options.setTimeout&&gn(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&gn(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&gn(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&gn(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:Sr).forEach(this._wrapEventTarget.bind(this))},t.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=sr(r,{mechanism:{data:{function:Object(ze.e)(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype._wrapRAF=function(t){return function(e){return t.call(this,sr(e,{mechanism:{data:{function:"requestAnimationFrame",handler:Object(ze.e)(t)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(t){var e=Object(ze.f)(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(gn(n,"addEventListener",(function(e){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=sr(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:Object(ze.e)(r),target:t},handled:!0,type:"instrument"}}))}catch(s){}return e.call(this,n,sr(r,{mechanism:{data:{function:"addEventListener",handler:Object(ze.e)(r),target:t},handled:!0,type:"instrument"}}),i)}})),gn(n,"removeEventListener",(function(t){return function(e,n,r){try{t.call(this,e,n.__sentry_wrapped__,r)}catch(i){}return t.call(this,e,n,r)}})))},t.prototype._wrapXHR=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach((function(t){t in r&&"function"==typeof r[t]&&gn(r,t,(function(e){var n={mechanism:{data:{function:t,handler:Object(ze.e)(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(n.mechanism.data.handler=Object(ze.e)(e.__sentry_original__)),sr(e,n)}))})),t.apply(this,e)}},t.id="TryCatch",t}(),xr=function(){function t(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=Object(He.__assign)({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(Ze.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(Ze.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){var e=this;this._onErrorHandlerInstalled||(lr({callback:function(n){var r=n.error,i=nn(),s=i.getIntegration(t),o=r&&!0===r.__sentry_own_request__;if(s&&!rr()&&!o){var a=i.getClient(),u=Object(Be.i)(r)?e._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):e._enhanceEventWithInitialFrame(Bn(r,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);Object(ze.a)(u,{handled:!1,type:"onerror"}),i.captureEvent(u,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){var e=this;this._onUnhandledRejectionHandlerInstalled||(lr({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(c){}var i=nn(),s=i.getIntegration(t),o=r&&!0===r.__sentry_own_request__;if(!s||rr()||o)return!0;var a=i.getClient(),u=Object(Be.i)(r)?e._eventFromIncompleteRejection(r):Bn(r,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!0});u.level=xn.Error,Object(ze.a)(u,{handled:!1,type:"onunhandledrejection"}),i.captureEvent(u,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},t.prototype._eventFromIncompleteOnError=function(t,e,n,r){var i,s=Object(Be.e)(t)?t.message:t;if(Object(Be.k)(s)){var o=s.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);o&&(i=o[1],s=o[2])}return this._enhanceEventWithInitialFrame({exception:{values:[{type:i||"Error",value:s}]}},e,n,r)},t.prototype._eventFromIncompleteRejection=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+t}]}}},t.prototype._enhanceEventWithInitialFrame=function(t,e,n,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var i=isNaN(parseInt(r,10))?void 0:r,s=isNaN(parseInt(n,10))?void 0:n,o=Object(Be.k)(e)&&e.length>0?e:Object(ze.g)();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:i,filename:o,function:"?",in_app:!0,lineno:s}),t},t.id="GlobalHandlers",t}(),Tr=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||"cause",this._limit=e.limit||5}return t.prototype.setupOnce=function(){Qe((function(e,n){var r=nn().getIntegration(t);return r?r._handler(e,n):e}))},t.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&Object(Be.g)(e.originalException,Error)))return t;var n=this._walkErrorTree(e.originalException,this._key);return t.exception.values=Object(He.__spread)(n,t.exception.values),t},t.prototype._walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!Object(Be.g)(t[e],Error)||n.length+1>=this._limit)return n;var r=Vn(Mn(t[e]));return this._walkErrorTree(t[e],e,Object(He.__spread)([r],n))},t.id="LinkedErrors",t}(),Ir=Object(ze.f)(),Cr=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Qe((function(e){if(nn().getIntegration(t)){if(!Ir.navigator||!Ir.location)return e;var n=e.request||{};return n.url=n.url||Ir.location.href,n.headers=n.headers||{},n.headers["User-Agent"]=Ir.navigator.userAgent,Object(He.__assign)(Object(He.__assign)({},e),{request:n})}return e}))},t.id="UserAgent",t}(),kr=[new r.InboundFilters,new r.FunctionToString,new Or,new wr,new xr,new Tr,new Cr];function Ar(t){return"function"==typeof t}let jr=!1;const Nr={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else jr&&console.log("RxJS: Back to a better error behavior. Thank you. <3");jr=t},get useDeprecatedSynchronousErrorHandling(){return jr}};function Pr(t){setTimeout(()=>{throw t},0)}const Rr={closed:!0,next(t){},error(t){if(Nr.useDeprecatedSynchronousErrorHandling)throw t;Pr(t)},complete(){}},Dr=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))(),Lr=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let Mr=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:r,_unsubscribe:i,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Ar(i)){r&&(this._unsubscribe=void 0);try{i.call(this)}catch(a){e=a instanceof Lr?Fr(a.errors):[a]}}if(Dr(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(null!==(o=n)&&"object"==typeof o)try{n.unsubscribe()}catch(a){e=e||[],a instanceof Lr?e=e.concat(Fr(a.errors)):e.push(a)}}}var o;if(e)throw new Lr(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function Fr(t){return t.reduce((t,e)=>t.concat(e instanceof Lr?e.errors:e),[])}const Ur=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class Vr extends Mr{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=Rr;break;case 1:if(!t){this.destination=Rr;break}if("object"==typeof t){t instanceof Vr?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new qr(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new qr(this,t,e,n)}}[Ur](){return this}static create(t,e,n){const r=new Vr(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class qr extends Vr{constructor(t,e,n,r){let i;super(),this._parentSubscriber=t;let s=this;Ar(e)?i=e:e&&(i=e.next,n=e.error,r=e.complete,e!==Rr&&(s=Object.create(e),Ar(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=i,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;Nr.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=Nr;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Pr(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Pr(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);Nr.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),Nr.useDeprecatedSynchronousErrorHandling)throw n;Pr(n)}}__tryOrSetError(t,e,n){if(!Nr.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return Nr.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Pr(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const Hr=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function Br(t){return t}let zr=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof Vr)return t;if(t[Ur])return t[Ur]()}return t||e||n?new Vr(t,e,n):new Vr(Rr)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||Nr.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),Nr.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){Nr.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof Vr?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=$r(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[Hr](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?Br:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=$r(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function $r(t){if(t||(t=Nr.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const Wr=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class Gr extends Mr{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class Qr extends Vr{constructor(t){super(t),this.destination=t}}let Kr=(()=>{class t extends zr{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Ur](){return new Qr(this)}lift(t){const e=new Yr(this,this);return e.operator=t,e}next(t){if(this.closed)throw new Wr;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new Wr;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new Wr;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new Wr;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new Wr;return this.hasError?(t.error(this.thrownError),Mr.EMPTY):this.isStopped?(t.complete(),Mr.EMPTY):(this.observers.push(t),new Gr(this,t))}asObservable(){const t=new zr;return t.source=this,t}}return t.create=(t,e)=>new Yr(t,e),t})();class Yr extends Kr{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):Mr.EMPTY}}function Xr(t){return{toString:t}.toString()}const Zr="__annotations__",Jr="__parameters__",ti="__prop__metadata__";function ei(t,e,n,r,i){return Xr(()=>{const s=ni(e);function o(...t){if(this instanceof o)return s.call(this,...t),this;const e=new o(...t);return function(n){return i&&i(n,...t),(n.hasOwnProperty(Zr)?n[Zr]:Object.defineProperty(n,Zr,{value:[]})[Zr]).push(e),r&&r(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o})}function ni(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function ri(t,e,n){return Xr(()=>{const r=ni(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Jr)?t[Jr]:Object.defineProperty(t,Jr,{value:[]})[Jr];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function ii(t,e,n,r){return Xr(()=>{const i=ni(e);function s(...t){if(this instanceof s)return i.apply(this,t),this;const e=new s(...t);return function(n,i){const s=n.constructor,o=s.hasOwnProperty(ti)?s[ti]:Object.defineProperty(s,ti,{value:{}})[ti];o[i]=o.hasOwnProperty(i)&&o[i]||[],o[i].unshift(e),r&&r(n,i,...t)}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s})}const si=ri("Inject",t=>({token:t})),oi=ri("Optional"),ai=ri("Self"),ui=ri("SkipSelf"),ci=ri("Host"),li=ri("Attribute",t=>({attributeName:t}));var hi=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function fi(t){for(let e in t)if(t[e]===fi)return e;throw Error("Could not find renamed property on target object.")}function di(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function pi(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function gi(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function yi(t){return mi(t,t[bi])||mi(t,t[Ei])}function mi(t,e){return e&&e.token===t?e:null}function vi(t){return t&&(t.hasOwnProperty(_i)||t.hasOwnProperty(Si))?t[_i]:null}const bi=fi({"\u0275prov":fi}),_i=fi({"\u0275inj":fi}),wi=fi({"\u0275provFallback":fi}),Ei=fi({ngInjectableDef:fi}),Si=fi({ngInjectorDef:fi});function Oi(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Oi).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function xi(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const Ti=fi({__forward_ref__:fi});function Ii(t){return t.__forward_ref__=Ii,t.toString=function(){return Oi(this())},t}function Ci(t){return ki(t)?t():t}function ki(t){return"function"==typeof t&&t.hasOwnProperty(Ti)&&t.__forward_ref__===Ii}const Ai="undefined"!=typeof globalThis&&globalThis,ji="undefined"!=typeof window&&window,Ni="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Pi="undefined"!=typeof global&&global,Ri=Ai||Pi||ji||Ni;var Di=function(t){return t[t.Token=0]="Token",t[t.Attribute=1]="Attribute",t[t.ChangeDetectorRef=2]="ChangeDetectorRef",t[t.Invalid=3]="Invalid",t}({});function Li(){const t=Ri.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}const Mi=fi({"\u0275cmp":fi}),Fi=fi({"\u0275dir":fi}),Ui=fi({"\u0275pipe":fi}),Vi=fi({"\u0275mod":fi}),qi=fi({"\u0275fac":fi}),Hi=fi({__NG_ELEMENT_ID__:fi}),Bi=fi({provide:String,useValue:fi});let zi;function $i(t){const e=zi;return zi=t,e}function Wi(t,e=hi.Default){throw new Error("inject() must be called from an injection context")}function Gi(t,e=hi.Default){return(zi||Wi)(Ci(t),e)}function Qi(t){throw new Error("invalid")}function Ki(t){const e=[];for(let n=0;n<t.length;n++){const r=Ci(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=hi.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof oi||"Optional"===i.ngMetadataName||i===oi?n|=hi.Optional:i instanceof ui||"SkipSelf"===i.ngMetadataName||i===ui?n|=hi.SkipSelf:i instanceof ai||"Self"===i.ngMetadataName||i===ai?n|=hi.Self:t=i instanceof si||i===si?i.token:i}e.push(Gi(t,n))}else e.push(Gi(r))}return e}const Yi={"\u0275\u0275defineInjectable":pi,"\u0275\u0275defineInjector":gi,"\u0275\u0275inject":Gi,"\u0275\u0275getFactoryOf":function t(e){const n=e;if(ki(e))return()=>{const e=t(Ci(n));return e?e():null};const r=yi(n)||vi(n);return r&&void 0!==r.factory?r.factory:null},"\u0275\u0275invalidFactoryDep":Qi};class Xi{}function Zi(t,e){for(let n=0;n<t.length;n++)e.push(t[n])}function Ji(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ts(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function es(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function ns(t,e,n){let r=is(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function rs(t,e){const n=is(t,e);if(n>=0)return t[1|n]}function is(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}var ss=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),os=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const as={},us=[];let cs=0;function ls(t){return Xr(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===ss.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||us,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||os.Emulated,id:"c",styles:t.styles||us,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=cs++,n.inputs=ms(t.inputs,e),n.outputs=ms(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(fs):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(ds):null,n})}function hs(t,e,n){const r=t.\u0275cmp;r.directiveDefs=()=>e.map(fs),r.pipeDefs=()=>n.map(ds)}function fs(t){return _s(t)||ws(t)}function ds(t){return function(t){return t[Ui]||null}(t)}const ps={};function gs(t){const e={type:t.type,bootstrap:t.bootstrap||us,declarations:t.declarations||us,imports:t.imports||us,exports:t.exports||us,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&Xr(()=>{ps[t.id]=t.type}),e}function ys(t,e){return Xr(()=>{const n=function(t,e){const n=t[Vi]||null;if(!n)throw new Error(`Type ${Oi(t)} does not have '\u0275mod' property.`);return n}(t);n.declarations=e.declarations||us,n.imports=e.imports||us,n.exports=e.exports||us})}function ms(t,e){if(null==t)return as;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const vs=ls;function bs(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function _s(t){return t[Mi]||null}function ws(t){return t[Fi]||null}function Es(t,e){return t.hasOwnProperty(qi)?t[qi]:null}function Ss(t){return Array.isArray(t)&&"object"==typeof t[1]}function Os(t){return Array.isArray(t)&&!0===t[1]}function xs(t){return 0!=(8&t.flags)}function Ts(t){return 2==(2&t.flags)}function Is(t){return 1==(1&t.flags)}function Cs(t){return null!==t.template}function ks(t){return 0!=(512&t[2])}class As{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function js(){return Ns}function Ns(t){return t.type.prototype.ngOnChanges&&(t.setInput=Rs),Ps}function Ps(){const t=Ds(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===as)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Rs(t,e,n,r){const i=Ds(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:as,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new As(u&&u.currentValue,e,o===as),t[r]=e}function Ds(t){return t.__ngSimpleChanges__||null}function Ls(){return"undefined"!=typeof document?document:void 0}function Ms(t){return!!t.listen}function Fs(t){for(;Array.isArray(t);)t=t[0];return t}function Us(t,e){return Fs(e[t+20])}function Vs(t,e){return Fs(e[t.index])}function qs(t,e){return t.data[e+20]}function Hs(t,e){return t[e+20]}function Bs(t,e){const n=e[t];return Ss(n)?n:n[0]}function zs(t){return 128==(128&t[2])}function $s(t,e){return null===t||null==e?null:t[e]}function Ws(t){t[18]=0}function Gs(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}js.ngInherit=!0;const Qs={lFrame:wo(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Ks(){return Qs.bindingsEnabled}function Ys(){Qs.bindingsEnabled=!0}function Xs(){Qs.bindingsEnabled=!1}function Zs(){return Qs.lFrame.lView}function Js(){return Qs.lFrame.tView}function to(t){Qs.lFrame.contextLView=t}function eo(){return Qs.lFrame.previousOrParentTNode}function no(t,e){Qs.lFrame.previousOrParentTNode=t,Qs.lFrame.isParent=e}function ro(){return Qs.lFrame.isParent}function io(){Qs.lFrame.isParent=!1}function so(){return Qs.checkNoChangesMode}function oo(t){Qs.checkNoChangesMode=t}function ao(){const t=Qs.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function uo(){return Qs.lFrame.bindingIndex}function co(t){return Qs.lFrame.bindingIndex=t}function lo(){return Qs.lFrame.bindingIndex++}function ho(t){const e=Qs.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function fo(t,e){const n=Qs.lFrame;n.bindingIndex=n.bindingRootIndex=t,po(e)}function po(t){Qs.lFrame.currentDirectiveIndex=t}function go(t){const e=Qs.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function yo(){return Qs.lFrame.currentQueryIndex}function mo(t){Qs.lFrame.currentQueryIndex=t}function vo(t,e){const n=_o();Qs.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function bo(t,e){const n=_o(),r=t[1];Qs.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function _o(){const t=Qs.lFrame,e=null===t?null:t.child;return null===e?wo(t):e}function wo(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Eo(){const t=Qs.lFrame;return Qs.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const So=Eo;function Oo(){const t=Eo();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function xo(){return Qs.lFrame.selectedIndex}function To(t){Qs.lFrame.selectedIndex=t}function Io(){const t=Qs.lFrame;return qs(t.tView,t.selectedIndex)}function Co(){Qs.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function ko(){Qs.lFrame.currentNamespace="http://www.w3.org/1998/MathML/"}function Ao(){Qs.lFrame.currentNamespace=null}function jo(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function No(t,e,n){Do(t,e,3,n)}function Po(t,e,n,r){(3&t[2])===n&&Do(t,e,n,r)}function Ro(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Do(t,e,n,r){const i=null!=r?r:-1;let s=0;for(let o=void 0!==r?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=r&&s>=r)break}else e[o]<0&&(t[18]+=65536),(s<i||-1==i)&&(Lo(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function Lo(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}class Mo{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Fo(t){return 3===t||4===t||6===t}function Uo(t){return 64===t.charCodeAt(0)}function Vo(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||qo(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function qo(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Ho(t){return-1!==t}function Bo(t){return 32767&t}function zo(t){return t>>16}function $o(t,e){let n=zo(t),r=e;for(;n>0;)r=r[15],n--;return r}function Wo(t){return"string"==typeof t?t:null==t?"":""+t}function Go(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Wo(t)}function Qo(t){return{name:"window",target:t.ownerDocument.defaultView}}function Ko(t){return{name:"document",target:t.ownerDocument}}function Yo(t){return{name:"body",target:t.ownerDocument.body}}let Xo=!0;function Zo(t){const e=Xo;return Xo=t,e}let Jo=0;function ta(t,e){const n=na(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,ea(r.data,t),ea(e,null),ea(r.blueprint,null));const i=ra(t,e),s=t.injectorIndex;if(Ho(i)){const t=Bo(i),n=$o(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function ea(t,e){t.push(0,0,0,0,0,0,0,0,e)}function na(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function ra(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],r=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function ia(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Hi)&&(r=n[Hi]),null==r&&(r=n[Hi]=Jo++);const i=255&r,s=1<<i,o=64&i,a=32&i,u=e.data;128&i?o?a?u[t+7]|=s:u[t+6]|=s:a?u[t+5]|=s:u[t+4]|=s:o?a?u[t+3]|=s:u[t+2]|=s:a?u[t+1]|=s:u[t]|=s}(t,e,n)}function sa(t,e,n,r=hi.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Hi)?t[Hi]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){vo(e,t);try{const t=i();if(null!=t||r&hi.Optional)return t;throw new Error(`No provider for ${Go(n)}!`)}finally{So()}}else if("number"==typeof i){if(-1===i)return new fa(t,e);let s=null,o=na(t,e),a=-1,u=r&hi.Host?e[16][6]:null;for((-1===o||r&hi.SkipSelf)&&(a=-1===o?ra(t,e):e[o+8],ha(r,!1)?(s=e[1],o=Bo(a),e=$o(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(la(i,o,t.data)){const t=aa(o,e,n,s,r,u);if(t!==oa)return t}ha(r,e[1].data[o+8]===u)&&la(i,o,e)?(s=t,o=Bo(a),e=$o(a,e)):o=-1}}}if(r&hi.Optional&&void 0===i&&(i=null),0==(r&(hi.Self|hi.Host))){const t=e[9],s=$i(void 0);try{return t?t.get(n,i,r&hi.Optional):function(t,e,n){const r=yi(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&hi.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${Oi(t)}]`)}(n,i,r&hi.Optional)}finally{$i(s)}}if(r&hi.Optional)return i;throw new Error(`NodeInjector: NOT_FOUND [${Go(n)}]`)}const oa={};function aa(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=ua(a,o,n,null==r?Ts(a)&&Xo:r!=o&&3===a.type,i&hi.Host&&s===a);return null!==u?ca(e,o,u,a):oa}function ua(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&Cs(t)&&t.type===n)return u}return null}function ca(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof Mo){const o=i;if(o.resolving)throw new Error(`Circular dep for ${Go(s[n])}`);const a=Zo(o.canSeeViewProviders);let u;o.resolving=!0,o.injectImpl&&(u=$i(o.injectImpl)),vo(t,r);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Ns(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&$i(u),Zo(a),o.resolving=!1,So()}}return i}function la(t,e,n){const r=64&t,i=32&t;let s;return s=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(s&1<<t)}function ha(t,e){return!(t&hi.Self||t&hi.Host&&e)}class fa{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return sa(this._tNode,this._lView,t,void 0,e)}}function da(t){const e=t;if(ki(t))return()=>{const t=da(Ci(e));return t?t():null};let n=Es(e);if(null===n){const t=vi(e);n=t&&t.factory}return n||null}function pa(t){return Xr(()=>{const e=t.prototype.constructor,n=e[qi]||da(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[qi]||da(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function ga(t){return t.ngDebugContext}function ya(t){return t.ngOriginalError}function ma(t,...e){t.error(...e)}class va{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||ma}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?ga(t)?ga(t):this._findContext(ya(t)):null}_findOriginalError(t){let e=ya(t);for(;e&&ya(e);)e=ya(e);return e}}class ba{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}function _a(t){return t instanceof ba?t.changingThisBreaksApplicationSecurity:t}function wa(t,e){const n=function(t){return t instanceof ba&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}let Ea=!1;function Sa(){return Ea=!0,!0}function Oa(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new xa:new Ta(t)}class xa{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Ta{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Ia=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ca=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ka(t){return(t=String(t)).match(Ia)||t.match(Ca)?t:(Sa()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function Aa(t){return(t=String(t)).split(",").map(t=>ka(t.trim())).join(", ")}function ja(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Na(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Pa=ja("area,br,col,hr,img,wbr"),Ra=ja("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Da=ja("rp,rt"),La=Na(Da,Ra),Ma=Na(Pa,Na(Ra,ja("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Na(Da,ja("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),La),Fa=ja("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ua=ja("srcset"),Va=Na(Fa,Ua,ja("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ja("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qa=ja("script,style,template");class Ha{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Ma.hasOwnProperty(e))return this.sanitizedSomething=!0,!qa.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r),e=t.name,i=e.toLowerCase();if(!Va.hasOwnProperty(i)){this.sanitizedSomething=!0;continue}let s=t.value;Fa[i]&&(s=ka(s)),Ua[i]&&(s=Aa(s)),this.buf.push(" ",e,'="',$a(s),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Ma.hasOwnProperty(e)&&!Pa.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push($a(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Ba=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,za=/([^\#-~ |!])/g;function $a(t){return t.replace(/&/g,"&amp;").replace(Ba,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(za,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Wa;function Ga(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Qa=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Ka(t){const e=eu();return e?e.sanitize(Qa.HTML,t)||"":wa(t,"HTML")?_a(t):function(t,e){let n=null;try{Wa=Wa||Oa(t);let r=e?String(e):"";n=Wa.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=Wa.getInertBodyElement(r)}while(r!==s);const o=new Ha,a=o.sanitizeChildren(Ga(n)||n);return Sa()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=Ga(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(Ls(),Wo(t))}function Ya(t){const e=eu();return e?e.sanitize(Qa.STYLE,t)||"":wa(t,"Style")?_a(t):Wo(t)}function Xa(t){const e=eu();return e?e.sanitize(Qa.URL,t)||"":wa(t,"URL")?_a(t):ka(Wo(t))}function Za(t){const e=eu();if(e)return e.sanitize(Qa.RESOURCE_URL,t)||"";if(wa(t,"ResourceURL"))return _a(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)")}function Ja(t){const e=eu();if(e)return e.sanitize(Qa.SCRIPT,t)||"";if(wa(t,"Script"))return _a(t);throw new Error("unsafe value used in a script context")}function tu(t,e,n){return function(t,e){return"src"===e&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===e&&("base"===t||"link"===t)?Za:Xa}(e,n)(t)}function eu(){const t=Zs();return t&&t[12]}function nu(t,e){t.__ngContext__=e}function ru(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function iu(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}function su(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==iu(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ou(t){return 0===t.type&&"ng-template"!==t.tagName}function au(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function uu(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Fo(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!au(t,u,n)||""===u&&1===e.length){if(cu(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!su(t.attrs,c,n)){if(cu(r))return!1;o=!0}continue}const l=lu(8&r?"class":u,i,ou(t),n);if(-1===l){if(cu(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==iu(e,c,0)||2&r&&c!==t){if(cu(r))return!1;o=!0}}}}else{if(!o&&!cu(r)&&!cu(u))return!1;if(o&&cu(u))continue;o=!1,r=u|1&r}}return cu(r)||o}function cu(t){return 0==(1&t)}function lu(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function hu(t,e,n=!1){for(let r=0;r<e.length;r++)if(uu(t,e[r],n))return!0;return!1}function fu(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}const du={};function pu(t){const e=t[3];return Os(e)?e[3]:e}function gu(t){return mu(t[13])}function yu(t){return mu(t[4])}function mu(t){for(;null!==t&&!Os(t);)t=t[4];return t}function vu(t){_u(Js(),Zs(),xo()+t,so())}function bu(t){_u(Js(),Zs(),t,so())}function _u(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&No(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Po(e,r,0,n)}To(n)}function wu(t,e){return t<<17|e<<2}function Eu(t){return t>>17&32767}function Su(t){return 2|t}function Ou(t){return(131068&t)>>2}function xu(t,e){return-131069&t|e<<2}function Tu(t){return 1|t}function Iu(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];mo(i),n.contentQueries(2,e[s],s)}}}function Cu(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Ws(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function ku(t,e,n,r,i,s){const o=n+20,a=t.data[o]||function(t,e,n,r,i,s){const o=eo(),a=ro(),u=a?o:o&&o.parent,c=t.data[n]=Fu(0,u&&u!==e?u:null,r,n,i,s);return null===t.firstChild&&(t.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(t,e,o,r,i,s);return no(a,!0),a}function Au(t,e,n){bo(e,e[6]);try{const r=t.viewQuery;null!==r&&rc(1,r,n);const i=t.template;null!==i&&Nu(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Iu(t,e),t.staticViewQueries&&rc(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Ju(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,Oo()}}function ju(t,e,n,r){const i=e[2];if(256==(256&i))return;bo(e,e[6]);const s=so();try{Ws(e),co(t.bindingStartIndex),null!==n&&Nu(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&No(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Po(e,n,0,null),Ro(e,0)}if(function(t){for(let e=gu(t);null!==e;e=yu(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Gs(r,1),n[2]|=1024}}}(e),function(t){for(let e=gu(t);null!==e;e=yu(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];zs(n)&&ju(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Iu(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&No(e,n)}else{const n=t.contentHooks;null!==n&&Po(e,n,1),Ro(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,To(s),r+=9+n[++t],i=r):r+=o:(null!==o&&(fo(r,i),o(2,e[i])),i++)}}}finally{To(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Zu(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&rc(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&No(e,n)}else{const n=t.viewHooks;null!==n&&Po(e,n,2),Ro(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Gs(e[3],-1))}finally{Oo()}}function Nu(t,e,n,r,i){const s=xo();try{To(-1),2&r&&e.length>20&&_u(t,e,0,so()),n(r,i)}finally{To(s)}}function Pu(t,e,n){if(xs(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Ru(t,e,n){Ks()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||ta(n,e),nu(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=Cs(r);s&&Gu(e,n,r);const u=ca(e,t,a,n);nu(u,e),null!==o&&Ku(0,a-i,u,r,0,o),s&&(Bs(n.index,e)[8]=u)}}(t,e,n,Vs(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-20,u=Qs.lFrame.currentDirectiveIndex;try{To(a);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];po(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?Bu(r,i):o&&s.push(null)}}finally{To(-1),po(u)}}(t,e,n))}function Du(t,e,n=Vs){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Lu(t,e,n,r,i,s,o,a,u,c){const l=20+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:du);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,id:e,blueprint:f,template:n,queries:null,viewQuery:a,node:null,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Mu(t,e,n,r){const i=ic(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function Fu(t,e,n,r,i,s){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Uu(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Vu(t,e,n,r,i,s,o,a){const u=Vs(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(ac(t,n,c,r,i),Ts(e)&&function(t,e){const n=Bs(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.tagName||"",r):i,Ms(s)?s.setProperty(u,r,i):Uo(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function qu(t,e,n,r){let i=!1;if(Ks()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];hu(n,o.selectors,!1)&&(i||(i=[]),ia(ta(n,e),t,o.type),Cs(o)?(2&n.flags&&ru(n),zu(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){let r=0;i=!0,function(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}!function(t,e,n){const r=20-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}(t,n,s.length);let a=!1,u=!1;for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Vo(n.mergedAttrs,c.hostAttrs),Wu(t,e,c),$u(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!a&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),u=!0),Hu(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ou(e)?null:Yu(n,i);s.push(c),o=Uu(n,u,o),a=Uu(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),function(t,e,n){for(let r=0;r<n;r++)e.push(du),t.blueprint.push(du),t.data.push(null)}(t,e,r)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Vo(n.mergedAttrs,n.attrs),i}function Hu(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function Bu(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function zu(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function $u(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Cs(e)&&(n[""]=t)}}function Wu(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Es(n.type)),i=new Mo(r,Cs(n),null);t.blueprint.push(i),e.push(i)}function Gu(t,e,n){const r=Vs(e,t),i=function(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Lu(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}(n),s=t[10],o=tc(t,Cu(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n)));t[e.index]=o}function Qu(t,e,n,r,i,s){const o=Vs(t,e),a=e[11];if(null==r)Ms(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==i?Wo(r):i(r,t.tagName||"",n);Ms(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}function Ku(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Yu(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Xu(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Zu(t,e){const n=Bs(e,t);if(zs(n)){const t=n[1];80&n[2]?ju(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=gu(e);null!==r;r=yu(r))for(let e=10;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];ju(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Bs(n[r],e);zs(i)&&i[5]>0&&t(i)}}(n)}}function Ju(t,e){const n=Bs(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Au(r,n,n[8])}function tc(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function ec(t){for(;t;){t[2]|=64;const e=pu(t);if(ks(t)&&!e)return t;t=e}return null}function nc(t,e,n){const r=e[10];r.begin&&r.begin();try{ju(t,e,t.template,n)}catch(i){throw oc(e,i),i}finally{r.end&&r.end()}}function rc(t,e,n){mo(0),e(t,n)}function ic(t){return t[7]||(t[7]=[])}function sc(t,e,n){return(null===t||Cs(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function oc(t,e){const n=t[9],r=n?n.get(va,null):null;r&&r.handleError(e)}function ac(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function uc(t,e,n){const r=Us(e,t),i=t[11];Ms(i)?i.setValue(r,n):r.textContent=n}function cc(t,e){const n=e[3];return-1===t.index?Os(n)?n:null:n}function lc(t,e){const n=cc(t,e);return n?Sc(e[11],n[7]):null}function hc(t,e,n,r,i){if(null!=r){let s,o=!1;Os(r)?s=r:Ss(r)&&(o=!0,r=r[0]);const a=Fs(r);0===t&&null!==n?null==i?wc(e,n,a):_c(e,n,a,i||null):1===t&&null!==n?_c(e,n,a,i||null):2===t?Ic(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Fs(n)&&hc(e,t,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];kc(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function fc(t,e){return Ms(e)?e.createText(t):e.createTextNode(t)}function dc(t,e,n,r){const i=lc(t.node,e);i&&kc(t,e,e[11],n?1:2,i,r)}function pc(t,e){const n=t[9],r=n.indexOf(e);1024&e[2]&&Gs(e[3],-1),n.splice(r,1)}function gc(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&pc(i,r),e>0&&(t[n-1][4]=r[4]);const s=ts(t,10+e);dc(r[1],r,!1,null);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function yc(t,e){if(!(256&e[2])){const n=e[11];Ms(n)&&n.destroyNode&&kc(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return vc(t[1],t);for(;e;){let n=null;if(Ss(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)Ss(e)&&vc(e[1],e),e=mc(e,t);null===e&&(e=t),Ss(e)&&vc(e[1],e),n=e&&e[4]}e=n}}(e)}}function mc(t,e){let n;return Ss(t)&&(n=t[6])&&2===n.type?cc(n,t):t[3]===e?null:t[3]}function vc(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Mo)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],s="function"==typeof i?i(e):Fs(e[i]),o=t[n[r+2]],a=n[r+3];"boolean"==typeof a?s.removeEventListener(n[r],o,a):a>=0?t[a]():t[-a].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Ms(e[11])&&e[11].destroy();const r=e[17];if(null!==r&&Os(e[3])){r!==e[3]&&pc(r,e);const n=e[19];null!==n&&n.detachView(t)}}}function bc(t,e,n){let r=e.parent;for(;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){const t=n[6];return 2===t.type?lc(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Vs(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==os.ShadowDom&&n!==os.Native)return null}return Vs(r,n)}function _c(t,e,n,r){Ms(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function wc(t,e,n){Ms(t)?t.appendChild(e,n):e.appendChild(n)}function Ec(t,e,n,r){null!==r?_c(t,e,n,r):wc(t,e,n)}function Sc(t,e){return Ms(t)?t.parentNode(e):e.parentNode}function Oc(t,e){if(2===t.type){const n=cc(t,e);return null===n?null:Tc(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Vs(t,e):null}function xc(t,e,n,r){const i=bc(t,r,e);if(null!=i){const t=e[11],s=Oc(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Ec(t,i,n[e],s);else Ec(t,i,n,s)}}function Tc(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return function t(e,n){if(null!==n){const r=n.type;if(3===r)return Vs(n,e);if(0===r)return Tc(-1,e[n.index]);if(4===r||5===r){const r=n.child;if(null!==r)return t(e,r);{const t=e[n.index];return Os(t)?Tc(-1,t):Fs(t)}}{const r=e[16],i=r[6],s=pu(r),o=i.projection[n.projection];return null!=o?t(s,o):t(e,n.next)}}return null}(t,r)}return e[7]}function Ic(t,e,n){const r=Sc(t,e);r&&function(t,e,n,r){Ms(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}function Cc(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;o&&0===e&&(a&&nu(Fs(a),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(Cc(t,e,n.child,r,i,s,!1),hc(e,t,i,a,s)):1===u?jc(t,e,r,n,i,s):hc(e,t,i,a,s)),n=o?n.projectionNext:n.next}}function kc(t,e,n,r,i,s){Cc(n,r,t.node.child,e,i,s,!1)}function Ac(t,e,n){jc(e[11],0,e,n,bc(t,n,e),Oc(n.parent||e[6],e))}function jc(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)hc(e,t,i,a[u],s);else Cc(t,e,a,o[3],i,s,!0)}class Nc{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,r,i,s=!1){for(;null!==r;){const o=n[r.index];if(null!==o&&i.push(Fs(o)),Os(o))for(let e=10;e<o.length;e++){const n=o[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const a=r.type;if(4===a||5===a)t(e,n,r.child,i);else if(1===a){const e=n[16],s=e[6].projection[r.projection];if(Array.isArray(s))i.push(...s);else{const n=pu(e);t(n[1],n,s,i,!0)}}r=s?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}yc(this._lView[1],this._lView)}onDestroy(t){Mu(this._lView[1],this._lView,null,t)}markForCheck(){ec(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){nc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){oo(!0);try{nc(t,e,n)}finally{oo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,kc(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}let Pc,Rc,Dc;function Lc(t,e,n){return Pc||(Pc=class extends t{}),new Pc(Vs(e,n))}function Mc(t,e,n,r){return Rc||(Rc=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Cu(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Au(e,n,t),new Nc(n)}}),0===n.type?new Rc(r,n,Lc(e,n,r)):null}function Fc(t,e,n,r){let i;Dc||(Dc=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Lc(e,this._hostTNode,this._hostView)}get injector(){return new fa(this._hostTNode,this._hostView)}get parentInjector(){const t=ra(this._hostTNode,this._hostView),e=$o(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let r=zo(t),i=e,s=e[6];for(;r>1;)i=i[15],s=i[6],r--;return s}(t,this._hostView,this._hostTNode);return Ho(t)&&null!=n?new fa(n,e):new fa(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(Xi,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Os(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Dc(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e);return function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],Ji(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,this._lContainer,i),dc(r,n,!0,Tc(i,this._lContainer)),t.attachToViewContainerRef(this),Ji(this._lContainer[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=gc(this._lContainer,e);n&&(ts(this._lContainer[8],e),yc(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=gc(this._lContainer,e);return n&&null!=ts(this._lContainer[8],e)?new Nc(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=r[n.index];if(Os(s))i=s;else{let t;if(4===n.type)t=Fs(s);else if(t=r[11].createComment(""),ks(r)){const e=r[11],i=Vs(n,r);_c(e,Sc(e,i),t,function(t,e){return Ms(t)?t.nextSibling(e):e.nextSibling}(e,i))}else xc(r[1],r,t,n);r[n.index]=i=Xu(s,r,t,n),tc(r,i)}return new Dc(i,n,r)}function Uc(t=!1){return function(t,e,n){if(!n&&Ts(t)){const n=Bs(t.index,e);return new Nc(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Nc(e[16],e):null}(eo(),Zs(),t)}let Vc=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>qc(),t})();const qc=Uc,Hc=Function;function Bc(t){return"function"==typeof t}const zc=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*(arguments|[^()]+\(arguments\))\)/,$c=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Wc=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,Gc=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s*super\(\.\.\.arguments\)/;class Qc{constructor(t){this._reflect=t||Ri.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=es(void 0===t?e.length:t.length);for(let r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(n=t.toString(),zc.test(n)||Gc.test(n)||$c.test(n)&&!Wc.test(n))return null;var n;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const r=t.ctorParameters;if(r&&r!==e.ctorParameters){const t="function"==typeof r?r():r,e=t.map(t=>t&&t.type),n=t.map(t=>t&&Kc(t.decorators));return this._zipTypesAndAnnotations(e,n)}const i=t.hasOwnProperty(Jr)&&t[Jr],s=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return s||i?this._zipTypesAndAnnotations(s,i):es(t.length)}parameters(t){if(!Bc(t))return[];const e=Yc(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?Kc(t.decorators):t.hasOwnProperty(Zr)?t[Zr]:null}annotations(t){if(!Bc(t))return[];const e=Yc(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=Kc(e[t])}),n}return t.hasOwnProperty(ti)?t[ti]:null}propMetadata(t){if(!Bc(t))return{};const e=Yc(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}ownPropMetadata(t){return Bc(t)&&this._ownPropMetadata(t,Yc(t))||{}}hasLifecycleHook(t,e){return t instanceof Hc&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:`./${Oi(t)}`}resourceUri(t){return`./${Oi(t)}`}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function Kc(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function Yc(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}let Xc=null;function Zc(){return Xc=Xc||new Qc}function Jc(t){return tl(Zc().parameters(t))}function tl(t){const e=Li();return t.map(t=>function(t,e){const n={token:null,host:!1,optional:!1,resolved:t.R3ResolvedDependencyType.Token,self:!1,skipSelf:!1};function r(e){n.resolved=t.R3ResolvedDependencyType.Token,n.token=e}if(Array.isArray(e)&&e.length>0)for(let i=0;i<e.length;i++){const s=e[i];if(void 0===s)continue;const o=Object.getPrototypeOf(s);if(s instanceof oi||"Optional"===o.ngMetadataName)n.optional=!0;else if(s instanceof ui||"SkipSelf"===o.ngMetadataName)n.skipSelf=!0;else if(s instanceof ai||"Self"===o.ngMetadataName)n.self=!0;else if(s instanceof ci||"Host"===o.ngMetadataName)n.host=!0;else if(s instanceof si)n.token=s.token;else if(s instanceof li){if(void 0===s.attributeName)throw new Error("Attribute name must be defined.");n.token=s.attributeName,n.resolved=t.R3ResolvedDependencyType.Attribute}else s===Vc?(n.token=s,n.resolved=t.R3ResolvedDependencyType.ChangeDetectorRef):r(s)}else void 0===e||Array.isArray(e)&&0===e.length?(n.token=void 0,n.resolved=Di.Invalid):r(e);return n}(e,t))}const el=fi({provide:String,useValue:fi});function nl(t){return void 0!==t.useClass}function rl(t){return void 0!==t.useFactory}function il(t,e){const n=e||{providedIn:null},r={name:t.name,type:t,typeArgumentCount:0,providedIn:n.providedIn,userDeps:void 0};return(nl(n)||rl(n))&&void 0!==n.deps&&(r.userDeps=tl(n.deps)),nl(n)?r.useClass=Ci(n.useClass):function(t){return el in t}(n)?r.useValue=Ci(n.useValue):rl(n)?r.useFactory=n.useFactory:function(t){return void 0!==t.useExisting}(n)&&(r.useExisting=Ci(n.useExisting)),r}const sl=ei("Injectable",void 0,void 0,void 0,(t,e)=>ol(t,e)),ol=function(t,e){let n=null,r=null;t.hasOwnProperty(bi)||(Object.defineProperty(t,bi,{get:()=>(null===n&&(n=Li().compileInjectable(Yi,`ng:///${t.name}/\u0275prov.js`,il(t,e))),n)}),t.hasOwnProperty(wi)||(t[wi]=()=>t[bi])),t.hasOwnProperty(qi)||Object.defineProperty(t,qi,{get:()=>{if(null===r){const n=il(t,e),i=Li();r=i.compileFactory(Yi,`ng:///${t.name}/\u0275fac.js`,{name:n.name,type:n.type,typeArgumentCount:n.typeArgumentCount,deps:Jc(t),injectFn:"inject",target:i.R3FactoryTarget.Injectable})}return r},configurable:!0})};function al(t){const e=yi(t),n=null!==e?e.factory:Es(t);if(null!==n)return n;const r=vi(t);if(null!==r)return r.factory;if(t instanceof class{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=pi({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}})throw new Error(`Token ${Oi(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=es(e,"?");throw new Error(`Can't resolve all parameters for ${Oi(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[bi]||t[Ei]||t[wi]&&t[wi]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function ul(t){return"function"==typeof t}function cl(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=xi(i,t):2==s&&(r=xi(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}let ll=null;function hl(){if(!ll){const t=Ri.Symbol;if(t&&t.iterator)ll=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ll=n)}}}return ll}class fl{constructor(t){this.wrapped=t}static wrap(t){return new fl(t)}static unwrap(t){return fl.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof fl}}function dl(t,e,n){return t[e]=n}function pl(t,e){return t[e]}function gl(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function yl(t,e,n,r){const i=gl(t,e,n);return gl(t,e+1,r)||i}function ml(t,e,n,r,i){const s=yl(t,e,n,r);return gl(t,e+2,i)||s}function vl(t,e,n,r,i,s){const o=yl(t,e,n,r);return yl(t,e+2,i,s)||o}function bl(t,e,n,r){const i=Zs();return gl(i,lo(),e)&&(Js(),Qu(Io(),i,t,e,n,r)),bl}function _l(t,e){let n=!1,r=uo();for(let s=1;s<e.length;s+=2)n=gl(t,r++,e[s])||n;if(co(r),!n)return du;let i=e[0];for(let s=1;s<e.length;s+=2)i+=Wo(e[s])+e[s+1];return i}function wl(t,e,n,r){return gl(t,lo(),n)?e+Wo(n)+r:du}function El(t,e,n,r,i,s){const o=yl(t,uo(),n,i);return ho(2),o?e+Wo(n)+r+Wo(i)+s:du}function Sl(t,e,n,r,i,s,o,a){const u=ml(t,uo(),n,i,o);return ho(3),u?e+Wo(n)+r+Wo(i)+s+Wo(o)+a:du}function Ol(t,e,n,r,i,s,o,a,u,c){const l=vl(t,uo(),n,i,o,u);return ho(4),l?e+Wo(n)+r+Wo(i)+s+Wo(o)+a+Wo(u)+c:du}function xl(t,e,n,r,i,s,o,a,u,c,l,h){const f=uo();let d=vl(t,f,n,i,o,u);return d=gl(t,f+4,l)||d,ho(5),d?e+Wo(n)+r+Wo(i)+s+Wo(o)+a+Wo(u)+c+Wo(l)+h:du}function Tl(t,e,n,r,i,s,o,a,u,c,l,h,f,d){const p=uo();let g=vl(t,p,n,i,o,u);return g=yl(t,p+4,l,f)||g,ho(6),g?e+Wo(n)+r+Wo(i)+s+Wo(o)+a+Wo(u)+c+Wo(l)+h+Wo(f)+d:du}function Il(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g){const y=uo();let m=vl(t,y,n,i,o,u);return m=ml(t,y+4,l,f,p)||m,ho(7),m?e+Wo(n)+r+Wo(i)+s+Wo(o)+a+Wo(u)+c+Wo(l)+h+Wo(f)+d+Wo(p)+g:du}function Cl(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,y,m){const v=uo();let b=vl(t,v,n,i,o,u);return b=vl(t,v+4,l,f,p,y)||b,ho(8),b?e+Wo(n)+r+Wo(i)+s+Wo(o)+a+Wo(u)+c+Wo(l)+h+Wo(f)+d+Wo(p)+g+Wo(y)+m:du}function kl(t,e,n,r,i,s){const o=Zs(),a=wl(o,e,n,r);return a!==du&&Qu(Io(),o,t,a,i,s),kl}function Al(t,e,n,r,i,s,o,a){const u=Zs(),c=El(u,e,n,r,i,s);return c!==du&&Qu(Io(),u,t,c,o,a),Al}function jl(t,e,n,r,i,s,o,a,u,c){const l=Zs(),h=Sl(l,e,n,r,i,s,o,a);return h!==du&&Qu(Io(),l,t,h,u,c),jl}function Nl(t,e,n,r,i,s,o,a,u,c,l,h){const f=Zs(),d=Ol(f,e,n,r,i,s,o,a,u,c);return d!==du&&Qu(Io(),f,t,d,l,h),Nl}function Pl(t,e,n,r,i,s,o,a,u,c,l,h,f,d){const p=Zs(),g=xl(p,e,n,r,i,s,o,a,u,c,l,h);return g!==du&&Qu(Io(),p,t,g,f,d),Pl}function Rl(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g){const y=Zs(),m=Tl(y,e,n,r,i,s,o,a,u,c,l,h,f,d);return m!==du&&Qu(Io(),y,t,m,p,g),Rl}function Dl(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,y,m){const v=Zs(),b=Il(v,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g);return b!==du&&Qu(Io(),v,t,b,y,m),Dl}function Ll(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,y,m,v,b){const _=Zs(),w=Cl(_,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,y,m);return w!==du&&Qu(Io(),_,t,w,v,b),Ll}function Ml(t,e,n,r){const i=Zs(),s=_l(i,e);return s!==du&&Qu(Io(),i,t,s,n,r),Ml}function Fl(t,e,n,r,i,s,o,a){const u=Zs(),c=Js(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=ku(e,n[6],t,0,o||null,$s(c,a));qu(e,n,l,$s(c,u)),jo(e,l);const h=l.tViews=Lu(2,-1,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),f=Fu(0,null,2,-1,null,null);return f.injectorIndex=l.injectorIndex,h.node=f,null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,s,o):c.data[l];no(h,!1);const f=u[11].createComment("");xc(c,u,f,h),nu(f,u),tc(u,u[l]=Xu(f,u,f,h)),Is(h)&&Ru(c,u,h),null!=o&&Du(u,h,a)}function Ul(t){return Hs(Qs.lFrame.contextLView,t)}function Vl(t,e=hi.Default){const n=Zs();return null==n?Gi(t,e):sa(eo(),n,Ci(t),e)}function ql(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Fo(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(eo(),t)}function Hl(){throw new Error("invalid")}function Bl(t,e,n){const r=Zs();return gl(r,lo(),e)&&Vu(Js(),Io(),r,t,e,r[11],n,!1),Bl}function zl(t,e,n,r,i){const s=i?"class":"style";ac(t,n,e.inputs[s],s,r)}function $l(t,e,n,r){const i=Zs(),s=Js(),o=20+t,a=i[11],u=i[o]=function(t,e,n){return Ms(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}(e,a,Qs.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=$s(a,s),c=ku(e,n[6],t,3,i,u);return qu(e,n,c,$s(a,o)),null!==c.attrs&&cl(c,c.attrs,!1),null!==c.mergedAttrs&&cl(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,i,0,e,n,r):s.data[o];no(c,!0);const l=c.mergedAttrs;null!==l&&function(t,e,n){const r=Ms(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Uo(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}}(a,u,l);const h=c.classes;null!==h&&function(t,e,n){Ms(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}(a,u,h);const f=c.styles;null!==f&&function(t,e,n){Ms(t)?t.setAttribute(e,"style",n):e.style.cssText=n}(a,u,f),xc(s,i,u,c),0===Qs.lFrame.elementDepthCount&&nu(u,i),Qs.lFrame.elementDepthCount++,Is(c)&&(Ru(s,i,c),Pu(s,c,i)),null!==r&&Du(i,c)}function Wl(){let t=eo();ro()?io():(t=t.parent,no(t,!1));const e=t;Qs.lFrame.elementDepthCount--;const n=Js();n.firstCreatePass&&(jo(n,t),xs(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&zl(n,e,Zs(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&zl(n,e,Zs(),e.stylesWithoutHost,!1)}function Gl(t,e,n,r){$l(t,e,n,r),Wl()}function Ql(t,e,n){const r=Zs(),i=Js(),s=t+20,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=$s(s,r),a=ku(e,n[6],t,4,"ng-container",o);return null!==o&&cl(a,o,!0),qu(e,n,a,$s(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,i,r,e,n):i.data[s];no(o,!0);const a=r[s]=r[11].createComment("");xc(i,r,a,o),nu(a,r),Is(o)&&(Ru(i,r,o),Pu(i,o,r)),null!=n&&Du(r,o)}function Kl(){let t=eo();const e=Js();ro()?io():(t=t.parent,no(t,!1)),e.firstCreatePass&&(jo(e,t),xs(t)&&e.queries.elementEnd(t))}function Yl(t,e,n){Ql(t,e,n),Kl()}function Xl(){return Zs()}function Zl(t,e,n=!1,r){const i=Zs(),s=Js(),o=eo();return th(s,i,i[11],o,t,e,n,r),Zl}function Jl(t,e,n=!1,r){const i=eo(),s=Zs(),o=Js();return th(o,s,sc(go(o.data),i,s),i,t,e,n,r),Jl}function th(t,e,n,r,i,s,o=!1,a){const u=Is(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=ic(e);let h=!0;if(3===r.type){const f=Vs(r,e),d=a?a(f):as,p=d.target||f,g=l.length,y=a?t=>a(Fs(t[r.index])).target:r.index;if(Ms(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=nh(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,y,g,g+1)}}else s=nh(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,y,g,o)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}function eh(t,e,n){try{return!1!==e(n)}catch(r){return oc(t,r),!1}}function nh(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Bs(t.index,e):e;0==(32&e[2])&&ec(o);let a=eh(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=eh(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function rh(t=1){return function(t){return(Qs.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Qs.lFrame.contextLView))[8]}(t)}function ih(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?hu(t,s,!0):fu(r,s))return i}else n=i}return n}function sh(t){const e=Zs()[16][6];if(!e.projection){const n=e.projection=es(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?ih(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}let oh=!1;function ah(t){oh=t}function uh(t,e=0,n){const r=Zs(),i=Js(),s=ku(i,r[6],t,1,null,n||null);null===s.projection&&(s.projection=e),io(),oh||Ac(i,r,s)}function ch(t,e,n){return lh(t,"",e,"",n),ch}function lh(t,e,n,r,i){const s=Zs(),o=wl(s,e,n,r);return o!==du&&Vu(Js(),Io(),s,t,o,s[11],i,!1),lh}function hh(t,e,n,r,i,s,o){const a=Zs(),u=El(a,e,n,r,i,s);return u!==du&&Vu(Js(),Io(),a,t,u,a[11],o,!1),hh}function fh(t,e,n,r,i,s,o,a,u){const c=Zs(),l=Sl(c,e,n,r,i,s,o,a);return l!==du&&Vu(Js(),Io(),c,t,l,c[11],u,!1),fh}function dh(t,e,n,r,i,s,o,a,u,c,l){const h=Zs(),f=Ol(h,e,n,r,i,s,o,a,u,c);return f!==du&&Vu(Js(),Io(),h,t,f,h[11],l,!1),dh}function ph(t,e,n,r,i,s,o,a,u,c,l,h,f){const d=Zs(),p=xl(d,e,n,r,i,s,o,a,u,c,l,h);return p!==du&&Vu(Js(),Io(),d,t,p,d[11],f,!1),ph}function gh(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p){const g=Zs(),y=Tl(g,e,n,r,i,s,o,a,u,c,l,h,f,d);return y!==du&&Vu(Js(),Io(),g,t,y,g[11],p,!1),gh}function yh(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,y){const m=Zs(),v=Il(m,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g);return v!==du&&Vu(Js(),Io(),m,t,v,m[11],y,!1),yh}function mh(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,y,m,v){const b=Zs(),_=Cl(b,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,y,m);return _!==du&&Vu(Js(),Io(),b,t,_,b[11],v,!1),mh}function vh(t,e,n){const r=Zs(),i=_l(r,e);return i!==du&&Vu(Js(),Io(),r,t,i,r[11],n,!1),vh}const bh=[];function _h(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?Eu(s):Ou(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];wh(t[a],e)&&(u=!0,t[a+1]=r?Tu(n):Su(n)),a=r?Eu(n):Ou(n)}u&&(t[n+1]=r?Su(s):Tu(s))}function wh(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&is(t,e)>=0}const Eh={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Sh(t){return t.substring(Eh.key,Eh.keyEnd)}function Oh(t){return t.substring(Eh.value,Eh.valueEnd)}function xh(t,e){const n=Eh.textEnd;return n===e?-1:(e=Eh.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Eh.key=e,n),Ch(t,e,n))}function Th(t,e){const n=Eh.textEnd;let r=Eh.key=Ch(t,e,n);return n===r?-1:(r=Eh.keyEnd=function(t,e,n){let r;for(;e<n&&(45===(r=t.charCodeAt(e))||95===r||(-33&r)>=65&&(-33&r)<=90||r>=48&&r<=57);)e++;return e}(t,r,n),r=kh(t,r,n),r=Eh.value=Ch(t,r,n),r=Eh.valueEnd=function(t,e,n){let r=-1,i=-1,s=-1,o=e,a=o;for(;o<n;){const u=t.charCodeAt(o++);if(59===u)return a;34===u||39===u?a=o=Ah(t,u,o,n):e===o-4&&85===s&&82===i&&76===r&&40===u?a=o=Ah(t,41,o,n):u>32&&(a=o),s=i,i=r,r=-33&u}return a}(t,r,n),kh(t,r,n))}function Ih(t){Eh.key=0,Eh.keyEnd=0,Eh.value=0,Eh.valueEnd=0,Eh.textEnd=t.length}function Ch(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function kh(t,e,n,r){return(e=Ch(t,e,n))<n&&e++,e}function Ah(t,e,n,r){let i=-1,s=n;for(;s<r;){const n=t.charCodeAt(s++);if(n==e&&92!==i)return s;i=92==n&&92===i?0:n}throw new Error}function jh(t,e,n){return Mh(t,e,n,!1),jh}function Nh(t,e){return Mh(t,e,null,!0),Nh}function Ph(t){Fh(Bh,Rh,t,!1)}function Rh(t,e){for(let n=function(t){return Ih(t),Th(t,Ch(t,0,Eh.textEnd))}(e);n>=0;n=Th(e,n))Bh(t,Sh(e),Oh(e))}function Dh(t){Fh(ns,Lh,t,!0)}function Lh(t,e){for(let n=function(t){return Ih(t),xh(t,Ch(t,0,Eh.textEnd))}(e);n>=0;n=xh(e,n))ns(t,Sh(e),!0)}function Mh(t,e,n,r){const i=Zs(),s=Js(),o=ho(2);s.firstUpdatePass&&Vh(s,t,o,r),e!==du&&gl(i,o,e)&&zh(s,s.data[xo()+20],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Oi(_a(t)))),t}(e,n),r,o)}function Fh(t,e,n,r){const i=Js(),s=ho(2);i.firstUpdatePass&&Vh(i,null,s,r);const o=Zs();if(n!==du&&gl(o,s,n)){const a=i.data[xo()+20];if(Gh(a,r)&&!Uh(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=xi(t,n||"")),zl(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===du&&(i=bh);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const f=u<i.length?i[u+1]:void 0,d=c<s.length?s[c+1]:void 0;let p=null,g=void 0;l===h?(u+=2,c+=2,f!==d&&(p=h,g=d)):null===h||null!==l&&l<h?(u+=2,p=l):(c+=2,p=h,g=d),null!==p&&zh(t,e,n,r,p,g,o,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return bh;const r=[],i=_a(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}function Uh(t,e){return e>=t.expandoStartIndex}function Vh(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[xo()+20],o=Uh(t,n);Gh(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=go(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Hh(n=qh(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=qh(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Ou(r))return t[Eu(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=qh(null,t,e,n[1],r),n=Hh(n,e.attrs,r),function(t,e,n,r){t[Eu(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Hh(r,t[s].hostAttrs,n);return Hh(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Eu(o),u=Ou(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||is(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=Eu(t[a+1]);t[r+1]=wu(e,a),0!==e&&(t[e+1]=xu(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=wu(a,0),0!==a&&(t[a+1]=xu(t[a+1],r)),a=r;else t[r+1]=wu(u,0),0===a?a=r:t[u+1]=xu(t[u+1],r),u=r;l&&(t[r+1]=Su(t[r+1])),_h(t,c,r,!0),_h(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&is(s,e)>=0&&(n[r+1]=Tu(n[r+1]))}(e,c,t,r,s),o=wu(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function qh(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Hh(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Hh(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ns(t,o,!!n||e[++s]))}return void 0===t?null:t}function Bh(t,e,n){ns(t,e,_a(n))}function zh(t,e,n,r,i,s,o,a){if(3!==e.type)return;const u=t.data,c=u[a+1];Wh(1==(1&c)?$h(u,e,n,i,Ou(c),o):void 0)||(Wh(s)||function(t){return 2==(2&t)}(c)&&(s=$h(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Ms(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{const e=-1==r.indexOf("-")?void 0:2;null==i?s?t.removeStyle(n,r,e):n.style.removeProperty(r):s?t.setStyle(n,r,i,e):n.style.setProperty(r,i)}}(r,o,Us(xo(),n),i,s))}function $h(t,e,n,r,i,s){const o=null===e;let a=void 0;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===du&&(l=c?bh:void 0);let h=c?rs(l,r):u===r?l:void 0;if(s&&!Wh(h)&&(h=rs(e,r)),Wh(h)&&(a=h,o))return a;const f=t[i+1];i=o?Eu(f):Ou(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=rs(t,r))}return a}function Wh(t){return void 0!==t}function Gh(t,e){return 0!=(t.flags&(e?16:32))}function Qh(t,e=""){const n=Zs(),r=Js(),i=t+20,s=r.firstCreatePass?ku(r,n[6],t,3,null,null):r.data[i],o=n[i]=fc(e,n[11]);xc(r,n,o,s),no(s,!1)}function Kh(t){return Yh("",t,""),Kh}function Yh(t,e,n){const r=Zs(),i=wl(r,t,e,n);return i!==du&&uc(r,xo(),i),Yh}function Xh(t,e,n,r,i){const s=Zs(),o=El(s,t,e,n,r,i);return o!==du&&uc(s,xo(),o),Xh}function Zh(t,e,n,r,i,s,o){const a=Zs(),u=Sl(a,t,e,n,r,i,s,o);return u!==du&&uc(a,xo(),u),Zh}function Jh(t,e,n,r,i,s,o,a,u){const c=Zs(),l=Ol(c,t,e,n,r,i,s,o,a,u);return l!==du&&uc(c,xo(),l),Jh}function tf(t,e,n,r,i,s,o,a,u,c,l){const h=Zs(),f=xl(h,t,e,n,r,i,s,o,a,u,c,l);return f!==du&&uc(h,xo(),f),tf}function ef(t,e,n,r,i,s,o,a,u,c,l,h,f){const d=Zs(),p=Tl(d,t,e,n,r,i,s,o,a,u,c,l,h,f);return p!==du&&uc(d,xo(),p),ef}function nf(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p){const g=Zs(),y=Il(g,t,e,n,r,i,s,o,a,u,c,l,h,f,d,p);return y!==du&&uc(g,xo(),y),nf}function rf(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,y){const m=Zs(),v=Cl(m,t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,y);return v!==du&&uc(m,xo(),v),rf}function sf(t){const e=Zs(),n=_l(e,t);return n!==du&&uc(e,xo(),n),sf}function of(t,e,n){Fh(ns,Lh,wl(Zs(),t,e,n),!0)}function af(t,e,n,r,i){Fh(ns,Lh,El(Zs(),t,e,n,r,i),!0)}function uf(t,e,n,r,i,s,o){Fh(ns,Lh,Sl(Zs(),t,e,n,r,i,s,o),!0)}function cf(t,e,n,r,i,s,o,a,u){Fh(ns,Lh,Ol(Zs(),t,e,n,r,i,s,o,a,u),!0)}function lf(t,e,n,r,i,s,o,a,u,c,l){Fh(ns,Lh,xl(Zs(),t,e,n,r,i,s,o,a,u,c,l),!0)}function hf(t,e,n,r,i,s,o,a,u,c,l,h,f){Fh(ns,Lh,Tl(Zs(),t,e,n,r,i,s,o,a,u,c,l,h,f),!0)}function ff(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p){Fh(ns,Lh,Il(Zs(),t,e,n,r,i,s,o,a,u,c,l,h,f,d,p),!0)}function df(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,y){Fh(ns,Lh,Cl(Zs(),t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,y),!0)}function pf(t){Fh(ns,Lh,_l(Zs(),t),!0)}function gf(t,e,n){Ph(wl(Zs(),t,e,n))}function yf(t,e,n,r,i){Ph(El(Zs(),t,e,n,r,i))}function mf(t,e,n,r,i,s,o){Ph(Sl(Zs(),t,e,n,r,i,s,o))}function vf(t,e,n,r,i,s,o,a,u){Ph(Ol(Zs(),t,e,n,r,i,s,o,a,u))}function bf(t,e,n,r,i,s,o,a,u,c,l){Ph(xl(Zs(),t,e,n,r,i,s,o,a,u,c,l))}function _f(t,e,n,r,i,s,o,a,u,c,l,h,f){Ph(Tl(Zs(),t,e,n,r,i,s,o,a,u,c,l,h,f))}function wf(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p){Ph(Il(Zs(),t,e,n,r,i,s,o,a,u,c,l,h,f,d,p))}function Ef(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,y){Ph(Cl(Zs(),t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,y))}function Sf(t){Ph(_l(Zs(),t))}function Of(t,e,n,r,i){return Mh(t,wl(Zs(),e,n,r),i,!1),Of}function xf(t,e,n,r,i,s,o){return Mh(t,El(Zs(),e,n,r,i,s),o,!1),xf}function Tf(t,e,n,r,i,s,o,a,u){return Mh(t,Sl(Zs(),e,n,r,i,s,o,a),u,!1),Tf}function If(t,e,n,r,i,s,o,a,u,c,l){return Mh(t,Ol(Zs(),e,n,r,i,s,o,a,u,c),l,!1),If}function Cf(t,e,n,r,i,s,o,a,u,c,l,h,f){return Mh(t,xl(Zs(),e,n,r,i,s,o,a,u,c,l,h),f,!1),Cf}function kf(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p){return Mh(t,Tl(Zs(),e,n,r,i,s,o,a,u,c,l,h,f,d),p,!1),kf}function Af(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,y){return Mh(t,Il(Zs(),e,n,r,i,s,o,a,u,c,l,h,f,d,p,g),y,!1),Af}function jf(t,e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,y,m,v){return Mh(t,Cl(Zs(),e,n,r,i,s,o,a,u,c,l,h,f,d,p,g,y,m),v,!1),jf}function Nf(t,e,n){return Mh(t,_l(Zs(),e),n,!1),Nf}function Pf(t,e,n){const r=Zs();return gl(r,lo(),e)&&Vu(Js(),Io(),r,t,e,r[11],n,!0),Pf}function Rf(t,e,n){const r=Zs();if(gl(r,lo(),e)){const i=Js(),s=Io();Vu(i,s,r,t,e,sc(go(i.data),s,r),n,!0)}return Rf}function Df(t){return Object.getPrototypeOf(t.prototype).constructor}function Lf(t){let e=Df(t.type),n=!0;const r=[t];for(;e;){let i=void 0;if(Cs(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Mf(t.inputs),e.declaredInputs=Mf(t.declaredInputs),e.outputs=Mf(t.outputs);const n=i.hostBindings;n&&Vf(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&Ff(t,s),o&&Uf(t,o),di(t.inputs,i.inputs),di(t.declaredInputs,i.declaredInputs),di(t.outputs,i.outputs),Cs(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Lf&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Vo(i.hostAttrs,n=Vo(n,i.hostAttrs))}}(r)}function Mf(t){return t===as?{}:t===us?[]:t}function Ff(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Uf(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Vf(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}const qf=["providersResolver"],Hf=["template","decls","consts","vars","onPush","ngContentSelectors","styles","encapsulation","schemas"];function Bf(t){let e=Df(t.type),n=void 0;n=Cs(t)?e.\u0275cmp:e.\u0275dir;const r=t;for(const i of qf)r[i]=n[i];if(Cs(n))for(const i of Hf)r[i]=n[i]}function zf(t,e,n,r,i){if(t=Ci(t),Array.isArray(t))for(let s=0;s<t.length;s++)zf(t[s],e,n,r,i);else{const s=Js(),o=Zs();let a=ul(t)?t:Ci(t.provide),u=function(t,e,n){let r=void 0;if(ul(t)){const e=Ci(t);return Es(e)||al(e)}if(function(t){return null!==t&&"object"==typeof t&&Bi in t}(t))r=()=>Ci(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...Ki(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Gi(Ci(t.useExisting));else{const i=Ci(t&&(t.useClass||t.provide));if(i||function(t,e,n){let r="";throw t&&e&&(r=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${Oi(t)}'`+r)}(e,n,t),!function(t){return!!t.deps}(t))return Es(i)||al(i);r=()=>new i(...Ki(t.deps))}var i;return r}(t);const c=eo(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(ul(t)||!t.multi){const r=new Mo(u,i,Vl),d=Gf(a,e,i?l:l+f,h);-1===d?(ia(ta(c,o),s,a),$f(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=Gf(a,e,l+f,h),p=Gf(a,e,l,l+f),g=d>=0&&n[d],y=p>=0&&n[p];if(i&&!y||!i&&!g){ia(ta(c,o),s,a);const l=function(t,e,n,r,i){const s=new Mo(t,n,Vl);return s.multi=[],s.index=e,s.componentProviders=0,Wf(s,i,r&&!n),s}(i?Kf:Qf,n.length,i,r,u);!i&&y&&(n[p].providerFactory=l),$f(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else $f(s,t,d>-1?d:p,Wf(n[i?p:d],u,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function $f(t,e,n,r){const i=ul(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Wf(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Gf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Qf(t,e,n,r){return Yf(this.multi,[])}function Kf(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=ca(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Yf(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Yf(i,s);return s}function Yf(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Xf(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Js();if(r.firstCreatePass){const i=Cs(t);zf(n,r.data,r.blueprint,i,!0),zf(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}let Zf=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Jf(t),t})();const Jf=function(t){return Lc(t,eo(),Zs())};let td=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ed(t,Zf),t})();const ed=function(t,e){return Mc(t,e,eo(),Zs())};let nd=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>rd(t,Zf),t})();const rd=function(t,e){return Fc(t,e,eo(),Zs())},id=void 0;var sd=["en",[["a","p"],["AM","PM"],id],[["AM","PM"],id,id],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],id,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],id,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",id,"{1} 'at' {0}",id],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let od={};function ad(t){return t in od||(od[t]=Ri.ng&&Ri.ng.common&&Ri.ng.common.locales&&Ri.ng.common.locales[t]),od[t]}var ud=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const cd=["zero","one","two","few","many"],ld={marker:"element"},hd={marker:"comment"},fd=[];let dd=-1,pd=0,gd=0;function yd(t,e,n,r){const i=r[11];let s=null,o=null;const a=[];for(let u=0;u<n.length;u++){const c=n[u];if("string"==typeof c){const e=fc(c,i),l=n[++u];o=s,s=Ed(t,r,l,3,e,null),a.push(l),io()}else if("number"==typeof c)switch(7&c){case 1:const i=c>>>17;let l;l=i===e?r[6]:qs(t,i),o=_d(t,s,l,o,r);break;case 0:const h=c>=0,f=(h?c:~c)>>>3;a.push(f),o=s,s=qs(t,f),s&&no(s,h);break;case 5:o=s=qs(t,c>>>3),no(s,!1);break;case 4:const d=n[++u],p=n[++u];Qu(qs(t,c>>>3),r,d,p,null,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}else switch(c){case hd:const e=n[++u],l=n[++u],h=i.createComment(e);o=s,s=Ed(t,r,l,5,h,null),a.push(l),nu(h,r),io();break;case ld:const f=n[++u],d=n[++u];o=s,s=Ed(t,r,d,3,i.createElement(f),f),a.push(d);break;default:throw new Error(`Unable to determine the type of mutate operation for "${c}"`)}}return io(),a}function md(t,e,n,r,i,s){let o=!1;for(let a=0;a<r.length;a++){const u=r[a],c=r[++a];if(u&s){let s="";for(let u=a+1;u<=a+c;u++){const a=r[u];if("string"==typeof a)s+=a;else if("number"==typeof a)if(a<0)s+=Wo(n[i-a]);else{const c=a>>>2;switch(3&a){case 1:const a=r[++u],l=r[++u];Vu(t,qs(t,c),n,a,s,n[11],l,!1);break;case 0:uc(n,c,s);break;case 2:o=bd(t,e,r[++u],n,s);break;case 3:vd(t,e,r[++u],i,n,o)}}}}a+=c}}function vd(t,e,n,r,i,s){const o=e[n],a=i[o.currentCaseLViewIndex];null!==a&&md(t,e,i,o.update[a],r,s?-1:pd)}function bd(t,e,n,r,i){!function t(e,n,r,i){const s=n[r],o=i[s.currentCaseLViewIndex];if(null!==o){const r=s.remove[o];for(let s=0;s<r.length;s++){const o=r[s],a=o>>>3;switch(7&o){case 3:wd(e,i,a,!1);break;case 6:t(e,n,a,i)}}}}(t,e,n,r);let s=!1;const o=e[n],a=function(t,e){let n=t.cases.indexOf(e);if(-1===n)switch(t.type){case 1:{const r=function(t,e){const n=function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ad(e);if(n)return n;const r=e.split("-")[0];if(n=ad(r),n)return n;if("en"===r)return sd;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[ud.PluralCase]}("en-US")(parseInt(t,10)),r=cd[n];return void 0!==r?r:"other"}(e);n=t.cases.indexOf(r),-1===n&&"other"!==r&&(n=t.cases.indexOf("other"));break}case 0:n=t.cases.indexOf("other")}return n}(o,i);return r[o.currentCaseLViewIndex]=-1!==a?a:null,a>-1&&(yd(t,-1,o.create[a],r),s=!0),s}function _d(t,e,n,r,i){const s=e.next;r||(r=n),r===n&&e!==n.child?(e.next=n.child,n.child=e):r!==n&&e!==r.next?(e.next=r.next,r.next=e):e.next=null,n!==i[6]&&(e.parent=n);let o=e.next;for(;o;)o.next===e&&(o.next=s),o=o.next;if(1===e.type)return Ac(t,i,e),e;xc(t,i,Vs(e,i),e);const a=i[e.index];return 0!==e.type&&Os(a)&&xc(t,i,a[7],e),e}function wd(t,e,n,r){const i=qs(t,n),s=Us(n,e);s&&Ic(e[11],s);const o=Hs(e,n);if(Os(o)){const t=o;0!==i.type&&Ic(e[11],t[7])}r&&(i.flags|=64)}function Ed(t,e,n,r,i,s){const o=eo();e[n+20]=i;const a=ku(t,e[6],n,r,s,null);return o&&o.next===a&&(o.next=null),a}const Sd=/\ufffd(\d+):?\d*\ufffd/gi,Od=/({\s*\ufffd\d+:?\d*\ufffd\s*,\s*\S{6}\s*,[\s\S]*})/gi,xd=/\ufffd(\d+)\ufffd/,Td=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/;let Id;const Cd=[],kd=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Ad=/\ufffd(\/?[#*!]\d+):?\d*\ufffd/gi,jd=/\uE500/g;function Nd(t,e,n,r=null){const i=[null,null],s=t.split(Sd);let o=0;for(let a=0;a<s.length;a++){const t=s[a];if(1&a){const e=parseInt(t,10);i.push(-1-e),o|=Dd(e)}else""!==t&&i.push(t)}return i.push(e<<2|(n?1:0)),n&&i.push(n,r),i[0]=o,i[1]=i.length-2,i}function Pd(t,e=0){let n;e|=Dd(t.mainBinding);for(let r=0;r<t.values.length;r++){const i=t.values[r];for(let t=0;t<i.length;t++){const r=i[t];if("string"==typeof r)for(;n=Sd.exec(r);)e|=Dd(parseInt(n[1],10));else e=Pd(r,e)}}return e}function Rd(t){return t+Id++}function Dd(t){return 1<<Math.min(t,31)}function Ld(t){return void 0===t}function Md(t){let e,n,r="",i=0,s=!1;for(;null!==(e=kd.exec(t));)s?e[0]===`\ufffd/*${n}\ufffd`&&(i=e.index,s=!1):(r+=t.substring(i,e.index+e[0].length),n=e[1],s=!0);return r+=t.substr(i),r}function Fd(t,e,n,r){const i=[],s=[],o=[],a=[],u=[],c=e.values;for(let l=0;l<c.length;l++){const e=c[l],h=[];for(let t=0;t<e.length;t++){const n=e[t];if("string"!=typeof n){const r=h.push(n)-1;e[t]=`\x3c!--\ufffd${r}\ufffd--\x3e`}}const f=Vd(e.join(""),n,h,t,r);i.push(f.create),s.push(f.remove),o.push(f.update),a.push(f.vars),u.push(f.childIcus)}t.push({type:e.type,vars:a,currentCaseLViewIndex:20+r+1,childIcus:u,cases:e.cases,create:i,remove:s,update:o}),Id+=Math.max(...a)}function Ud(t){const e=[],n=[];let r=1,i=0;const s=qd(t=t.replace(Td,(function(t,e,n){return r="select"===n?0:1,i=parseInt(e.substr(1),10),""})));for(let o=0;o<s.length;){let t=s[o++].trim();1===r&&(t=t.replace(/\s*(?:=)?(\w+)\s*/,"$1")),t.length&&e.push(t);const i=qd(s[o++]);e.length>n.length&&n.push(i)}return{type:r,mainBinding:i,cases:e,values:n}}function Vd(t,e,n,r,i){const s=Oa(Ls()).getInertBodyElement(t);if(!s)throw new Error("Unable to generate inert body element");const o={vars:1,childIcus:[],create:[],remove:[],update:[]};return function t(e,n,r,i,s,o){if(e){const a=[];for(;e;){const u=e.nextSibling,c=o+ ++n.vars;switch(e.nodeType){case Node.ELEMENT_NODE:const u=e,l=u.tagName.toLowerCase();if(Ma.hasOwnProperty(l)){n.create.push(ld,l,c,r<<17|1);const a=u.attributes;for(let t=0;t<a.length;t++){const e=a.item(t),r=e.name.toLowerCase();e.value.match(Sd)?Va.hasOwnProperty(r)&&Zi(Fa[r]?Nd(e.value,c,e.name,ka):Ua[r]?Nd(e.value,c,e.name,Aa):Nd(e.value,c,e.name),n.update):n.create.push(c<<3|4,e.name,e.value)}t(e.firstChild,n,c,i,s,o),n.remove.push(c<<3|3)}else n.vars--;break;case Node.TEXT_NODE:const h=e.textContent||"",f=h.match(Sd);n.create.push(f?"":h,c,r<<17|1),n.remove.push(c<<3|3),f&&Zi(Nd(h,c),n.update);break;case Node.COMMENT_NODE:const d=xd.exec(e.textContent||"");if(d){const t=parseInt(d[1],10);n.create.push(hd,"",c,r<<17|1),a.push([i[t],c])}else n.vars--;break;default:n.vars--}e=u}for(let t=0;t<a.length;t++){const e=a[t][0],r=a[t][1];Fd(s,e,r,o+n.vars);const i=s.length-1;n.vars+=Math.max(...s[i].vars),n.childIcus.push(i);const u=Pd(e);n.update.push(Dd(e.mainBinding),3,-1-e.mainBinding,r<<2|2,i,u,2,r<<2|3,i),n.remove.push(i<<3|6,r<<3|3)}}}((Ga(s)||s).firstChild,o,e,n,r,i),o}function qd(t){if(!t)return[];let e=0;const n=[],r=[],i=/[{}]/g;let s;for(i.lastIndex=0;s=i.exec(t);){const i=s.index;if("}"==s[0]){if(n.pop(),0==n.length){const n=t.substring(e,i);Td.test(n)?r.push(Ud(n)):r.push(n),e=i+1}}else{if(0==n.length){const n=t.substring(e,i);r.push(n),e=i+1}n.push("{")}}const o=t.substring(e);return r.push(o),r}const Hd=/\[(\ufffd.+?\ufffd?)\]/,Bd=/\[(\ufffd.+?\ufffd?)\]|(\ufffd\/?\*\d+:\d+\ufffd)/g,zd=/({\s*)(VAR_(PLURAL|SELECT)(_\d+)?)(\s*,)/g,$d=/{([A-Z0-9_]+)}/g,Wd=/\ufffdI18N_EXP_(ICU(_\d+)?)\ufffd/g,Gd=/\/\*/,Qd=/\d+\:(\d+)/;function Kd(t,e,n){const r=Js(),i=$s(r.consts,e);!function(t){fd[++dd]=t}(t),ah(!0),r.firstCreatePass&&null===r.data[t+20]&&function(t,e,n,r,i){const s=e.blueprint.length-20;Id=0;const o=eo(),a=ro()?o:o&&o.parent;let u=a&&a!==t[6]?a.index-20:n,c=0;Cd[c]=u;const l=[];if(n>0&&o!==a){let t=o.index-20;ro()||(t=~t),l.push(t<<3|0)}const h=[],f=[];if(""===r&&Ld(i))l.push(r,Rd(s),u<<17|1);else{const t=function(t,e){if(Ld(e))return Md(t);{const n=t.indexOf(`:${e}\ufffd`)+2+e.toString().length,r=t.search(new RegExp(`\ufffd\\/\\*\\d+:${e}\ufffd`));return Md(t.substring(n,r))}}(r,i),e=(d=t,d.replace(jd," ")).split(Ad);for(let n=0;n<e.length;n++){let r=e[n];if(1&n)if("/"===r.charAt(0)){if("#"===r.charAt(1)){const t=parseInt(r.substr(2),10);u=Cd[--c],l.push(t<<3|5)}}else{const t=parseInt(r.substr(1),10),e="#"===r.charAt(0);l.push((e?t:~t)<<3|0,u<<17|1),e&&(Cd[++c]=u=t)}else{const e=qd(r);for(let n=0;n<e.length;n++)if(1&n){const r=e[n];if("object"!=typeof r)throw new Error(`Unable to parse ICU expression in "${t}" message.`);const i=Rd(s);l.push(hd,"",i,u<<17|1);const o=Pd(r);Fd(f,r,i,i);const a=f.length-1;h.push(Dd(r.mainBinding),3,-1-r.mainBinding,i<<2|2,a,o,2,i<<2|3,a)}else if(""!==e[n]){const t=e[n],r=t.match(Sd),i=Rd(s);l.push(r?"":t,i,u<<17|1),r&&Zi(Nd(t,i),h)}}}}var d;Id>0&&function(t,e,n){if(n>0&&t.firstCreatePass){for(let r=0;r<n;r++)t.blueprint.push(null),t.data.push(null),e.push(null);t.expandoInstructions?t.expandoInstructions.push(n):t.expandoStartIndex+=n}}(e,t,Id),e.data[n+20]={vars:Id,create:l,update:h,icus:f.length?f:null}}(Zs(),r,t,i,n)}function Yd(){const t=Zs();(function(t,e){const n=fd[dd--],r=t.data[n+20],i=eo(),s=yd(t,n,r.create,e);let o=n+1;for(;o<=i.index-20;){-1===s.indexOf(o)&&wd(t,e,o,!0);const n=qs(t,o);!n||0!==n.type&&3!==n.type&&4!==n.type||null===n.localNames||(o+=n.localNames.length>>1),o++}})(Js(),t),ah(!1)}function Xd(t,e,n){Kd(t,e,n),Yd()}function Zd(t,e){const n=Zs(),r=Js();!function(t,e,n,r){const i=eo().index-20,s=[];for(let o=0;o<r.length;o+=2){const a=r[o],u=r[o+1].split(Od);for(let r=0;r<u.length;r++){const o=u[r];if(1&r)throw new Error("ICU expressions are not yet supported in attributes");if(""!==o)if(o.match(Sd))e.firstCreatePass&&null===e.data[n+20]&&Zi(Nd(o,i,a),s);else{const n=qs(e,i);3===n.type&&Qu(n,t,a,o,null,null);const r=null!==n.inputs&&n.inputs[a];r&&ac(e,t,r,a,o)}}}e.firstCreatePass&&null===e.data[n+20]&&(e.data[n+20]=s)}(n,r,t,$s(r.consts,e))}function Jd(t){return gl(Zs(),lo(),t)&&(pd|=1<<gd),gd++,Jd}function tp(t){!function(t,e,n){if(gd>0){const r=t.data[n+20];let i,s=null;Array.isArray(r)?i=r:(i=r.update,s=r.icus),md(t,s,e,i,uo()-gd-1,pd),pd=0,gd=0}}(Js(),Zs(),t)}function ep(t,e={}){return function(t,e={}){let n=t;if(Hd.test(t)){const t={},e=[0];n=n.replace(Bd,(n,r,i)=>{const s=r||i,o=t[s]||[];if(o.length||(s.split("|").forEach(t=>{const e=t.match(Qd),n=e?parseInt(e[1],10):0,r=Gd.test(t);o.push([n,r,t])}),t[s]=o),!o.length)throw new Error(`i18n postprocess: unmatched placeholder - ${s}`);const a=e[e.length-1];let u=0;for(let t=0;t<o.length;t++)if(o[t][0]===a){u=t;break}const[c,l,h]=o[u];return l?e.pop():a!==c&&e.push(c),o.splice(u,1),h})}return Object.keys(e).length?(n=n.replace(zd,(t,n,r,i,s,o)=>e.hasOwnProperty(r)?`${n}${e[r]}${o}`:t),n=n.replace($d,(t,n)=>e.hasOwnProperty(n)?e[n]:t),n=n.replace(Wd,(t,n)=>{if(e.hasOwnProperty(n)){const r=e[n];if(!r.length)throw new Error(`i18n postprocess: unmatched ICU - ${t} with key: ${n}`);return r.shift()}return t}),n):n}(t,e)}function np(t,e,n){const r=ao()+t,i=Zs();return i[r]===du?dl(i,r,n?e.call(n):e()):pl(i,r)}function rp(t,e,n,r){return dp(Zs(),ao(),t,e,n,r)}function ip(t,e,n,r,i){return pp(Zs(),ao(),t,e,n,r,i)}function sp(t,e,n,r,i,s){return gp(Zs(),ao(),t,e,n,r,i,s)}function op(t,e,n,r,i,s,o){return yp(Zs(),ao(),t,e,n,r,i,s,o)}function ap(t,e,n,r,i,s,o,a){const u=ao()+t,c=Zs(),l=vl(c,u,n,r,i,s);return gl(c,u+4,o)||l?dl(c,u+5,a?e.call(a,n,r,i,s,o):e(n,r,i,s,o)):pl(c,u+5)}function up(t,e,n,r,i,s,o,a,u){const c=ao()+t,l=Zs(),h=vl(l,c,n,r,i,s);return yl(l,c+4,o,a)||h?dl(l,c+6,u?e.call(u,n,r,i,s,o,a):e(n,r,i,s,o,a)):pl(l,c+6)}function cp(t,e,n,r,i,s,o,a,u,c){const l=ao()+t,h=Zs();let f=vl(h,l,n,r,i,s);return ml(h,l+4,o,a,u)||f?dl(h,l+7,c?e.call(c,n,r,i,s,o,a,u):e(n,r,i,s,o,a,u)):pl(h,l+7)}function lp(t,e,n,r,i,s,o,a,u,c,l){const h=ao()+t,f=Zs(),d=vl(f,h,n,r,i,s);return vl(f,h+4,o,a,u,c)||d?dl(f,h+8,l?e.call(l,n,r,i,s,o,a,u,c):e(n,r,i,s,o,a,u,c)):pl(f,h+8)}function hp(t,e,n,r){return mp(Zs(),ao(),t,e,n,r)}function fp(t,e){const n=t[e];return n===du?void 0:n}function dp(t,e,n,r,i,s){const o=e+n;return gl(t,o,i)?dl(t,o+1,s?r.call(s,i):r(i)):fp(t,o+1)}function pp(t,e,n,r,i,s,o){const a=e+n;return yl(t,a,i,s)?dl(t,a+2,o?r.call(o,i,s):r(i,s)):fp(t,a+2)}function gp(t,e,n,r,i,s,o,a){const u=e+n;return ml(t,u,i,s,o)?dl(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):fp(t,u+3)}function yp(t,e,n,r,i,s,o,a,u){const c=e+n;return vl(t,c,i,s,o,a)?dl(t,c+4,u?r.call(u,i,s,o,a):r(i,s,o,a)):fp(t,c+4)}function mp(t,e,n,r,i,s){let o=e+n,a=!1;for(let u=0;u<i.length;u++)gl(t,o++,i[u])&&(a=!0);return a?dl(t,o,r.apply(s,i)):fp(t,o)}function vp(t,e){const n=Js();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new Error(`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=Es(r.type)),o=$i(Vl),a=Zo(!1),u=s();return Zo(a),$i(o),function(t,e,n,r){const i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(n,Zs(),t,u),u}function bp(t,e,n){const r=Zs(),i=Hs(r,t);return xp(r,Op(r,t)?dp(r,ao(),e,i.transform,n,i):i.transform(n))}function _p(t,e,n,r){const i=Zs(),s=Hs(i,t);return xp(i,Op(i,t)?pp(i,ao(),e,s.transform,n,r,s):s.transform(n,r))}function wp(t,e,n,r,i){const s=Zs(),o=Hs(s,t);return xp(s,Op(s,t)?gp(s,ao(),e,o.transform,n,r,i,o):o.transform(n,r,i))}function Ep(t,e,n,r,i,s){const o=Zs(),a=Hs(o,t);return xp(o,Op(o,t)?yp(o,ao(),e,a.transform,n,r,i,s,a):a.transform(n,r,i,s))}function Sp(t,e,n){const r=Zs(),i=Hs(r,t);return xp(r,Op(r,t)?mp(r,ao(),e,i.transform,n,i):i.transform.apply(i,n))}function Op(t,e){return t[1].data[e+20].pure}function xp(t,e){return fl.isWrapped(e)&&(e=fl.unwrap(e),t[uo()]=du),e}const Tp=class extends Kr{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(r,i,s);return t instanceof Mr&&t.add(o),o}};function Ip(){return this._results[hl()]()}class Cp{constructor(){this.dirty=!0,this._results=[],this.changes=new Tp,this.length=0;const t=hl(),e=Cp.prototype;e[t]||(e[t]=Ip)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class kp{constructor(t){this.queryList=t,this.matches=null}clone(){return new kp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ap{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new Ap(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Gp(t,e).matches&&this.queries[e].setDirty()}}class jp{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Np{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Np(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Pp{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Pp(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Rp(e,i)),this.matchTNodeWithReadOption(t,e,ua(e,t,i,!1,!1))}else n===td?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ua(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Zf||r===nd||r===td&&0===e.type)this.addMatch(e.index,-2);else{const n=ua(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Rp(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Dp(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?Lc(Zf,t,e):0===t.type?Mc(td,Zf,t,e):null}(e,t):-2===n?function(t,e,n){return n===Zf?Lc(Zf,e,t):n===td?Mc(td,Zf,e,t):n===nd?Fc(nd,Zf,e,t):void 0}(t,e,r):ca(t,t[1],n,e)}function Lp(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:Dp(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function Mp(t){const e=Zs(),n=Js(),r=yo();mo(r+1);const i=Gp(n,r);if(t.dirty&&4==(4&e[2])===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?function t(e,n,r,i){const s=e.queries.getByIndex(r),o=s.matches;if(null!==o){const a=Lp(e,n,s,r);for(let e=0;e<o.length;e+=2){const r=o[e];if(r>0)i.push(a[e/2]);else{const s=o[e+1],a=n[-r];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,i)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,s,i)}}}}}return i}(n,e,r,[]):Lp(n,e,i,r);t.reset(s),t.notifyOnChanges()}return!0}return!1}function Fp(t,e,n){Vp(Js(),Zs(),t,e,n,!0)}function Up(t,e,n){Vp(Js(),Zs(),t,e,n,!1)}function Vp(t,e,n,r,i,s){t.firstCreatePass&&(Wp(t,new jp(n,r,s,i),-1),s&&(t.staticViewQueries=!0)),$p(t,e)}function qp(t,e,n,r){Bp(Js(),Zs(),e,n,r,!1,eo(),t)}function Hp(t,e,n,r){Bp(Js(),Zs(),e,n,r,!0,eo(),t)}function Bp(t,e,n,r,i,s,o,a){t.firstCreatePass&&(Wp(t,new jp(n,r,s,i),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),$p(t,e)}function zp(){return t=Zs(),e=yo(),t[19].queries[e].queryList;var t,e}function $p(t,e){const n=new Cp;Mu(t,e,n,n.destroy),null===e[19]&&(e[19]=new Ap),e[19].queries.push(new kp(n))}function Wp(t,e,n){null===t.queries&&(t.queries=new Np),t.queries.track(new Pp(e,n))}function Gp(t,e){return t.queries.getByIndex(e)}function Qp(t,e){return Mc(td,Zf,t,e)}function Kp(t=hi.Default){const e=Uc(!0);if(null!=e||t&hi.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}const Yp=(()=>({"\u0275\u0275attribute":bl,"\u0275\u0275attributeInterpolate1":kl,"\u0275\u0275attributeInterpolate2":Al,"\u0275\u0275attributeInterpolate3":jl,"\u0275\u0275attributeInterpolate4":Nl,"\u0275\u0275attributeInterpolate5":Pl,"\u0275\u0275attributeInterpolate6":Rl,"\u0275\u0275attributeInterpolate7":Dl,"\u0275\u0275attributeInterpolate8":Ll,"\u0275\u0275attributeInterpolateV":Ml,"\u0275\u0275defineComponent":ls,"\u0275\u0275defineDirective":vs,"\u0275\u0275defineInjectable":pi,"\u0275\u0275defineInjector":gi,"\u0275\u0275defineNgModule":gs,"\u0275\u0275definePipe":bs,"\u0275\u0275directiveInject":Vl,"\u0275\u0275getFactoryOf":da,"\u0275\u0275getInheritedFactory":pa,"\u0275\u0275inject":Gi,"\u0275\u0275injectAttribute":ql,"\u0275\u0275invalidFactory":Hl,"\u0275\u0275invalidFactoryDep":Qi,"\u0275\u0275injectPipeChangeDetectorRef":Kp,"\u0275\u0275templateRefExtractor":Qp,"\u0275\u0275NgOnChangesFeature":js,"\u0275\u0275ProvidersFeature":Xf,"\u0275\u0275CopyDefinitionFeature":Bf,"\u0275\u0275InheritDefinitionFeature":Lf,"\u0275\u0275nextContext":rh,"\u0275\u0275namespaceHTML":Ao,"\u0275\u0275namespaceMathML":ko,"\u0275\u0275namespaceSVG":Co,"\u0275\u0275enableBindings":Ys,"\u0275\u0275disableBindings":Xs,"\u0275\u0275elementStart":$l,"\u0275\u0275elementEnd":Wl,"\u0275\u0275element":Gl,"\u0275\u0275elementContainerStart":Ql,"\u0275\u0275elementContainerEnd":Kl,"\u0275\u0275elementContainer":Yl,"\u0275\u0275pureFunction0":np,"\u0275\u0275pureFunction1":rp,"\u0275\u0275pureFunction2":ip,"\u0275\u0275pureFunction3":sp,"\u0275\u0275pureFunction4":op,"\u0275\u0275pureFunction5":ap,"\u0275\u0275pureFunction6":up,"\u0275\u0275pureFunction7":cp,"\u0275\u0275pureFunction8":lp,"\u0275\u0275pureFunctionV":hp,"\u0275\u0275getCurrentView":Xl,"\u0275\u0275restoreView":to,"\u0275\u0275listener":Zl,"\u0275\u0275projection":uh,"\u0275\u0275syntheticHostProperty":Rf,"\u0275\u0275syntheticHostListener":Jl,"\u0275\u0275pipeBind1":bp,"\u0275\u0275pipeBind2":_p,"\u0275\u0275pipeBind3":wp,"\u0275\u0275pipeBind4":Ep,"\u0275\u0275pipeBindV":Sp,"\u0275\u0275projectionDef":sh,"\u0275\u0275hostProperty":Pf,"\u0275\u0275property":Bl,"\u0275\u0275propertyInterpolate":ch,"\u0275\u0275propertyInterpolate1":lh,"\u0275\u0275propertyInterpolate2":hh,"\u0275\u0275propertyInterpolate3":fh,"\u0275\u0275propertyInterpolate4":dh,"\u0275\u0275propertyInterpolate5":ph,"\u0275\u0275propertyInterpolate6":gh,"\u0275\u0275propertyInterpolate7":yh,"\u0275\u0275propertyInterpolate8":mh,"\u0275\u0275propertyInterpolateV":vh,"\u0275\u0275pipe":vp,"\u0275\u0275queryRefresh":Mp,"\u0275\u0275viewQuery":Up,"\u0275\u0275staticViewQuery":Fp,"\u0275\u0275staticContentQuery":Hp,"\u0275\u0275loadQuery":zp,"\u0275\u0275contentQuery":qp,"\u0275\u0275reference":Ul,"\u0275\u0275classMap":Dh,"\u0275\u0275classMapInterpolate1":of,"\u0275\u0275classMapInterpolate2":af,"\u0275\u0275classMapInterpolate3":uf,"\u0275\u0275classMapInterpolate4":cf,"\u0275\u0275classMapInterpolate5":lf,"\u0275\u0275classMapInterpolate6":hf,"\u0275\u0275classMapInterpolate7":ff,"\u0275\u0275classMapInterpolate8":df,"\u0275\u0275classMapInterpolateV":pf,"\u0275\u0275styleMap":Ph,"\u0275\u0275styleMapInterpolate1":gf,"\u0275\u0275styleMapInterpolate2":yf,"\u0275\u0275styleMapInterpolate3":mf,"\u0275\u0275styleMapInterpolate4":vf,"\u0275\u0275styleMapInterpolate5":bf,"\u0275\u0275styleMapInterpolate6":_f,"\u0275\u0275styleMapInterpolate7":wf,"\u0275\u0275styleMapInterpolate8":Ef,"\u0275\u0275styleMapInterpolateV":Sf,"\u0275\u0275styleProp":jh,"\u0275\u0275stylePropInterpolate1":Of,"\u0275\u0275stylePropInterpolate2":xf,"\u0275\u0275stylePropInterpolate3":Tf,"\u0275\u0275stylePropInterpolate4":If,"\u0275\u0275stylePropInterpolate5":Cf,"\u0275\u0275stylePropInterpolate6":kf,"\u0275\u0275stylePropInterpolate7":Af,"\u0275\u0275stylePropInterpolate8":jf,"\u0275\u0275stylePropInterpolateV":Nf,"\u0275\u0275classProp":Nh,"\u0275\u0275select":bu,"\u0275\u0275advance":vu,"\u0275\u0275template":Fl,"\u0275\u0275text":Qh,"\u0275\u0275textInterpolate":Kh,"\u0275\u0275textInterpolate1":Yh,"\u0275\u0275textInterpolate2":Xh,"\u0275\u0275textInterpolate3":Zh,"\u0275\u0275textInterpolate4":Jh,"\u0275\u0275textInterpolate5":tf,"\u0275\u0275textInterpolate6":ef,"\u0275\u0275textInterpolate7":nf,"\u0275\u0275textInterpolate8":rf,"\u0275\u0275textInterpolateV":sf,"\u0275\u0275i18n":Xd,"\u0275\u0275i18nAttributes":Zd,"\u0275\u0275i18nExp":Jd,"\u0275\u0275i18nStart":Kd,"\u0275\u0275i18nEnd":Yd,"\u0275\u0275i18nApply":tp,"\u0275\u0275i18nPostprocess":ep,"\u0275\u0275resolveWindow":Qo,"\u0275\u0275resolveDocument":Ko,"\u0275\u0275resolveBody":Yo,"\u0275\u0275setComponentScope":hs,"\u0275\u0275setNgModuleScope":ys,"\u0275\u0275sanitizeHtml":Ka,"\u0275\u0275sanitizeStyle":Ya,"\u0275\u0275sanitizeResourceUrl":Za,"\u0275\u0275sanitizeScript":Ja,"\u0275\u0275sanitizeUrl":Xa,"\u0275\u0275sanitizeUrlOrResourceUrl":tu}))();function Xp(t,e){let n=null;(function(t,e){let n=null;Object.defineProperty(t,qi,{get:()=>{if(null===n){const r=Zp(t,e),i=Li();n=i.compileFactory(Yp,`ng:///${t.name}/\u0275fac.js`,Object.assign(Object.assign({},r.metadata),{injectFn:"directiveInject",target:i.R3FactoryTarget.Directive}))}return n},configurable:!1})})(t,e||{}),Object.defineProperty(t,Fi,{get:()=>{if(null===n){const r=Zp(t,e||{});n=Li().compileDirective(Yp,r.sourceMapUrl,r.metadata)}return n},configurable:!1})}function Zp(t,e){const n=t&&t.name,r=`ng:///${n}/\u0275dir.js`,i=Li(),s=function(t,e){const n=Zc(),r=n.ownPropMetadata(t);return{name:t.name,type:t,typeArgumentCount:0,selector:void 0!==e.selector?e.selector:null,deps:Jc(t),host:e.host||as,propMetadata:r,inputs:e.inputs||us,outputs:e.outputs||us,queries:eg(t,r,ng),lifecycle:{usesOnChanges:n.hasLifecycleHook(t,"ngOnChanges")},typeSourceSpan:null,usesInheritance:!Jp(t),exportAs:(i=e.exportAs,void 0===i?null:sg(i)),providers:e.providers||null,viewQueries:eg(t,r,rg)};var i}(t,e);return s.typeSourceSpan=i.createParseSourceSpan("Directive",n,r),s.usesInheritance&&function(t){const e=Object.prototype;let n=Object.getPrototypeOf(t.prototype).constructor;for(;n&&n!==e;)ws(n)||_s(n)||!ag(n)||Xp(n,null),n=Object.getPrototypeOf(n)}(t),{metadata:s,sourceMapUrl:r}}function Jp(t){return Object.getPrototypeOf(t.prototype)===Object.prototype}function tg(t,e){return{propertyName:t,predicate:(n=e.selector,"string"==typeof n?sg(n):Ci(n)),descendants:e.descendants,first:e.first,read:e.read?e.read:null,static:!!e.static};var n}function eg(t,e,n){const r=[];for(const i in e)if(e.hasOwnProperty(i)){const s=e[i];s.forEach(e=>{if(n(e)){if(!e.selector)throw new Error(`Can't construct a query for the property "${i}" of `+`"${Go(t)}" since the query selector wasn't defined.`);if(s.some(ig))throw new Error("Cannot combine @Input decorators with query decorators");r.push(tg(i,e))}})}return r}function ng(t){const e=t.ngMetadataName;return"ContentChild"===e||"ContentChildren"===e}function rg(t){const e=t.ngMetadataName;return"ViewChild"===e||"ViewChildren"===e}function ig(t){return"Input"===t.ngMetadataName}function sg(t){return t.split(",").map(t=>t.trim())}const og=["ngOnChanges","ngOnInit","ngOnDestroy","ngDoCheck","ngAfterViewInit","ngAfterViewChecked","ngAfterContentInit","ngAfterContentChecked"];function ag(t){const e=Zc();if(og.some(n=>e.hasLifecycleHook(t,n)))return!0;const n=e.propMetadata(t);for(const r in n){const t=n[r];for(let e=0;e<t.length;e++){const n=t[e],r=n.ngMetadataName;if(ig(n)||ng(n)||rg(n)||"Output"===r||"HostBinding"===r||"HostListener"===r)return!0}}return!1}const ug=ei("Directive",(t={})=>t,void 0,void 0,(t,e)=>lg(t,e)),cg=ii("Input",t=>({bindingPropertyName:t})),lg=Xp;function hg(t,e){return function(n){return n.lift(new fg(t,e))}}class fg{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new dg(t,this.predicate,this.thisArg))}}class dg extends Vr{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function pg(){}function gg(t,e,n){return function(r){return r.lift(new yg(t,e,n))}}class yg{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new mg(t,this.nextOrObserver,this.error,this.complete))}}class mg extends Vr{constructor(t,e,n,r){super(t),this._tapNext=pg,this._tapError=pg,this._tapComplete=pg,this._tapError=n||pg,this._tapComplete=r||pg,Ar(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||pg,this._tapError=e.error||pg,this._tapComplete=e.complete||pg)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class vg{constructor(t,e){this.id=t,this.url=e}}class bg extends vg{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _g extends vg{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var wg,Eg,Sg;function Og(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!0),wg=!0,Eg=t,Sg=n,e&&t({name:window.location.pathname,op:"pageload"})}function xg(){var t=nn();if(t){var e=t.getScope();if(e)return e.getTransaction()}}(function(){function t(t){var e=this;this._router=t,this.navStart$=this._router.events.pipe(hg((function(t){return t instanceof bg})),gg((function(t){if(wg){var n=t,r=xg();!r&&Sg&&(r=Eg({name:n.url,op:"navigation"})),r&&(e._routingSpan=r.startChild({description:""+n.url,op:"angular.routing",tags:Object(He.__assign)({"routing.instrumentation":"@sentry/angular",url:n.url},n.navigationTrigger&&{navigationTrigger:n.navigationTrigger})}))}else Ze.error("Angular integration has tracing enabled, but Tracing integration is not configured")}))),this.navEnd$=this._router.events.pipe(hg((function(t){return t instanceof _g})),gg((function(){e._routingSpan&&(e._routingSpan.finish(),delete e._routingSpan)}))),this.navStart$.subscribe(),this.navEnd$.subscribe()}t=Object(He.__decorate)([sl({providedIn:"root"})],t)})(),function(){function t(){this.componentName="unknown"}t.prototype.ngOnInit=function(){var t=xg();t&&(this._tracingSpan=t.startChild({description:"<"+this.componentName+">",op:"angular.initialize"}))},t.prototype.ngAfterViewInit=function(){this._tracingSpan&&this._tracingSpan.finish()},Object(He.__decorate)([cg("trace")],t.prototype,"componentName",void 0),t=Object(He.__decorate)([ug({selector:"[trace]"})],t)}();var Tg,Ig=n("AytR");function Cg(t){if(void 0===t&&(t=nn()),t){var e=t.getScope();if(e)return e.getTransaction()}}function kg(t){return t/1e3}function Ag(){var t=Cg();t&&(Ze.log("[Tracing] Transaction: "+Tg.InternalError+" -> Global error occured"),t.setStatus(Tg.InternalError))}!function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"}(Tg||(Tg={})),function(t){t.fromHttpCode=function(e){if(e<400)return t.Ok;if(e>=400&&e<500)switch(e){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(e>=500&&e<600)switch(e){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}}(Tg||(Tg={}));var jg=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$"),Ng=function(){function t(t){void 0===t&&(t=1e3),this.spans=[],this._maxlen=t}return t.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},t}(),Pg=function(){function t(t){if(this.traceId=Object(ze.m)(),this.spanId=Object(ze.m)().substring(16),this.startTimestamp=Object(ze.l)(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return t.fromTraceparent=function(e,n){var r=e.match(jg);if(r){var i=void 0;return"1"===r[3]?i=!0:"0"===r[3]&&(i=!1),new t(Object(He.__assign)(Object(He.__assign)({},n),{parentSpanId:r[2],sampled:i,traceId:r[1]}))}},t.prototype.child=function(t){return this.startChild(t)},t.prototype.startChild=function(e){var n=new t(Object(He.__assign)(Object(He.__assign)({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n},t.prototype.setTag=function(t,e){var n;return this.tags=Object(He.__assign)(Object(He.__assign)({},this.tags),((n={})[t]=e,n)),this},t.prototype.setData=function(t,e){var n;return this.data=Object(He.__assign)(Object(He.__assign)({},this.data),((n={})[t]=e,n)),this},t.prototype.setStatus=function(t){return this.status=t,this},t.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var e=Tg.fromHttpCode(t);return e!==Tg.UnknownError&&this.setStatus(e),this},t.prototype.isSuccess=function(){return this.status===Tg.Ok},t.prototype.finish=function(t){this.endTimestamp="number"==typeof t?t:Object(ze.l)()},t.prototype.toTraceparent=function(){var t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},t.prototype.getTraceContext=function(){return wn({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return wn({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}(),Rg=function(t){function e(e,n){var r=t.call(this,e)||this;return r._hub=nn(),Object(Be.g)(n,Je)&&(r._hub=n),e.name&&(r.name=e.name),r._trimEnd=e.trimEnd,r}return Object(He.__extends)(e,t),e.prototype.setName=function(t){this.name=t},e.prototype.initSpanRecorder=function(t){void 0===t&&(t=1e3),this.spanRecorder||(this.spanRecorder=new Ng(t)),this.spanRecorder.add(this)},e.prototype.finish=function(e){var n=this;if(void 0===this.endTimestamp){if(this.name||(Ze.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,e),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter((function(t){return t!==n&&t.endTimestamp})):[];return this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((function(t,e){return t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t})).endTimestamp),this._hub.captureEvent({contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction"})}Ze.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.")}},e}(Pg),Dg=function(t){function e(e,n,r,i){void 0===r&&(r="");var s=t.call(this,i)||this;return s._pushActivity=e,s._popActivity=n,s.transactionSpanId=r,s}return Object(He.__extends)(e,t),e.prototype.add=function(e){var n=this;e.spanId!==this.transactionSpanId&&(e.finish=function(t){e.endTimestamp="number"==typeof t?t:Object(ze.l)(),n._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),t.prototype.add.call(this,e)},e}(Ng),Lg=function(t){function e(e,n,r,i){void 0===r&&(r=1e3),void 0===i&&(i=!1);var s=t.call(this,e,n)||this;return s._idleHub=n,s._idleTimeout=r,s._onScope=i,s.activities={},s._heartbeatTimer=0,s._heartbeatCounter=0,s._finished=!1,s._beforeFinishCallbacks=[],n&&i&&(Mg(n),Ze.log("Setting idle transaction on scope. Span ID: "+s.spanId),n.configureScope((function(t){return t.setSpan(s)}))),s}return Object(He.__extends)(e,t),e.prototype.finish=function(e){var n,r,i=this;if(void 0===e&&(e=Object(ze.l)()),this._finished=!0,this.activities={},this.spanRecorder){Ze.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);try{for(var s=Object(He.__values)(this._beforeFinishCallbacks),o=s.next();!o.done;o=s.next())(0,o.value)(this,e)}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(t){if(t.spanId===i.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus(Tg.Cancelled),Ze.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var n=t.startTimestamp<e;return n||Ze.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n})),this._onScope&&Mg(this._idleHub),Ze.log("[Tracing] flushing IdleTransaction")}else Ze.log("[Tracing] No active IdleTransaction");return t.prototype.finish.call(this,e)},e.prototype.registerBeforeFinishCallback=function(t){this._beforeFinishCallbacks.push(t)},e.prototype.initSpanRecorder=function(t){var e=this;this.spanRecorder||(this._initTimeout=setTimeout((function(){e._finished||e.finish()}),this._idleTimeout),this.spanRecorder=new Dg((function(t){e._finished||e._pushActivity(t)}),(function(t){e._finished||e._popActivity(t)}),this.spanId,t),Ze.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)},e.prototype._pushActivity=function(t){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),Ze.log("[Tracing] pushActivity: "+t),this.activities[t]=!0,Ze.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(t){var e=this;if(this.activities[t]&&(Ze.log("[Tracing] popActivity "+t),delete this.activities[t],Ze.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=Object(ze.l)()+n/1e3;setTimeout((function(){e._finished||e.finish(r)}),n)}},e.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var t=Object.keys(this.activities),e=t.length?t.reduce((function(t,e){return t+e})):"";e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(Ze.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(Tg.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var t=this;Ze.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout((function(){t._beat()}),5e3)},e}(Rg);function Mg(t){if(t){var e=t.getScope();e&&e.getTransaction()&&e.setSpan(void 0)}}function Fg(t,e){var n=t.getClient();if(void 0===e.sampled){var r=n&&n.getOptions().tracesSampleRate||0;e.sampled=Math.random()<r}if(e.sampled){var i=n&&n.getOptions()._experiments||{};e.initSpanRecorder(i.maxSpans)}return e}var Ug=Object(ze.f)(),Vg=Object(ze.f)(),qg=function(){function t(){this._lcp={},this._performanceCursor=0,this._forceLCP=function(){},Vg&&Vg.performance&&(Vg.performance.mark&&Vg.performance.mark("sentry-tracing-init"),this._trackLCP())}return t.prototype.addPerformanceEntries=function(t){if(Vg&&Vg.performance&&Vg.performance.getEntries){Ze.log("[Tracing] Adding & adjusting spans using Performance API"),"pageload"===t.op&&(this._forceLCP(),this._lcp&&t.setData("_sentry_web_vitals",{LCP:this._lcp}));var e,n,r,i=kg(performance.timeOrigin);if(Vg.document)for(var s=0;s<document.scripts.length;s++)if("true"===document.scripts[s].dataset.entry){e=document.scripts[s].src;break}Vg.performance.getEntries().slice(this._performanceCursor).forEach((function(s){var o=kg(s.startTime),a=kg(s.duration);if(!("navigation"===t.op&&i+o<t.startTimestamp))switch(s.entryType){case"navigation":!function(t,e,n){Hg(t,e,"unloadEvent",n),Hg(t,e,"domContentLoadedEvent",n),Hg(t,e,"loadEvent",n),Hg(t,e,"connect",n),Hg(t,e,"domainLookup",n),function(t,e,n){Bg(t,{description:"request",endTimestamp:n+kg(e.responseEnd),op:"browser",startTimestamp:n+kg(e.requestStart)}),Bg(t,{description:"response",endTimestamp:n+kg(e.responseEnd),op:"browser",startTimestamp:n+kg(e.responseStart)})}(t,e,n)}(t,s,i);break;case"mark":case"paint":case"measure":var u=function(t,e,n,r,i){var s=i+n;return Bg(t,{description:e.name,endTimestamp:s+r,op:e.entryType,startTimestamp:s}),s}(t,s,o,a,i);void 0===r&&"sentry-tracing-init"===s.name&&(r=u);break;case"resource":var c=s.name.replace(window.location.origin,""),l=function(t,e,n,r,i,s){if("xmlhttprequest"!==e.initiatorType&&"fetch"!==e.initiatorType){var o={};"transferSize"in e&&(o["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(o["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(o["Decoded Body Size"]=e.decodedBodySize);var a=s+r,u=a+i;return Bg(t,{description:n,endTimestamp:u,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:a,data:o}),u}}(t,s,c,o,a,i);void 0===n&&(e||"").indexOf(c)>-1&&(n=l)}})),void 0!==n&&void 0!==r&&Bg(t,{description:"evaluation",endTimestamp:r,op:"script",startTimestamp:n}),this._performanceCursor=Math.max(performance.getEntries().length-1,0)}},t.prototype._trackLCP=function(){var t=this;try{var e="hidden"===document.visibilityState?0:1/0;document.addEventListener("visibilitychange",(function(t){e=Math.min(e,t.timeStamp)}),{once:!0});var n=function(n){n.startTime<e&&(t._lcp=Object(He.__assign)(Object(He.__assign)(Object(He.__assign)({},n.id&&{elementId:n.id}),n.size&&{elementSize:n.size}),{value:n.startTime}))},r=new PerformanceObserver((function(t){t.getEntries().forEach(n)}));r.observe({buffered:!0,type:"largest-contentful-paint"}),this._forceLCP=function(){r.takeRecords&&r.takeRecords().forEach(n)}}catch(i){}},t}();function Hg(t,e,n,r){var i=e[n+"End"],s=e[n+"Start"];s&&i&&Bg(t,{description:n,endTimestamp:r+kg(i),op:"browser",startTimestamp:r+kg(s)})}function Bg(t,e){var n=e.startTimestamp,r=Object(He.__rest)(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild(Object(He.__assign)({startTimestamp:n},r))}var zg={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]},$g=Object(ze.f)();function Wg(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!0),$g&&$g.location){var r,i=$g.location.href;e&&(r=t({name:$g.location.pathname,op:"pageload"})),n&&lr({callback:function(e){var n=e.to,s=e.from;void 0===s&&i&&-1!==i.indexOf(n)?i=void 0:s!==n&&(i=void 0,r&&(Ze.log("[Tracing] finishing current idleTransaction with op: "+r.op),r.finish()),r=t({name:$g.location.pathname,op:"navigation"}))},type:"history"})}else Ze.warn("Could not initialize routing instrumentation due to invalid location")}function Gg(t){return t}var Qg=function(){function t(e){this.options=Object(He.__assign)({beforeNavigate:Gg,idleTimeout:1e3,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:Wg,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},zg),this.name=t.id,this._metrics=new qg,this._emitOptionsWarning=!1;var n=zg.tracingOrigins;e&&e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&0!==e.tracingOrigins.length?n=e.tracingOrigins:this._emitOptionsWarning=!0,this.options=Object(He.__assign)(Object(He.__assign)(Object(He.__assign)({},this.options),e),{tracingOrigins:n})}return t.prototype.setupOnce=function(t,e){var n=this;this._getCurrentHub=e,this._emitOptionsWarning&&(Ze.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),Ze.warn("[Tracing] We added a reasonable default for you: "+zg.tracingOrigins));var r=this.options,i=r.markBackgroundTransactions,s=r.traceFetch,o=r.traceXHR,a=r.tracingOrigins,u=r.shouldCreateSpanForRequest;(0,r.routingInstrumentation)((function(t){return n._createRouteTransaction(t)}),r.startTransactionOnPageLoad,r.startTransactionOnLocationChange),i&&(Ug&&Ug.document?Ug.document.addEventListener("visibilitychange",(function(){var t=Cg();Ug.document.hidden&&t&&(Ze.log("[Tracing] Transaction: "+Tg.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(Tg.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())})):Ze.warn("[Tracing] Could not set up background tab detection due to lack of global document")),function(e){var n=Object(He.__assign)(Object(He.__assign)({},zg),e),r=n.traceXHR,i=n.tracingOrigins,s={},o=n.shouldCreateSpanForRequest||function(t){return s[t]||(s[t]=i.some((function(e){return Object(an.a)(t,e)}))&&!Object(an.a)(t,"sentry_key")),s[t]},a={};n.traceFetch&&lr({callback:function(t){!function(t,e,n){if(t.fetchData&&e(t.fetchData.url))if(t.endTimestamp&&t.fetchData.__span){if(s=n[t.fetchData.__span]){var r=t.response;r&&s.setHttpStatus(r.status),s.finish(),delete n[t.fetchData.__span]}}else{var i=Cg();if(i){var s=i.startChild({data:Object(He.__assign)(Object(He.__assign)({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http"});t.fetchData.__span=s.spanId,n[s.spanId]=s;var o=t.args[0]=t.args[0],a=t.args[1]=t.args[1]||{},u=a.headers;Object(Be.g)(o,Request)&&(u=o.headers),u?"function"==typeof u.append?u.append("sentry-trace",s.toTraceparent()):u=Array.isArray(u)?Object(He.__spread)(u,[["sentry-trace",s.toTraceparent()]]):Object(He.__assign)(Object(He.__assign)({},u),{"sentry-trace":s.toTraceparent()}):u={"sentry-trace":s.toTraceparent()},a.headers=u}}}(t,o,a)},type:"fetch"}),r&&lr({callback:function(e){!function(e,n,r){if(e&&e.xhr&&e.xhr.__sentry_xhr__){var i=e.xhr.__sentry_xhr__;if(n(i.url)&&!e.xhr.__sentry_own_request__)if(e.endTimestamp&&e.xhr.__sentry_xhr_span_id__)(o=r[e.xhr.__sentry_xhr_span_id__])&&(o.setData("url",i.url),o.setData("method",i.method),o.setHttpStatus(i.status_code),o.finish(),delete r[e.xhr.__sentry_xhr_span_id__]);else{var s=Cg();if(s){var o=s.startChild({data:Object(He.__assign)(Object(He.__assign)({},i.data),{type:"xhr"}),description:i.method+" "+i.url,op:"http"});if(e.xhr.__sentry_xhr_span_id__=o.spanId,r[e.xhr.__sentry_xhr_span_id__]=o,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",o.toTraceparent())}catch(t){}}}}}(e,o,a)},type:"xhr"})}({traceFetch:s,traceXHR:o,tracingOrigins:a,shouldCreateSpanForRequest:u})},t.prototype._createRouteTransaction=function(t){var e=this;if(this._getCurrentHub){var n=this.options,r=n.idleTimeout,i=n.maxTransactionDuration,s=(0,n.beforeNavigate)(Object(He.__assign)(Object(He.__assign)(Object(He.__assign)({},t),function(){var t,e=(t=document.querySelector("meta[name=sentry-trace]"))?t.getAttribute("content"):null;if(e){var n=Pg.fromTraceparent(e);if(n)return{parentSpanId:n.parentSpanId,sampled:n.sampled,traceId:n.traceId}}return{}}()),{trimEnd:!0}));if(void 0!==s){var o=this._getCurrentHub();Ze.log("[Tracing] starting "+s.op+" idleTransaction on scope");var a=function(t,e,n,r){return Fg(t,new Lg(e,t,n,!0))}(o,s,r);return a.registerBeforeFinishCallback((function(t,n){e._metrics.addPerformanceEntries(t),function(t,e,n){var r=n-e.startTimestamp;n&&(r>t||r<0)&&(e.setStatus(Tg.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}(1e3*i,t,n)})),a}Ze.log("[Tracing] Did not create "+t.op+" idleTransaction due to beforeNavigate")}else Ze.warn("[Tracing] Did not create "+t.op+" idleTransaction due to invalid _getCurrentHub")},t.id="BrowserTracing",t}(),Kg=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._app=e.app}return t.prototype.setupOnce=function(){var t,e;this._app?(e=(t=this._app).use,t.use=function(){return e.apply(this,Xg(arguments))}):Ze.error("ExpressIntegration is missing an Express instance")},t.id="Express",t}();function Yg(t){var e=t.length;switch(e){case 2:return function(e,n){var r=n.__sentry_transaction;if(r){var i=r.startChild({description:t.name,op:"middleware"});n.once("finish",(function(){i.finish()}))}return t.apply(this,arguments)};case 3:return function(e,n,r){var i=n.__sentry_transaction,s=i&&i.startChild({description:t.name,op:"middleware"});t.call(this,e,n,(function(){return s&&s.finish(),r.apply(this,arguments)}))};case 4:return function(e,n,r,i){var s=r.__sentry_transaction,o=s&&s.startChild({description:t.name,op:"middleware"});t.call(this,e,n,r,(function(){return o&&o.finish(),i.apply(this,arguments)}))};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+e)}}function Xg(t){return Array.from(t).map((function(t){return"function"==typeof t?Yg(t):Array.isArray(t)?t.map((function(t){return"function"==typeof t?Yg(t):t})):t}))}var Zg,Jg=Object(He.__assign)(Object(He.__assign)({},i),{BrowserTracing:Qg});(Zg=tn()).__SENTRY__&&(Zg.__SENTRY__.extensions=Zg.__SENTRY__.extensions||{},Zg.__SENTRY__.extensions.startTransaction||(Zg.__SENTRY__.extensions.startTransaction=function(t){return Fg(this,new Rg(t,this))}),Zg.__SENTRY__.extensions.traceHeaders||(Zg.__SENTRY__.extensions.traceHeaders=function(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}})),lr({callback:Ag,type:"error"}),lr({callback:Ag,type:"unhandledrejection"});const ty=(t,e)=>(console.log("Error sent to sentry"),t);let ey=(()=>{class t{handleError(t){throw tr(t.originalError||t),t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Jb({token:t,factory:t.\u0275fac}),t})(),ny=(()=>{class t{constructor(){Ig.a.production&&function(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=kr),void 0===t.release){var e=Object(ze.f)();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}!function(t,e){!0===e.debug&&Ze.enable();var n=nn(),r=new t(e);n.bindClient(r)}(Er,t)}({dsn:"https://a06fcd68143b41588286bf0e86dd55ff@o443697.ingest.sentry.io/5417793",integrations:[new Jg.BrowserTracing({tracingOrigins:["localhost","https://raphaelyan.github.io"],routingInstrumentation:Og})],tracesSampleRate:1,beforeSend:ty,environment:Ig.a.production?"PROD":"DEV"})}}return t.\u0275mod=o.Lb({type:t,bootstrap:[Le]}),t.\u0275inj=o.Kb({factory:function(e){return new(e||t)},providers:[{provide:o.m,useClass:ey}],imports:[[s.a,Ee,be,Ue.a.initializeApp(Ig.a.firebase),Ve.b]]}),t})();s.d().bootstrapModule(ny).catch(t=>console.error(t))},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(t,e){if(!t)throw o(e)},o=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,o||(l=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){var o=((7&i)<<18|(63&(s=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{s=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==o||null==a||null==u)throw Error();r.push(s<<2|o>>4),64!==a&&(r.push(o<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},c=function(t){try{return u.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=l(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function f(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}var p=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,g.prototype.create),i}return r.__extends(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?y(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new p(i,a),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function y(t,e){return t.replace(m,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var m=/\{\$([^}]+)}/g;function v(t){return JSON.parse(t)}var b=function(t){var e={},n={},r={},i="";try{var s=t.split(".");e=v(c(s[0])||""),n=v(c(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(o){}return{header:e,claims:n,data:r,signature:i}},_=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,s,o=this.chain_[0],a=this.chain_[1],u=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=c^a&(u^c),s=1518500249):(i=a^u^c,s=1859775393):r<60?(i=a&u|c&(a|u),s=2400959708):(i=a^u^c,s=3395469782);var h=(o<<5|o>>>27)+i+l+s+n[r]&4294967295;l=c,c=u,u=4294967295&(a<<30|a>>>2),a=o,o=h}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;r<e;){if(0===s)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[s]=t.charCodeAt(r),++r,++s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<e;)if(i[s]=t[r],++r,++s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function E(){}function S(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=g,e.FirebaseError=p,e.Sha1=_,e.areCookiesEnabled=function(){return!(!navigator||!navigator.cookieEnabled)},e.assert=s,e.assertionError=o,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){t.apply(void 0,n)})).catch((function(t){e&&e(t)}))}},e.base64=u,e.base64Decode=c,e.base64Encode=function(t){var e=a(t);return u.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=b,e.deepCopy=function(t){return l(void 0,t)},e.deepExtend=l,e.errorPrefix=S,e.getUA=f,e.isAdmin=function(t){var e=b(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isBrowserExtension=function(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id},e.isElectron=function(){return f().indexOf("Electron/")>=0},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isIE=function(){var t=f();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0},e.isIndexedDBAvailable=function(){return"indexedDB"in self&&null!==indexedDB},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},e.isNode=d,e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isSafari=function(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},e.isUWP=function(){return f().indexOf("MSAppHost/")>=0},e.isValidFormat=function(t){var e=b(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=b(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=b(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var s=i[r];n(s[0],s[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}})),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,s(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(S(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(S(t,e,r)+"must be a valid context object.")},e.validateIndexedDBOpenable=function(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(s){e(s)}}))},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(S(t,e,r)+"must be a valid firebase namespace.")}}},[[0,1]]]);