function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var o=0;o<n.length;o++){var t=n[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,n,o){return n&&_defineProperties(e.prototype,n),o&&_defineProperties(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{EKgk:function(e,n,o){"use strict";o.r(n),o.d(n,"DdBuilderModule",(function(){return O}));var t=o("ofXK"),i=o("3Pt+"),s=o("tyNb"),a=[{label:"Demi-elfe",bonus:"+2cha, +1 \xe0 deux autres carac",racial:1},{label:"Demi-orque",bonus:"+2for, +1con",racial:2},{label:"Drak\xe9ide",bonus:"+2for, +1cha",racial:3},{label:"Elfe",subraces:[{label:"Elfe des bois",bonus:"+2dex, +1sag",racial:4},{label:"Haut-elfe",bonus:"+2dex, +1int",racial:5}]},{label:"Gnome",subraces:[{label:"Gnome des for\xeats",bonus:"+2int, +1dex",racial:6},{label:"Gnome des roches",bonus:"+2int, +1con",racial:7}]},{label:"Halfelin",subraces:[{label:"Halfelin corpulent",bonus:"+2dex, +1con",racial:8},{label:"Halfelin pieds-l\xe9ger",bonus:"+2dex, +1cha",racial:9}]},{label:"Humain",subraces:[{label:"Humain",bonus:"+1 all",racial:10},{label:"Humain (variante)",bonus:"+1 \xe0 deux carac, 1 comp\xe9tence maitris\xe9, 1 don",racial:14}]},{label:"Nain",subraces:[{label:"Nain des collines",bonus:"+2con, +1sag",racial:11},{label:"Nain des montagnes",bonus:"+2con, +2for",racial:12}]},{label:"Aasimar",subraces:[{label:"Protecteur",bonus:"+2cha, +1sag",racial:21},{label:"Fl\xe9au",bonus:"+2cha, +1con",racial:22},{label:"D\xe9chu",bonus:"+2cha, +1for",racial:23}]},{label:"Tieffelin",subraces:[{label:"standard",bonus:"+2cha, +1int",racial:13},{label:"Bloodline of Glasya",bonus:"+2cha, +1dex",racial:24}]},{label:"Firbolg",bonus:"+2sag, +1for",racial:15},{label:"Goliath",bonus:"+2for, +1con",racial:16},{label:"Kenku",bonus:"+2dex, +1sag",racial:17},{label:"Tabaxi",bonus:"+2dex, +1cha",racial:18},{label:"Tortle",bonus:"+2for, +1sag",racial:19},{label:"Triton",bonus:"+1for, +1con, +1cha",racial:20},{label:"Kitsune Zenko",bonus:"+2dex, +1sag",racial:4}],c=[{label:"Force",score:8,racial:0,value:8,mod:-1,id:1,bonus:0,tooltip:"str"},{label:"Dext\xe9rit\xe9",score:8,racial:0,value:8,mod:-1,id:2,bonus:0,tooltip:"dex"},{label:"Constitution",score:8,racial:0,value:8,mod:-1,id:3,bonus:0,tooltip:"con"},{label:"Intelligence",score:8,racial:0,value:8,mod:-1,id:4,bonus:0,tooltip:"int"},{label:"Sagesse",score:8,racial:0,value:8,mod:-1,id:5,bonus:0,tooltip:"sag"},{label:"Charisme",score:8,racial:0,value:8,mod:-1,id:6,bonus:0,tooltip:"cha"}],l=[{id:1,bonus:[{id:6,bonus:2},{others:2,except:6}]},{id:2,bonus:[{id:1,bonus:2},{id:3,bonus:1}]},{id:3,bonus:[{id:1,bonus:2},{id:6,bonus:1}]},{id:4,bonus:[{id:2,bonus:2},{id:5,bonus:1}]},{id:5,bonus:[{id:2,bonus:2},{id:4,bonus:1}]},{id:6,bonus:[{id:4,bonus:2},{id:2,bonus:1}]},{id:7,bonus:[{id:4,bonus:2},{id:3,bonus:1}]},{id:8,bonus:[{id:2,bonus:2},{id:3,bonus:1}]},{id:9,bonus:[{id:2,bonus:2},{id:6,bonus:1}]},{id:10,bonus:[{id:1,bonus:1},{id:2,bonus:1},{id:3,bonus:1},{id:4,bonus:1},{id:5,bonus:1},{id:6,bonus:1}]},{id:11,bonus:[{id:3,bonus:2},{id:5,bonus:1}]},{id:12,bonus:[{id:3,bonus:2},{id:1,bonus:2}]},{id:13,bonus:[{id:6,bonus:2},{id:4,bonus:1}]},{id:14,bonus:[{others:2}]},{id:15,bonus:[{id:5,bonus:2},{id:1,bonus:1}]},{id:16,bonus:[{id:1,bonus:2},{id:3,bonus:1}]},{id:17,bonus:[{id:2,bonus:2},{id:5,bonus:1}]},{id:18,bonus:[{id:2,bonus:2},{id:6,bonus:1}]},{id:19,bonus:[{id:1,bonus:2},{id:5,bonus:1}]},{id:20,bonus:[{id:1,bonus:1},{id:3,bonus:1},{id:6,bonus:1}]},{id:21,bonus:[{id:6,bonus:2},{id:5,bonus:1}]},{id:22,bonus:[{id:6,bonus:2},{id:3,bonus:1}]},{id:23,bonus:[{id:6,bonus:2},{id:1,bonus:1}]},{id:23,bonus:[{id:6,bonus:2},{id:2,bonus:1}]}],b=o("fXoL");function r(e,n){if(1&e){var o=b.Tb();b.Sb(0,"option",26),b.ac("click",(function(){b.tc(o);var e=n.$implicit;return b.ec(3).selectRace(e)})),b.Bc(1),b.Rb()}if(2&e){var t=n.$implicit;b.kc("value",t.racial),b.zb(1),b.Ec("",t.label," (",t.bonus,")")}}function d(e,n){if(1&e&&(b.Sb(0,"optgroup"),b.zc(1,r,2,3,"option",25),b.Rb()),2&e){var o=b.ec().$implicit;b.Ab("label",o.label),b.zb(1),b.kc("ngForOf",o.subraces)}}function u(e,n){if(1&e){var o=b.Tb();b.Sb(0,"option",26),b.ac("click",(function(){b.tc(o);var e=b.ec().$implicit;return b.ec().selectRace(e)})),b.Bc(1),b.Rb()}if(2&e){var t=b.ec().$implicit;b.kc("value",t.racial),b.zb(1),b.Ec("",t.label," (",t.bonus,")")}}function h(e,n){if(1&e&&(b.zc(0,d,2,2,"optgroup",23),b.zc(1,u,2,3,"option",24)),2&e){var o=n.$implicit;b.kc("ngIf",o.subraces),b.zb(1),b.kc("ngIf",!o.subraces)}}function p(e,n){if(1&e){var o=b.Tb();b.Sb(0,"div",32),b.Sb(1,"label"),b.Sb(2,"input",33),b.ac("change",(function(){b.tc(o);var e=b.ec().$implicit;return b.ec().chooseBonus(e)})),b.Rb(),b.Ob(3,"span",34),b.Bc(4," Bonus racial "),b.Rb(),b.Rb()}if(2&e){var t=b.ec().$implicit,i=b.ec();b.zb(1),b.Bb(t.bonus?"black-text text-bold":""),b.zb(1),b.kc("disabled",0===t.bonus&&i.othersBonus<=0)}}function f(e,n){if(1&e){var o=b.Tb();b.Sb(0,"tr"),b.Sb(1,"td"),b.Bc(2),b.Sb(3,"i",27),b.Bc(4,"help"),b.Rb(),b.zc(5,p,5,4,"div",28),b.Rb(),b.Sb(6,"td"),b.Bc(7),b.Rb(),b.Sb(8,"td"),b.Bc(9),b.Rb(),b.Sb(10,"td"),b.Sb(11,"button",29),b.ac("click",(function(){b.tc(o);var e=n.$implicit;return b.ec().add(e)})),b.Sb(12,"i",30),b.Bc(13,"add"),b.Rb(),b.Rb(),b.Sb(14,"button",31),b.ac("click",(function(){b.tc(o);var e=n.$implicit;return b.ec().remove(e)})),b.Sb(15,"i",30),b.Bc(16,"remove"),b.Rb(),b.Rb(),b.Rb(),b.Rb()}if(2&e){var t=n.$implicit,i=n.index,s=b.ec();b.Bb(i%2==1?"blue lighten-4":""),b.zb(1),b.Eb("text-bold","points27"===s.mode&&15===t.score||"points35"===s.mode&&17===t.score),b.zb(1),b.Dc(" ",t.label," "),b.zb(1),b.Ab("title",s.tooltips[t.tooltip]),b.zb(2),b.kc("ngIf",s.raceWithBonus&&s.exceptBonus-1!==i),b.zb(1),b.Eb("text-bold","points27"===s.mode&&15===t.score||"points35"===s.mode&&17===t.score),b.zb(1),b.Cc(t.value),b.zb(1),b.Eb("text-bold","points27"===s.mode&&15===t.score||"points35"===s.mode&&17===t.score),b.zb(1),b.Cc(t.mod),b.zb(2),b.kc("disabled","points27"===s.mode&&15===t.score||"points35"===s.mode&&17===t.score||("points27"===s.mode||"points35"===s.mode)&&s.points<s.cost(t.score,t.score+1)),b.zb(3),b.kc("disabled","points27"===s.mode&&8===t.score||"points35"===s.mode&&6===t.score)}}function g(e,n){if(1&e&&(b.Sb(0,"div",35),b.Bc(1),b.Rb()),2&e){var o=b.ec();b.zb(1),b.Dc("Points : ",o.points,"")}}var m,v,C,k=[{path:"",component:(m=function(){function e(){_classCallCheck(this,e),this.mode="points27",this.races=a,this.table=JSON.parse(JSON.stringify(c)),this.points=27,this.totalMods=-6,this.othersBonus=0,this.raceWithBonus=!1,this.exceptBonus=0,this.tooltips={str:"Puissance physique, aptitude athl\xe9tique naturelle",dex:"Agilit\xe9, r\xe9flexes, \xe9quilibre",con:"Sant\xe9, endurance, force vitale",int:"Acuit\xe9 mentale, raisonnement, m\xe9moire",sag:"Perception, intuition, perspicacit\xe9",cha:"Force de personnalit\xe9, \xe9loquence, leadership"}}return _createClass(e,[{key:"ngAfterViewInit",value:function(){$("#select-race").change(this.onSelectRace.bind(this)),$('[data-toggle="tooltip"]').tooltip()}},{key:"onSelectRace",value:function(e){this.resetOthersBonus();for(var n=l[e.target.value-1].bonus,o=0;o<6;o++)this.table[o].racial=0;for(var t=0;t<n.length;t++){var i=n[t];i.others?(this.raceWithBonus=!0,this.othersBonus=i.others,this.exceptBonus=i.except):this.table[i.id-1].racial=i.bonus}for(var s=0;s<6;s++)this.valueChanged(this.table[s])}},{key:"between",value:function(e,n,o){return e>=n&&e<=o}},{key:"cost",value:function(e,n){return this.between(e,8,13)&&this.between(n,8,13)?1:this.between(e,13,15)&&this.between(n,13,15)?2:this.between(e,15,17)&&this.between(n,15,17)?3:this.between(e,6,8)&&this.between(n,6,8)?2:void 0}},{key:"add",value:function(e){if("free"===this.mode)return e.score+=1,this.valueChanged(e);if(!("points27"===this.mode&&e.score>=15||"points35"===this.mode&&e.score>=17)){var n=this.cost(e.score,e.score+1);this.points<n||(this.points-=n,e.score+=1,this.valueChanged(e))}}},{key:"remove",value:function(e){if("free"===this.mode)return e.score-=1,this.valueChanged(e);"points27"===this.mode&&e.score<=8||"points35"===this.mode&&e.score<=6||(this.points+=this.cost(e.score,e.score-1),e.score-=1,this.valueChanged(e))}},{key:"valueChanged",value:function(e){var n=e.score+e.racial+e.bonus;e.value=n,e.mod=Math.floor(n/2-5),this.calcTotalMod()}},{key:"calcTotalMod",value:function(){this.totalMods=0;for(var e=0;e<6;e++)this.totalMods+=this.table[e].mod}},{key:"resetOthersBonus",value:function(){$(".other-bonus").attr("checked",!1),this.raceWithBonus=!1,this.othersBonus=0,this.exceptBonus=0;for(var e=0;e<6;e++)this.table[e].bonus=0}},{key:"chooseBonus",value:function(e){0===e.bonus&&this.othersBonus<=0||(e.bonus?(e.bonus=0,this.othersBonus+=1,this.valueChanged(e)):(e.bonus=1,this.othersBonus-=1,this.valueChanged(e)))}},{key:"reset",value:function(){this.table=JSON.parse(JSON.stringify(c)),this.resetOthersBonus(),$("#select-race").val(""),"points27"===this.mode?this.points=27:"points35"===this.mode&&(this.points=35)}}]),e}(),m.\u0275fac=function(e){return new(e||m)},m.\u0275cmp=b.Hb({type:m,selectors:[["app-dd-builder"]],decls:36,vars:5,consts:[[1,"container"],[1,"row"],[1,"center-align","underlined-title"],[1,"input-field","col-6"],["id","select-race",1,"custom-select"],["value","","disabled","","selected",""],["ngFor","",3,"ngForOf"],[1,"col-6","total-mods"],[1,"center-align"],[1,"carac-table","bordered","centered","col-12"],[1,"light-blue"],["data-field","carac"],["data-field","score"],["data-field","mod"],["data-field","actions"],[1,"light-blue","lighten-5"],[3,"class",4,"ngFor","ngForOf"],[1,"text-right","col-6"],[1,"custom-select","mode",3,"ngModel","ngModelChange"],["value","points27","selected",""],["value","points35","selected",""],["value","free"],["class","center-align col-6 points",4,"ngIf"],[4,"ngIf"],[3,"value","click",4,"ngIf"],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],["data-placement","right","data-toggle","tooltip",1,"material-icons","tooltipped"],["class","switch",4,"ngIf"],[1,"btn-floating","waves-effect","waves-light","btn","green",3,"disabled","click"],[1,"material-icons","left"],[1,"btn-floating","waves-effect","waves-light","btn","red",3,"disabled","click"],[1,"switch"],["type","checkbox",1,"other-bonus",3,"disabled","change"],[1,"lever"],[1,"center-align","col-6","points"]],template:function(e,n){1&e&&(b.Sb(0,"div",0),b.Sb(1,"div",1),b.Sb(2,"h3",2),b.Bc(3,"D&D 5 - Carac builder"),b.Rb(),b.Rb(),b.Sb(4,"div",1),b.Sb(5,"div",3),b.Sb(6,"select",4),b.Sb(7,"option",5),b.Bc(8,"S\xe9lectionnez votre race"),b.Rb(),b.zc(9,h,2,2,"ng-template",6),b.Rb(),b.Rb(),b.Sb(10,"div",7),b.Sb(11,"h5",8),b.Bc(12),b.Rb(),b.Rb(),b.Rb(),b.Sb(13,"div",1),b.Sb(14,"table",9),b.Sb(15,"thead",10),b.Sb(16,"tr"),b.Sb(17,"th",11),b.Bc(18,"Caract\xe9ristiques"),b.Rb(),b.Sb(19,"th",12),b.Bc(20,"Score"),b.Rb(),b.Sb(21,"th",13),b.Bc(22,"Modificateur"),b.Rb(),b.Ob(23,"th",14),b.Rb(),b.Rb(),b.Sb(24,"tbody",15),b.zc(25,f,17,16,"tr",16),b.Rb(),b.Rb(),b.Rb(),b.Sb(26,"div",1),b.Sb(27,"div",17),b.Sb(28,"select",18),b.ac("ngModelChange",(function(e){return n.mode=e}))("ngModelChange",(function(){return n.reset()})),b.Sb(29,"option",19),b.Bc(30,"Mode par points (27 points, min 8, max 15)"),b.Rb(),b.Sb(31,"option",20),b.Bc(32,"Mode par points h\xe9ro\xefque (35 points, min 6, max 17)"),b.Rb(),b.Sb(33,"option",21),b.Bc(34,"Libre"),b.Rb(),b.Rb(),b.Rb(),b.zc(35,g,2,1,"div",22),b.Rb(),b.Rb()),2&e&&(b.zb(9),b.kc("ngForOf",n.races),b.zb(3),b.Dc("Total modificateurs : ",n.totalMods,""),b.zb(13),b.kc("ngForOf",n.table),b.zb(3),b.kc("ngModel",n.mode),b.zb(7),b.kc("ngIf","points27"===n.mode||"points35"===n.mode))},directives:[i.g,i.j,t.j,i.i,i.e,i.f,t.k],styles:[".carac-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-radius:0}.dropdown-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#03a9f4}.select-dropdown[_ngcontent-%COMP%]   li.optgroup[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#81d4fa}.select-dropdown[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#01579b}.underlined-title[_ngcontent-%COMP%]{border-bottom:2px solid;border-color:#01579b;margin-left:auto;margin-right:auto;width:50%}.total-mods[_ngcontent-%COMP%]{margin-top:15px}.tooltipped[_ngcontent-%COMP%]{cursor:pointer}table.centered[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table.centered[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:15px 5px;display:table-cell;vertical-align:middle}.btn-floating[_ngcontent-%COMP%]{border-radius:50%;width:37px;height:37px;line-height:37px;padding:0}.btn-floating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:inherit;display:inline-block;text-align:center;color:#fff;font-size:1.6rem;line-height:37px}.btn-floating[_ngcontent-%COMP%]:disabled{background-color:#dfdfdf!important;box-shadow:none;color:#9f9f9f!important;cursor:default}.green[_ngcontent-%COMP%]{background-color:#4caf50!important}.red[_ngcontent-%COMP%]{background-color:#f44336!important}select[_ngcontent-%COMP%]{margin-top:25px}.points[_ngcontent-%COMP%]{font-size:2.28rem}.custom-select.mode[_ngcontent-%COMP%]{margin-top:10px}"]}),m)}],M=((C=function e(){_classCallCheck(this,e)}).\u0275mod=b.Lb({type:C}),C.\u0275inj=b.Kb({factory:function(e){return new(e||C)},imports:[[s.f.forChild(k)],s.f]}),C),O=((v=function e(){_classCallCheck(this,e)}).\u0275mod=b.Lb({type:v}),v.\u0275inj=b.Kb({factory:function(e){return new(e||v)},imports:[[t.c,i.c,M]]}),v)}}]);