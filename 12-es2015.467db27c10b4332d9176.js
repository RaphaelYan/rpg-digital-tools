(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{ySM7:function(e,n,o){"use strict";o.r(n),o.d(n,"DdSpellsModule",(function(){return z}));var t=o("ofXK"),c=o("3Pt+"),l=o("tyNb"),i=o("lJxs"),r=o("fXoL"),s=o("UbJi"),b=o("I/3d");function a(e,n){if(1&e&&(r.Sb(0,"tr"),r.Sb(1,"td"),r.Bc(2),r.Rb(),r.Sb(3,"td"),r.Bc(4),r.Rb(),r.Sb(5,"td"),r.Bc(6),r.Rb(),r.Sb(7,"td"),r.Bc(8),r.Rb(),r.Sb(9,"td"),r.Bc(10),r.Rb(),r.Sb(11,"td"),r.Bc(12),r.Rb(),r.Sb(13,"td"),r.Bc(14),r.Rb(),r.Sb(15,"td"),r.Bc(16),r.Rb(),r.Sb(17,"td"),r.Sb(18,"a",4),r.Bc(19,"D\xe9tails"),r.Rb(),r.Rb(),r.Rb()),2&e){const e=n.$implicit;r.zb(2),r.Cc(e.name),r.zb(2),r.Cc(e.level),r.zb(2),r.Cc(e.school),r.zb(2),r.Cc(e.casting_time),r.zb(2),r.Cc(e.concentration?"Oui":"Non"),r.zb(2),r.Cc(e.ritual?"Oui":"Non"),r.zb(2),r.Cc(e.description_short),r.zb(2),r.Cc(e.source),r.zb(2),r.kc("routerLink","/dd-spells/"+e.id)}}function d(e,n){if(1&e){const e=r.Tb();r.Sb(0,"div"),r.Sb(1,"div",5),r.Sb(2,"label",6),r.Bc(3,"Nom"),r.Rb(),r.Sb(4,"input",7),r.ac("ngModelChange",(function(n){return r.tc(e),r.ec().spellForm.name=n})),r.Rb(),r.Rb(),r.Sb(5,"div",5),r.Sb(6,"label",8),r.Bc(7,"Description courte"),r.Rb(),r.Sb(8,"textarea",9),r.ac("ngModelChange",(function(n){return r.tc(e),r.ec().spellForm.description_short=n})),r.Rb(),r.Rb(),r.Sb(9,"div",5),r.Sb(10,"label",10),r.Bc(11,"Description"),r.Rb(),r.Sb(12,"textarea",11),r.ac("ngModelChange",(function(n){return r.tc(e),r.ec().spellForm.description=n})),r.Rb(),r.Rb(),r.Sb(13,"div",5),r.Sb(14,"label",12),r.Bc(15,"Niveaux sup\xe9rieurs"),r.Rb(),r.Sb(16,"textarea",13),r.ac("ngModelChange",(function(n){return r.tc(e),r.ec().spellForm.higher_level=n})),r.Rb(),r.Rb(),r.Sb(17,"div",5),r.Sb(18,"label",14),r.Bc(19,"Port\xe9e"),r.Rb(),r.Sb(20,"input",15),r.ac("ngModelChange",(function(n){return r.tc(e),r.ec().spellForm.range=n})),r.Rb(),r.Rb(),r.Sb(21,"div",5),r.Sb(22,"label",16),r.Bc(23,"Composantes"),r.Rb(),r.Sb(24,"input",17),r.ac("ngModelChange",(function(n){return r.tc(e),r.ec().spellForm.components=n})),r.Rb(),r.Rb(),r.Sb(25,"div",5),r.Sb(26,"label",18),r.Bc(27,"Rituel"),r.Rb(),r.Sb(28,"input",19),r.ac("ngModelChange",(function(n){return r.tc(e),r.ec().spellForm.ritual=n})),r.Rb(),r.Rb(),r.Sb(29,"div",5),r.Sb(30,"label",20),r.Bc(31,"Concentration"),r.Rb(),r.Sb(32,"input",21),r.ac("ngModelChange",(function(n){return r.tc(e),r.ec().spellForm.concentration=n})),r.Rb(),r.Rb(),r.Sb(33,"div",5),r.Sb(34,"label",22),r.Bc(35,"Dur\xe9e"),r.Rb(),r.Sb(36,"input",23),r.ac("ngModelChange",(function(n){return r.tc(e),r.ec().spellForm.duration=n})),r.Rb(),r.Rb(),r.Sb(37,"div",5),r.Sb(38,"label",24),r.Bc(39,"Temps d'incantation"),r.Rb(),r.Sb(40,"input",25),r.ac("ngModelChange",(function(n){return r.tc(e),r.ec().spellForm.casting_time=n})),r.Rb(),r.Rb(),r.Sb(41,"div",5),r.Sb(42,"label",26),r.Bc(43,"Niveau"),r.Rb(),r.Sb(44,"input",27),r.ac("ngModelChange",(function(n){return r.tc(e),r.ec().spellForm.level=n})),r.Rb(),r.Rb(),r.Sb(45,"div",5),r.Sb(46,"label",28),r.Bc(47,"\xc9cole"),r.Rb(),r.Sb(48,"select",29),r.ac("ngModelChange",(function(n){return r.tc(e),r.ec().spellForm.school=n})),r.Sb(49,"option",30),r.Bc(50,"Abjuration"),r.Rb(),r.Sb(51,"option",31),r.Bc(52,"Divination"),r.Rb(),r.Sb(53,"option",32),r.Bc(54,"Enchantement"),r.Rb(),r.Sb(55,"option",33),r.Bc(56,"\xc9vocation"),r.Rb(),r.Sb(57,"option",34),r.Bc(58,"Illusion"),r.Rb(),r.Sb(59,"option",35),r.Bc(60,"Invocation"),r.Rb(),r.Sb(61,"option",36),r.Bc(62,"N\xe9cromancie"),r.Rb(),r.Sb(63,"option",37),r.Bc(64,"Transmutation"),r.Rb(),r.Rb(),r.Rb(),r.Sb(65,"div",5),r.Sb(66,"label",38),r.Bc(67,"Classes"),r.Rb(),r.Sb(68,"select",39),r.ac("ngModelChange",(function(n){return r.tc(e),r.ec().spellForm.classes=n})),r.Sb(69,"option",40),r.Bc(70,"Barde"),r.Rb(),r.Sb(71,"option",41),r.Bc(72,"Clerc"),r.Rb(),r.Sb(73,"option",42),r.Bc(74,"Druide"),r.Rb(),r.Sb(75,"option",43),r.Bc(76,"Ensorceleur"),r.Rb(),r.Sb(77,"option",44),r.Bc(78,"Magicien"),r.Rb(),r.Sb(79,"option",45),r.Bc(80,"Occultiste"),r.Rb(),r.Sb(81,"option",46),r.Bc(82,"Paladin"),r.Rb(),r.Sb(83,"option",47),r.Bc(84,"R\xf4deur"),r.Rb(),r.Sb(85,"option",48),r.Bc(86,"Artificier"),r.Rb(),r.Rb(),r.Rb(),r.Sb(87,"div",5),r.Sb(88,"label",49),r.Bc(89,"Source"),r.Rb(),r.Sb(90,"select",50),r.ac("ngModelChange",(function(n){return r.tc(e),r.ec().spellForm.source=n})),r.Sb(91,"option",51),r.Bc(92,"Player\xb4s Handbook"),r.Rb(),r.Sb(93,"option",52),r.Bc(94,"Xanathar\xb4s Guide to Everything"),r.Rb(),r.Sb(95,"option",53),r.Bc(96,"Tasha\xb4s Cauldron of Everything"),r.Rb(),r.Sb(97,"option",54),r.Bc(98,"Fizban\xb4s Treasury of Dragons"),r.Rb(),r.Sb(99,"option",55),r.Bc(100,"Custom"),r.Rb(),r.Rb(),r.Rb(),r.Sb(101,"button",56),r.ac("click",(function(){return r.tc(e),r.ec().addSpell()})),r.Bc(102,"Enregistrer"),r.Rb(),r.Rb()}if(2&e){const e=r.ec();r.zb(4),r.kc("ngModel",e.spellForm.name),r.zb(4),r.kc("ngModel",e.spellForm.description_short),r.zb(4),r.kc("ngModel",e.spellForm.description),r.zb(4),r.kc("ngModel",e.spellForm.higher_level),r.zb(4),r.kc("ngModel",e.spellForm.range),r.zb(4),r.kc("ngModel",e.spellForm.components),r.zb(4),r.kc("ngModel",e.spellForm.ritual),r.zb(4),r.kc("ngModel",e.spellForm.concentration),r.zb(4),r.kc("ngModel",e.spellForm.duration),r.zb(4),r.kc("ngModel",e.spellForm.casting_time),r.zb(4),r.kc("ngModel",e.spellForm.level),r.zb(4),r.kc("ngModel",e.spellForm.school),r.zb(20),r.kc("ngModel",e.spellForm.classes),r.zb(22),r.kc("ngModel",e.spellForm.source)}}let p=(()=>{class e{constructor(e,n){this.angularFireAuth=e,this.afs=n,this.spellForm={}}ngOnInit(){this.resetSpellForm(),this.angularFireAuth.authState.subscribe(e=>{e&&(this.user=e,this.spellsCollection=this.afs.collection("dd5-spells",e=>e.orderBy("name","asc")),this.spells=this.spellsCollection.snapshotChanges().pipe(Object(i.a)(e=>e.map(e=>{const n=e.payload.doc.data();return Object.assign({id:e.payload.doc.id},n)}))))})}addSpell(){this.spellsCollection.add(Object.assign({author_uid:this.user.uid,author_name:this.user.displayName,created_at:Date.now()},this.spellForm)),this.resetSpellForm()}resetSpellForm(){this.spellForm={name:"",description:"",description_short:"",higher_level:"",range:"",components:"",ritual:!1,duration:"",concentration:!1,casting_time:"",level:1,school:"",classes:"",source:"",tags:[]}}}return e.\u0275fac=function(n){return new(n||e)(r.Nb(s.a),r.Nb(b.a))},e.\u0275cmp=r.Hb({type:e,selectors:[["app-dd-spells"]],decls:26,vars:4,consts:[[1,"table-container"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"routerLink"],[1,"form-group"],["for","name"],["type","text","id","name","placeholder","Nom",1,"form-control",3,"ngModel","ngModelChange"],["for","description_short"],["id","description_short","rows","3","placeholder","Description courte",1,"form-control",3,"ngModel","ngModelChange"],["for","description"],["id","description","rows","3","placeholder","Description",1,"form-control",3,"ngModel","ngModelChange"],["for","higher_level"],["id","higher_level","rows","3","placeholder","Lorsque vous lancez ce sort en utilisant un emplacement de sort de niveau ...",1,"form-control",3,"ngModel","ngModelChange"],["for","range"],["type","text","id","range","placeholder","18 m\xe8tres",1,"form-control",3,"ngModel","ngModelChange"],["for","components"],["type","text","id","components","placeholder","V, S, M, un diamant",1,"form-control",3,"ngModel","ngModelChange"],["for","ritual"],["type","checkbox","id","ritual",1,"form-control",3,"ngModel","ngModelChange"],["for","concentration"],["type","checkbox","id","concentration",1,"form-control",3,"ngModel","ngModelChange"],["for","duration"],["type","text","id","duration","placeholder","1 round",1,"form-control",3,"ngModel","ngModelChange"],["for","casting_time"],["type","text","id","casting_time","placeholder","1 round",1,"form-control",3,"ngModel","ngModelChange"],["for","level"],["type","number","id","level","min","0","max","9","placeholder","1",1,"form-control",3,"ngModel","ngModelChange"],["for","school"],["id","school",1,"form-control",3,"ngModel","ngModelChange"],["value","Abjuration"],["value","Divination"],["value","Enchantement"],["value","\xc9vocation"],["value","Illusion"],["value","Invocation"],["value","N\xe9cromancie"],["value","Transmutation"],["for","classes"],["id","classes","multiple","","size","8",1,"form-control",3,"ngModel","ngModelChange"],["value","Barde"],["value","Clerc"],["value","Druide"],["value","Ensorceleur"],["value","Magicien"],["value","Occultiste"],["value","Paladin"],["value","R\xf4deur"],["value","Artificier"],["for","source"],["id","source",1,"form-control",3,"ngModel","ngModelChange"],["value","base"],["value","xgte"],["value","tcoe"],["value","ftod"],["value","custom"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,n){1&e&&(r.Sb(0,"div",0),r.Sb(1,"table",1),r.Sb(2,"thead"),r.Sb(3,"tr"),r.Sb(4,"th"),r.Bc(5,"Nom"),r.Rb(),r.Sb(6,"th"),r.Bc(7,"Niveau"),r.Rb(),r.Sb(8,"th"),r.Bc(9,"\xc9cole"),r.Rb(),r.Sb(10,"th"),r.Bc(11,"Incantation"),r.Rb(),r.Sb(12,"th"),r.Bc(13,"Concentration"),r.Rb(),r.Sb(14,"th"),r.Bc(15,"Rituel"),r.Rb(),r.Sb(16,"th"),r.Bc(17,"Description courte"),r.Rb(),r.Sb(18,"th"),r.Bc(19,"Source"),r.Rb(),r.Ob(20,"th"),r.Rb(),r.Rb(),r.Sb(21,"tbody"),r.zc(22,a,20,9,"tr",2),r.fc(23,"async"),r.Rb(),r.Rb(),r.Rb(),r.Ob(24,"hr"),r.zc(25,d,103,14,"div",3)),2&e&&(r.zb(22),r.kc("ngForOf",r.gc(23,2,n.spells)),r.zb(3),r.kc("ngIf",n.user))},directives:[t.j,t.k,l.e,c.b,c.e,c.f,c.a,c.h,c.i,c.g,c.k,c.j],pipes:[t.b],styles:["@media (max-width:1023px){.table-container[_ngcontent-%COMP%]{overflow-x:scroll}}"]}),e})();var u=o("SxV6");function g(e,n){1&e&&(r.Qb(0),r.Bc(1,"(rituel)"),r.Pb())}function h(e,n){1&e&&(r.Qb(0),r.Bc(1,"Concentration, jusqu'\xe0 "),r.Pb())}function m(e,n){if(1&e&&(r.Sb(0,"div"),r.Bc(1),r.Rb()),2&e){const e=r.ec(2);r.zb(1),r.Cc(e.spell.higher_level)}}function S(e,n){if(1&e&&(r.Sb(0,"span",7),r.Bc(1),r.Rb()),2&e){const e=n.$implicit;r.zb(1),r.Cc(e)}}function R(e,n){if(1&e&&(r.Sb(0,"div"),r.Bc(1," Tags : "),r.zc(2,S,2,1,"span",6),r.Rb()),2&e){const e=r.ec(2);r.zb(2),r.kc("ngForOf",e.spell.tags)}}function f(e,n){if(1&e&&(r.Sb(0,"span",7),r.Bc(1),r.Rb()),2&e){const e=n.$implicit;r.zb(1),r.Cc(e)}}function v(e,n){if(1&e&&(r.Sb(0,"div"),r.Bc(1," Classes : "),r.zc(2,f,2,1,"span",6),r.Rb()),2&e){const e=r.ec(2);r.zb(2),r.kc("ngForOf",e.spell.classes)}}function B(e,n){if(1&e&&(r.Sb(0,"div",1),r.Sb(1,"div",2),r.Sb(2,"div",3),r.Sb(3,"h1"),r.Bc(4),r.Rb(),r.Sb(5,"div"),r.Bc(6),r.zc(7,g,2,0,"ng-container",4),r.Rb(),r.Sb(8,"div"),r.Bc(9),r.Rb(),r.Sb(10,"div"),r.Bc(11),r.Rb(),r.Sb(12,"div"),r.Bc(13),r.Rb(),r.Sb(14,"div"),r.Bc(15," Dur\xe9e : "),r.zc(16,h,2,0,"ng-container",4),r.Bc(17),r.Rb(),r.Ob(18,"div",5),r.zc(19,m,2,1,"div",4),r.zc(20,R,3,1,"div",4),r.zc(21,v,3,1,"div",4),r.Sb(22,"div"),r.Bc(23),r.Rb(),r.Rb(),r.Rb(),r.Rb()),2&e){const e=r.ec();r.zb(4),r.Cc(e.spell.name),r.zb(2),r.Ec(" Niveau ",e.spell.level," - ",e.spell.school," "),r.zb(1),r.kc("ngIf",e.spell.ritual),r.zb(2),r.Dc("Temps d'incantation : ",e.spell.casting_time,""),r.zb(2),r.Dc("Port\xe9e : ",e.spell.range,""),r.zb(2),r.Dc("Composantes : ",e.spell.components,""),r.zb(3),r.kc("ngIf",e.spell.concentration),r.zb(1),r.Dc(" ",e.spell.duration," "),r.zb(1),r.kc("innerHtml",e.spell.description,r.uc),r.zb(1),r.kc("ngIf",e.spell.higher_level),r.zb(1),r.kc("ngIf",null==e.spell.tags?null:e.spell.tags.length),r.zb(1),r.kc("ngIf",null==e.spell.classes?null:e.spell.classes.length),r.zb(2),r.Dc("Source : ",e.spell.source,"")}}const M=[{path:"",component:p},{path:":id",component:(()=>{class e{constructor(e,n,o,t){this.activatedRoute=e,this.router=n,this.auth=o,this.afs=t,this.spell=null}ngOnInit(){const e=this.activatedRoute.snapshot.params;e.id?(this.spellDoc=this.afs.doc("dd5-spells/"+e.id),this.spell$=this.spellDoc.snapshotChanges(),this.spell$.pipe(Object(u.a)()).subscribe(e=>{this.spell=e.payload.data()})):this.router.navigateByUrl("/dd-spells")}}return e.\u0275fac=function(n){return new(n||e)(r.Nb(l.a),r.Nb(l.c),r.Nb(s.a),r.Nb(b.a))},e.\u0275cmp=r.Hb({type:e,selectors:[["app-dd-spell"]],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-md-12"],[4,"ngIf"],[1,"description",3,"innerHtml"],["class","badge badge-primary",4,"ngFor","ngForOf"],[1,"badge","badge-primary"]],template:function(e,n){1&e&&r.zc(0,B,24,14,"div",0),2&e&&r.kc("ngIf",n.spell)},directives:[t.k,t.j],styles:[".badge[_ngcontent-%COMP%]{margin-left:10px}.description[_ngcontent-%COMP%]{margin-top:15px;margin-bottom:15px;white-space:pre-wrap;border-left:3px solid #d3d3d3;padding-left:10px}"]}),e})()}];let C=(()=>{class e{}return e.\u0275mod=r.Lb({type:e}),e.\u0275inj=r.Kb({factory:function(n){return new(n||e)},imports:[[l.f.forChild(M)],l.f]}),e})(),z=(()=>{class e{}return e.\u0275mod=r.Lb({type:e}),e.\u0275inj=r.Kb({factory:function(n){return new(n||e)},imports:[[t.c,c.c,C]]}),e})()}}]);